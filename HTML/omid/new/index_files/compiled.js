// Copyright 2006 The Closure Library Authors. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS-IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
(function(wnd) {var f,aa=aa||{},ca=this;function l(a){return void 0!==a}function da(){}function ea(a){a.j=function(){return a.Wd?a.Wd:a.Wd=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return null===a}function ha(a){return null!=a}function ia(a){return"array"==fa(a)}function ja(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ka(a){return"string"==typeof a}function la(a){return"boolean"==typeof a}function ma(a){return"number"==typeof a}function na(a){return"function"==fa(a)}function oa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}
function pa(a){return a[qa]||(a[qa]=++ra)}var qa="closure_uid_"+(1E9*Math.random()>>>0),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}function ta(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function m(a,b,c){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return m.apply(null,arguments)}function ua(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function va(a,b){for(var c in b)a[c]=b[c]}var wa=Date.now||function(){return+new Date};
function xa(a,b){var c=a.split("."),d=ca;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&l(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}function n(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Qn=function(a,c,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};var ya={DataObjectFactory:{gui_pages:"wnd.data.DbDataObject",gui_page_templates:"wnd.data.DbDataObject",filesystem_files:"wnd.data.DbDataObject",filesystem_dir:"wnd.data.DbDataObject",my_videos:"wnd.data.DbDataObject",listing_items:"wnd.data.DbDataObject",server_projects:"wnd.data.ServerProjectDbDataObject",fe_users:"wnd.data.DbDataObject",fe_groups:"wnd.data.DbDataObject"},DataCollectionFactory:{fe_languages:"wnd.data.DbDataCollection",admin_languages:"wnd.data.DbDataCollection",gui_pages:"wnd.data.DbDataCollection",
filesystem_files:"wnd.data.DbDataCollection",my_videos:"wnd.data.DbDataCollection",listing_items:"wnd.data.DbDataCollection",static_server:"wnd.data.StaticServerDataCollection",tpl_page_templates:"wnd.data.DbDataCollection",page_and_template_styles:"wnd.data.PageAndTemplateStylesCollection",tpl_color_sets:"wnd.data.PrecachedDataCollection",tpl_forms:"wnd.data.DbDataCollection",tpl_form_fields:"wnd.data.DbDataCollection",server_projects:"wnd.data.DbDataCollection",fe_users:"wnd.data.DbDataCollection",
fe_groups:"wnd.data.DbDataCollection"},UndoRedoManager:{fade:{start:.25,end:1,time:1E3}},PremiumContentChecker:{content_items:{backgroundVideo:{path:"style/backgroundSettings/*/*/mediaType",value:["videos","myVideos"],packageLevel:2,exceptionCode:2003}},styles:{backgroundVideo:{path:"backgroundSettings/*/mediaType",value:["videos","myVideos"],packageLevel:2,exceptionCode:2003}}}};var za={Server:{xhrUri:"/servers/usot/",transactionsInProcess:{"default":1,fileUpload:5},maxWaitingTransactions:8,maxReSendTransactionsCount:3,reSendTransactionTimeout:1E3},errorCode:{notEnoughStorage:10202},DbObjectServerRequest:{type:"DbDataRequest"},FileUploadServerRequest:{type:"fileUpload"},FeLangDataRequest:{type:"feLangData"},VideoDataRequest:{type:"DbDataRequest"},StaticServerCollectionServerRequest:{type:"staticServer"},CloneFileServerRequest:{type:"cloneFile"},PublishWebServerRequest:{type:"publishWeb"},
PremiumContentCheckServerRequest:{type:"premiumContentCheck"},ProjectInfoServerRequest:{type:"projectInfo"},DbCollectionServerRequest:{type:"DbCollectionRequest"},UniversalServerTransaction:{type:"universal"},UpdateJsDataServerRequest:{type:"updateJsData"},JSONServerRequest:{type:"JSONServer"},ContentItemServerRequest:{type:"ContentItemServer"},LoginRefreshRequest:{type:"LoginRefresh"},PrecachedCollectionRequest:{type:"PrecachedCollectionRequest"},LoginRefresh:{usotRefreshTime:3E5,authRefreshTime:3E5},
ServerProjectServerRequest:{type:"ServerProjectDbDataRequest"}};var q={ImageSizeManager:{mvcID:"ImageSizeManager",DataType:"image_content_items",backgroundClass:"wnd-background-image",allowTypes:"wnd.pc.ImageBlock wnd.pc.PhotoGalleryBlock wnd.pc.PhotoImageBlock wnd.pc.LogoBlock wnd.pc.Section wnd.pc.HeaderSection wnd.pc.FooterSection".split(" "),replaceTimeout:150},ImageTools:{identifier:"imageTools",orientationRatio:1},VideoLoaderManager:{mvcID:"VideoLoaderManager",className:"wnd-video-background",orientationClassName:{landscape:"orientation-landscape",portrait:"orientation-portrait"},
videoApi:{youtube:"https://www.youtube.com/iframe_api",vimeo:"https://f.vimeocdn.com/js/froogaloop2.min.js"}},UploadManager:{supportedImagesMime:["image/png","image/jpeg","image/gif"],supportedFaviconMime:["image/x-icon"],supportedExifMime:["image/jpeg"],maxResizeImageDimension:1920,maxCanvasResolution:{low:4E3,normal:8E3,high:32E3},processImagesCount:1,imageOrientation:[1,2,3,4,5,6,7,8],imageTransformation:{1:{degree:0,flip:!1,ratio:!1},2:{degree:0,flip:!0,ratio:!1},3:{degree:180,flip:!1,ratio:!1},
4:{degree:180,flip:!1,ratio:!1},5:{degree:90,flip:!0,ratio:!0},6:{degree:90,flip:!1,ratio:!0},7:{degree:-90,flip:!0,ratio:!0},8:{degree:-90,flip:!1,ratio:!0}}},FilesystemPreviewSize:{detail:700,normal:450,small:200}};var Aa=function(){function a(a,b,c){return Math.max(a,Math.min(b,c))}function b(a){return{_:a,fm:function(a){B=this._.Gj;this._.fm(a)},destroy:function(){B=this._.Gj;this._.destroy()}}}function c(a){return b(Nb.fromElement(a))}function d(a,b){var c=B.UNSIGNED_BYTE;if(B.getExtension("OES_texture_float")&&B.getExtension("OES_texture_float_linear")){var d=new Nb(100,100,B.RGBA,B.FLOAT);try{d.Hh(function(){c=B.FLOAT})}catch(e){}d.destroy()}this._.fd&&this._.fd.destroy();this._.gi&&this._.gi.destroy();
this.width=a;this.height=b;this._.fd=new Nb(a,b,B.RGBA,c);this._.gi=new Nb(a,b,B.RGBA,c);this._.ft=this._.ft||new Nb(0,0,B.RGBA,c);this._.yl=this._.yl||new Oh(null,"\r\n        uniform sampler2D texture;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));\r\n        }\r\n    ");this._.Rj=!0}function e(a,b,c){this._.Rj&&a._.width==this.width&&a._.height==this.height||d.call(this,b?b:a._.width,c?c:a._.height);
a._.use();this._.fd.Hh(function(){Oh.Ho().fj()});return this}function g(){this._.fd.use();this._.yl.fj();return this}function h(a,b,c,d){(c||this._.fd).use();this._.gi.Hh(function(){a.ty(b).fj()});this._.gi.hy(d||this._.fd)}function k(a){a.parentNode.insertBefore(this,a);a.parentNode.removeChild(a);return this}function p(){var a=new Nb(this._.fd.width,this._.fd.height,B.RGBA,B.UNSIGNED_BYTE);this._.fd.use();a.Hh(function(){Oh.Ho().fj()});return b(a)}function w(){var a=this._.fd.width,b=this._.fd.height,
c=new Uint8Array(a*b*4);this._.fd.Hh(function(){B.readPixels(0,0,a,b,B.RGBA,B.UNSIGNED_BYTE,c)});return c}function v(a){return function(){B=this._.Gj;return a.apply(this,arguments)}}function C(a){var b=a.length;this.c=[];this.g=[];this.A=[];this.h=[];a.sort(function(a,b){return a[0]-b[0]});for(var c=0;c<b;c++)this.c.push(a[c][0]),this.g.push(a[c][1]);this.A[0]=0;this.h[0]=0;for(c=1;c<b-1;++c){a=this.c[c+1]-this.c[c-1];var d=(this.c[c]-this.c[c-1])/a,e=d*this.h[c-1]+2;this.h[c]=(d-1)/e;this.A[c]=(6*
((this.g[c+1]-this.g[c])/(this.c[c+1]-this.c[c])-(this.g[c]-this.g[c-1])/(this.c[c]-this.c[c-1]))/a-d*this.A[c-1])/e}this.h[b-1]=0;for(c=b-2;0<=c;--c)this.h[c]=this.h[c]*this.h[c+1]+this.A[c]}function G(a){B.mi=B.mi||new Oh(null,"\r\n        uniform sampler2D texture;\r\n        uniform vec2 delta;\r\n        varying vec2 texCoord;\r\n        "+eP+"\r\n        void main() {\r\n            vec4 color = vec4(0.0);\r\n            float total = 0.0;\r\n            \r\n            /* randomize the lookup values to hide the fixed number of samples */\r\n            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\r\n            \r\n            for (float t = -30.0; t <= 30.0; t++) {\r\n                float percent = (t + offset - 0.5) / 30.0;\r\n                float weight = 1.0 - abs(percent);\r\n                vec4 sample = texture2D(texture, texCoord + delta * percent);\r\n                \r\n                /* switch to pre-multiplied alpha to correctly blur transparent images */\r\n                sample.rgb *= sample.a;\r\n                \r\n                color += sample * weight;\r\n                total += weight;\r\n            }\r\n            \r\n            gl_FragColor = color / total;\r\n            \r\n            /* switch back from pre-multiplied alpha */\r\n            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\r\n        }\r\n    ");
h.call(this,B.mi,{delta:[a/this.width,0]});h.call(this,B.mi,{delta:[0,a/this.height]});return this}function J(b){B.oh=B.oh||new Oh(null,"\r\n        uniform sampler2D texture;\r\n        uniform float amount;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            vec4 color = texture2D(texture, texCoord);\r\n            float r = color.r;\r\n            float g = color.g;\r\n            float b = color.b;\r\n            \r\n            color.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\r\n            color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\r\n            color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\r\n            \r\n            gl_FragColor = color;\r\n        }\r\n    ");
h.call(this,B.oh,{amount:a(0,b,1)});return this}function ba(b,c){B.Oj=B.Oj||new Oh(null,"\r\n        uniform sampler2D texture;\r\n        uniform float hue;\r\n        uniform float saturation;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            vec4 color = texture2D(texture, texCoord);\r\n            \r\n            /* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */\r\n            float angle = hue * 3.14159265;\r\n            float s = sin(angle), c = cos(angle);\r\n            vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\r\n            float len = length(color.rgb);\r\n            color.rgb = vec3(\r\n                dot(color.rgb, weights.xyz),\r\n                dot(color.rgb, weights.zxy),\r\n                dot(color.rgb, weights.yzx)\r\n            );\r\n            \r\n            /* saturation adjustment */\r\n            float average = (color.r + color.g + color.b) / 3.0;\r\n            if (saturation > 0.0) {\r\n                color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));\r\n            } else {\r\n                color.rgb += (average - color.rgb) * (-saturation);\r\n            }\r\n            \r\n            gl_FragColor = color;\r\n        }\r\n    ");
h.call(this,B.Oj,{hue:a(-1,b,1),saturation:a(-1,c,1)});return this}function Sa(b,c){B.Oi=B.Oi||new Oh(null,"\r\n        uniform sampler2D texture;\r\n        uniform float brightness;\r\n        uniform float contrast;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            vec4 color = texture2D(texture, texCoord);\r\n            color.rgb += brightness;\r\n            if (contrast > 0.0) {\r\n                color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;\r\n            } else {\r\n                color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;\r\n            }\r\n            gl_FragColor = color;\r\n        }\r\n    ");
h.call(this,B.Oi,{brightness:a(-1,b,1),contrast:a(-1,c,1)});return this}var ac={};(function(){function a(b){if(!b.getExtension("OES_texture_float"))return!1;var c=b.createFramebuffer(),d=b.createTexture();b.bindTexture(b.TEXTURE_2D,d);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,
0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null);b.bindFramebuffer(b.FRAMEBUFFER,c);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);c=b.createTexture();b.bindTexture(b.TEXTURE_2D,c);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,2,2,0,b.RGBA,b.FLOAT,
new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var d=b.createProgram(),e=b.createShader(b.VERTEX_SHADER),g=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(e,"\r\n      attribute vec2 vertex;\r\n      void main() {\r\n        gl_Position = vec4(vertex, 0.0, 1.0);\r\n      }\r\n    ");b.shaderSource(g,"\r\n      uniform sampler2D texture;\r\n      void main() {\r\n        gl_FragColor = texture2D(texture, vec2(0.5));\r\n      }\r\n    ");b.compileShader(e);b.compileShader(g);b.attachShader(d,
e);b.attachShader(d,g);b.linkProgram(d);e=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,e);b.bufferData(b.ARRAY_BUFFER,new Float32Array([0,0]),b.STREAM_DRAW);b.enableVertexAttribArray(0);b.vertexAttribPointer(0,2,b.FLOAT,!1,0,0);e=new Uint8Array(4);b.useProgram(d);b.viewport(0,0,1,1);b.bindTexture(b.TEXTURE_2D,c);b.drawArrays(b.POINTS,0,1);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,e);return 127===e[0]||128===e[0]}function b(){}function c(a){"OES_texture_float_linear"===a?(void 0===this.$OES_texture_float_linear$&&
Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new b}),a=this.$OES_texture_float_linear$):a=h.call(this,a);return a}function d(){var a=k.call(this);-1===a.indexOf("OES_texture_float_linear")&&a.push("OES_texture_float_linear");return a}try{var e=document.createElement("canvas").getContext("experimental-webgl")}catch(g){}if(e&&-1===e.getSupportedExtensions().indexOf("OES_texture_float_linear")&&a(e)){var h=WebGLRenderingContext.prototype.getExtension,
k=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=c;WebGLRenderingContext.prototype.getSupportedExtensions=d}})();var Nb=function(){function a(b,c,d,e){this.Gj=B;this.id=B.createTexture();this.width=b;this.height=c;this.format=d;this.type=e;B.bindTexture(B.TEXTURE_2D,this.id);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.LINEAR);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE);
B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE);b&&c&&B.texImage2D(B.TEXTURE_2D,0,this.format,b,c,0,this.format,this.type,null)}a.fromElement=function(b){var c=new a(0,0,B.RGBA,B.UNSIGNED_BYTE);c.fm(b);return c};a.prototype.fm=function(a){this.width=a.width||a.videoWidth;this.height=a.height||a.videoHeight;B.bindTexture(B.TEXTURE_2D,this.id);B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,a)};a.prototype.destroy=function(){B.deleteTexture(this.id);this.id=null};a.prototype.use=
function(a){B.activeTexture(B.TEXTURE0+(a||0));B.bindTexture(B.TEXTURE_2D,this.id)};a.prototype.Hh=function(a){B.yo=B.yo||B.createFramebuffer();B.bindFramebuffer(B.FRAMEBUFFER,B.yo);B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,this.id,0);if(B.checkFramebufferStatus(B.FRAMEBUFFER)!==B.FRAMEBUFFER_COMPLETE)throw Error("incomplete framebuffer");B.viewport(0,0,this.width,this.height);a();B.bindFramebuffer(B.FRAMEBUFFER,null)};a.prototype.hy=function(a){var b;b=a.id;a.id=this.id;
this.id=b;b=a.width;a.width=this.width;this.width=b;b=a.height;a.height=this.height;this.height=b;b=a.format;a.format=this.format;this.format=b};return a}(),B;ac.canvas=function(){var a=document.createElement("canvas");try{B=a.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch(b){B=null}if(!B)throw"This browser does not support WebGL";a._={Gj:B,Rj:!1,fd:null,gi:null,yl:null};a.fd=v(c);a.draw=v(e);a.update=v(g);a.replace=v(k);a.contents=v(p);a.c=v(w);a.Oi=v(Sa);a.Oj=v(ba);a.mi=v(G);a.oh=
v(J);return a};ac.NC=function(b){b=new C(b);for(var c=[],d=0;256>d;d++)c.push(a(0,Math.floor(256*b.interpolate(d/255)),255));return c};C.prototype.interpolate=function(a){for(var b=0,c=this.g.length-1;1<c-b;){var d=c+b>>1;this.c[d]>a?c=d:b=d}var d=this.c[c]-this.c[b],e=(this.c[c]-a)/d;a=(a-this.c[b])/d;return e*this.g[b]+a*this.g[c]+((e*e*e-e)*this.h[b]+(a*a*a-a)*this.h[c])*d*d/6};var Oh=function(){function a(b,c){var d=B.createShader(b);B.shaderSource(d,c);B.compileShader(d);if(!B.getShaderParameter(d,
B.COMPILE_STATUS))throw"compile error: "+B.getShaderInfoLog(d);return d}function b(c,d){this.h=this.g=null;this.c=B.createProgram();d="precision highp float;"+(d||"\r\n    uniform sampler2D texture;\r\n    varying vec2 texCoord;\r\n    void main() {\r\n        gl_FragColor = texture2D(texture, texCoord);\r\n    }");B.attachShader(this.c,a(B.VERTEX_SHADER,c||"\r\n    attribute vec2 vertex;\r\n    attribute vec2 _texCoord;\r\n    varying vec2 texCoord;\r\n    void main() {\r\n        texCoord = _texCoord;\r\n        gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);\r\n    }"));
B.attachShader(this.c,a(B.FRAGMENT_SHADER,d));B.linkProgram(this.c);if(!B.getProgramParameter(this.c,B.LINK_STATUS))throw"link error: "+B.getProgramInfoLog(this.c);}b.prototype.destroy=function(){B.deleteProgram(this.c);this.c=null};b.prototype.ty=function(a){B.useProgram(this.c);for(var b in a)if(a.hasOwnProperty(b)){var c=B.getUniformLocation(this.c,b);if(null!==c){var d=a[b];if("[object Array]"==Object.prototype.toString.call(d))switch(d.length){case 1:B.uniform1fv(c,new Float32Array(d));break;
case 2:B.uniform2fv(c,new Float32Array(d));break;case 3:B.uniform3fv(c,new Float32Array(d));break;case 4:B.uniform4fv(c,new Float32Array(d));break;case 9:B.uniformMatrix3fv(c,!1,new Float32Array(d));break;case 16:B.uniformMatrix4fv(c,!1,new Float32Array(d));break;default:throw"dont't know how to load uniform \""+b+'" of length '+d.length;}else if("[object Number]"==Object.prototype.toString.call(d))B.uniform1f(c,d);else throw'attempted to set uniform "'+b+'" to invalid value '+(d||"undefined").toString();
}}return this};b.prototype.fj=function(){var a,b,c,d,e=B.getParameter(B.VIEWPORT);b=void 0!==b?(b-e[1])/e[3]:0;a=void 0!==a?(a-e[0])/e[2]:0;c=void 0!==c?(c-e[0])/e[2]:1;d=void 0!==d?(d-e[1])/e[3]:1;null==B.dn&&(B.dn=B.createBuffer());B.bindBuffer(B.ARRAY_BUFFER,B.dn);B.bufferData(B.ARRAY_BUFFER,new Float32Array([a,b,a,d,c,b,c,d]),B.STATIC_DRAW);null==B.Xm&&(B.Xm=B.createBuffer(),B.bindBuffer(B.ARRAY_BUFFER,B.Xm),B.bufferData(B.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),B.STATIC_DRAW));this.g||
(this.g=B.getAttribLocation(this.c,"vertex"),B.enableVertexAttribArray(this.g));this.h||(this.h=B.getAttribLocation(this.c,"_texCoord"),B.enableVertexAttribArray(this.h));B.useProgram(this.c);B.bindBuffer(B.ARRAY_BUFFER,B.dn);B.vertexAttribPointer(this.g,2,B.FLOAT,!1,0,0);B.bindBuffer(B.ARRAY_BUFFER,B.Xm);B.vertexAttribPointer(this.h,2,B.FLOAT,!1,0,0);B.drawArrays(B.TRIANGLE_STRIP,0,4)};b.Ho=function(){B.qo=B.qo||new b;return B.qo};return b}(),eP="\r\n    float random(vec3 scale, float seed) {\r\n        /* use the fragment position for a different seed per-pixel */\r\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\r\n    }\r\n";
return ac}();xa("wnd.static.Glfx",Aa);var r={DragDrop:{scrollAmount:15,scrollSensitivity:100,draggableElRefObjectAttr:"wnd_ref_object",scrollOffset:30},DragDropPlaceholder:{siblingPlaceholderOpacity:.5,backgroundOpacity:.2},StripesDragDrop:{stripeSuffix:"Stripe"},DropStripe:{DDBoxHorizMaxInnerPos:.25,DefaultHorizOffset:0,DefaultVertOffset:0,VertStripeHorizOffset:10,HorizStripeVertOffset:10,ZIndex:65,DragAreaOffset:0,DDBoxInSameFlowLineOffset:2,stripeSize:2},EditableMediaListDropStripe:{DDBoxHorizMaxInnerPos:.5},FloatDropStripe:{defaultContentWidth:33},
Popup:{defaultProperties:{withOverlay:!0,destroyAfterClose:!1,centered:!0},overlayIdentifier:"wnd-popup-overlay",suppression:["wnd_toolbar","wnd_PageZone_1"],animationDuration:{resize:300},defaultZIndex:110,headerOffset:60},Bubble:{arrow:{spaceTop:8,spaceLeft:21,defaultLeft:15},offset:7,defaultZIndex:100},TreeMenu:{defaultCss:{base:"wnd-tree","menu-with-search":"wnd-with-search","search-form":"wnd-tree-search","search-inuse":"inuse","search-not-empty":"not-empty","found-items":"wnd-tree-found-items",
"tree-items":"wnd-tree-items",item:"wnd-tree-item","item-text":"wnd-tree-item-text","item-root":"item-root","item-sys":"wnd-item-sys","item-icons":"wnd-tree-item-icons","item-activated":"item-activated","item-draggable":"item-draggable","item-dragdrop-activated":"item-dragdrop-activated","item-descendants":"item-descendants","item-opened":"item-opened","item-drop-top":"wnd-tree-item-dd-top",group:"wnd-tree-group","item-id-prefix":"wnd_tree_item_","group-id-prefix":"wnd_tree_group_"},minCountForReduced:12,
minCountForSearch:12,clonedItemAttrIndex:"wnd_cloned_index"},TreeMenuDragDrop:{scrollAmount:8,scrollSensitivity:35},PopupContentContainer:{animateOverlayCss:"wnd-switch-group-overlay"},ListingPopup:{DataType:"content_items",dataSettings:{filter:[{prefix:"",key:"listing_items.listing_page_id",operator:"=",value:null,suffix:""}],orderBy:{key:"listing_items.item_order",order:"asc"}},mainContent:{height:"calc(100% - 56px)",width:"100%"}},ListMenu:{defaultCss:{base:"wnd-listing","menu-with-search":"wnd-with-search",
"search-form":"wnd-listing-search","search-inuse":"inuse","search-not-empty":"not-empty",menuItems:"wnd-listing-items",item:"wnd-listing-item","item-text":"wnd-listing-item-text","item-icons":"wnd-listing-item-icons","item-activated":"item-activated","item-draggable":"item-draggable","item-dragdrop-activated":"item-dragdrop-activated","item-drop-top":"wnd-listing-item-dd-top","item-drop-bottom":"wnd-listing-item-dd-bottom","item-id-prefix":"wnd_listing_item_","icon-without-dd":"wnd-icon-without-dd",
"icon-unpublished":"wnd-icon-unpublished","item-locked":"wnd-item-locked"},width:307,height:424,minCountForSearch:12},ListingItemEdit:{width:533,height:424},ValidatorFactory:{validateDate:"wnd.ui.DateValidator",validateEmail:"wnd.ui.EmailValidator",validateUrl:"wnd.ui.UrlValidator",validatePhone:"wnd.ui.PhoneValidator",validateLessThan:"wnd.ui.LessThanValidator",validateVideo:"wnd.ui.VideoValidator",validateHtml:"wnd.ui.HtmlValidator",validateIdentifier:"wnd.ui.IdentifierValidator",validateGoogleAnalytics:"wnd.ui.GoogleAnalyticsValidator"},
ValidatorRegex:{isLink:{onlyUrl:/^http|^ftp|^www\./,urlMailPhone:/^http|^ftp|^www\.|^mailto|\w+@|\w+\.[a-z]{2,}|^tel:\+?([0-9\-])+$/}},OverlayArea:{className:"wnd-overlay-area",defaultZIndex:100,HorizontalResizeClassName:"wnd-type-horizontal-resize",VerticalResizeClassName:"wnd-type-vertical-resize",PopupClassName:"wnd-type-popup",MoveClassName:"wnd-type-move",DisableContentClassName:"wnd-type-transparent"},MediaPopup:{mvcId:"wnd_media_popup",dimension:{withTypes:{width:925,height:560},withoutTypes:{width:860,
height:560}}},MediaHeader:{cssImage:"wnd-choose-image",cssFile:"wnd-choose-file"},MediaTypes:{css:{content:"wnd-media-types",active:"active-type"},width:205,height:"full"},MediaList:{height:445,imagePlaceholder:{src:"client/img/default/photo-placeholder.png",height:118,width:118},itemCssPrefix:"wnd-media-",animationScrollTime:500,itemsOnPage:15,collectionLimit:25,scrollDistance:200},MediaListFilesystem:{myImages:{collectionSettings:{filter:[{key:"filesystem_files.file_group",operator:"=",value:"image",
suffix:""}],orderBy:{key:"filesystem_files.item_order",order:"desc"}}},myFavicons:{collectionSettings:{filter:[{key:"filesystem_files.file_group",operator:"=",value:"favicon",suffix:""}],orderBy:{key:"filesystem_files.item_order",order:"desc"}}},myFiles:{collectionSettings:{filter:[{key:"filesystem_files.file_group",operator:"=",value:"file",suffix:""}],orderBy:{key:"filesystem_files.item_order",order:"desc"}}}},MediaListStaticServer:{publicImages:{dataType:"static_server",collectionSettings:{filter:[{key:"type",
operator:"=",value:"image"}]}},publicIcons:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"icon"}]}},patterns:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"pattern"}]}},videos:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"video"}]}},publicFavicons:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"favicon"}]}}},MediaListSolidColors:{solidColors:{dataType:"tpl_color_sets"}},
MediaListVideos:{myVideos:{collectionSettings:{orderBy:{key:"my_videos.id",order:"desc"}}}},Autocomplete:{minTokenLength:1,selectHeight:300},StyleSwitcher:{fxDurationSlide:250,block:{height:34,width:34},maxItems:14,countItemsByType:{solidColorSchemes:5,solidColors:0,patterns:2,publicImages:5,videos:2}},DropdownSwitcher:{bottomOffset:10,itemsHeightLimit:55,arrowOffset:14},PositionManager:{verticalSegmentDimension:300},CropImagePopup:{mvcId:"wnd_CropImage_1",cookieId:"cropImageArchive",image:{prefix:"image-crop-",
minSize:200,padding:80},selection:{initSize:10,transparency:"rgba(0, 0, 0, 0.5)",gridParts:3},cube:{size:5,color:"#4592e2",colorHover:"#365f89"},line:{width:1,color:"#5b9fe5",colorDotted:"#12202d",dotted:[3,5]}},PremiumPopup:{premiumContent:{className:"wnd-premium-content"},removeWebnodeAds:{className:"wnd-remove-webnode-ads"},memberLogin:{className:"wnd-member-login"},notEnoughStorage:{className:"wnd-not-enough-storage"},multilanguage:{className:"wnd-multilanguage"},multilanguage_upgrade:{className:"wnd-multilanguage"},
premiumUpload:{className:"wnd-premium-upload"},premiumFormItemsLimit:{className:"wnd-premium-form-items-limit"},premiumFormUploadField:{className:"wnd-premium-form-upload-field"},searchIndex:{className:"wnd-premium-search-index"},premiumAnalytics:{className:"wnd-premium-analytics"},premiumFavicon:{className:"wnd-premium-favicon"},headerFooterCode:{className:"wnd-premium-header-footer"}},DefaultPopupProperties:{"wnd.ui.MediaPopup":{width:925,height:560},"wnd.ui.InfoBubble":{width:292},"wnd.ui.PrivateAccessActivationPopup":{width:670,
height:390,extendCssClass:"wnd-private-access"}},ImageTools:{Filters:{"fx-blur-light":{radius:5},"fx-blur-strong":{radius:10},"fx-grayscale":{amount:-1},"fx-grayscale-dark":{amount:-1,brightness:-.1,contrast:.4},"fx-sepia":{amount:1}}},Toolbox:{mvcId:"Toolbox",className:"wnd-toolbox",buttonClassName:"wnd-tbx-button",disabledButtonClassName:"wnd-tbx-disabled",zIndex:45,offset:2,topOffset:60,largeBoxDifference:5,arrowOffset:3,arrowCorrectPosition:5,rightSideOffset:65,leftSideOffset:5,expandedArea:{offset:10,
minWidth:0,maxWidth:120}},InfoBubble:{fadeInAndSlidePause:500,fadeInAndSlideStart:50,fadeInAnimation:1500,slideAnimation:2E3,contentClassName:"wnd-info-bubble-content"},BackgroundStyle:{effectsBrightness:{"fx-blur-light":{color:[0,0,0],alpha:.2},"fx-blur-strong":{color:[0,0,0],alpha:.5},"fx-blur-dark":{color:[0,0,0],alpha:.5},"fx-black-strong":{color:[0,0,0],alpha:.5},"fx-black-light":{color:[0,0,0],alpha:.2},"fx-grayscale-dark":{color:[0,0,0],alpha:.5},"fx-sepia-dark":{color:[0,0,0],alpha:.5}}},
EditableMediaList:{scrollAmount:8,scrollSensitivity:35},FeLanguages:{DataType:"fe_languages"},AdminLanguages:{DataType:"admin_languages"},UploadFilePopupContent:{width:"100%",height:"100%"},Publisher:{delayPremiumContentPopup:1E3},FormItem:{tooltip:{offset:15},validationDelay:750},PrivateAccess:{activationForm:{width:"100%",height:304},MEMBER_LOGIN:{moreInfoLink:"https://www.webnode.cz/napoveda/index.php?/Knowledgebase/Article/View/3040/"}},LinkFormItem:{dataSettings:{orderBy:{key:"gui_pages.item_order",
order:"asc"}}}};function Ba(a,b,c){this.key=a;this.text=b||""+a;this.data=c||{}}f=Ba.prototype;f.key="";f.text="";f.data=null;f.empty=!1;f.toString=function(){return this.text};function Ca(){this.c=[];this.h=[]}Ca.prototype.add=function(a){this.c.push(a)};function Da(a,b,c){b=Ea(a,b,c);c=b.length;for(var d=-1,e=-1E8,g=0;c--;)g=parseInt(a.c[b[c]].style.zIndex||0,10),g>e&&(e=g,d=b[c]);return a.c[d]}function Ea(a,b,c){for(var d=a.h.length,e=[],g=0,h=0,k=0,k=h=0;d--;)g=a.h[d],k=g.offset.y,h=k+g.size.height,c>k&&c<h&&(k=g.offset.x,h=k+g.size.width,b>k&&b<h&&e.push(g.au));return e};var Fa={mvc:{DataType:"MVCModelData"},View:{contentElementTypeAttr:"wnd_mvc_type"},PageStyles:{dataType:"page_and_template_styles"},StaticContent:{staticImagePlaceholder:"47w60u",staticImagePlaceholderDetail:"0dms4l",staticImagePlaceholderDetailPath:"/0d/0dm/0dms4l.svg"},StaticServerCategory:{templates:"templates",logo:"logo",background:"background",layoutBackground:"layoutBackground",socialIcons:"socialIcons",content:"content",microtemplate:"microtemplate",sectionBackgroundPrefix:"sectionBackground_",
microtemplatePrefix:"microtemplate_",favicon:"favicon"},Error:{unknownJs:{whiteList:"webnode keen google typekit newrelic nr-data.net".split(" ")}}};var Ga=null;function Ha(a){return l(t.labels[a])?t.labels[a]:""};function Ia(a,b){this.h=a;this.c=b||"";this.g=Error(a).stack||""}Ia.prototype.getMsg=function(){return this.h};Ia.prototype.getId=function(){return this.c};Ia.prototype.toString=function(){return"wnd.core.Exception: "+this.h+(this.c?"("+this.c+")":"")};var Ja={DB:"add",UB:"remove",REPLACE:"replace"};
function Ka(a,b){u(b,function(b){for(var d=1,e=a,g=(b.path||"").split("/"),h=null;;){var k=g[d];if(null===h&&(!1===l(e[k])?h=g.slice(0,d).join("/"):d==g.length-1&&(h=b.path),null!=h)){var p=b,w=h;if(!1===oa(p)||null===p||ia(p))throw new Ia("Operation is not an object");if(!1===La(Ja,p.op))throw new Ia("Operation `op` property is not one of patchs defined in RFC-6902");if(!1===ka(p.path))throw new Ia("Operation `path` property is not a string");if(("add"===p.op||"replace"===p.op)&&!1===l(p.value))throw new Ia("Operation `value` property is not present (applicable in `add` and `replace` patchs)");
if("add"==p.op){if(p=p.path.split("/").length,w=w.split("/").length,p!==w+1&&p!==w)throw new Ia("Cannot perform an `add` patch at the desired path");}else if(("remove"===p.op||"replace"===p.op)&&p.path!==w)throw new Ia("Cannot perform the patch at a path that does not exist");}d++;if(d>=g.length){ia(e)?k="-"===k?e.length:parseInt(k,10):k&&-1!=k.indexOf("~")&&(k=k.replace(/~1/g,"/").replace(/~0/g,"~"));switch(b.op){case "add":ia(e)?e.splice(k,0,b.value):e[k]=b.value;break;case "remove":ia(e)?e.splice(k,
1):delete e[k];break;case "replace":e[k]=b.value}break}e=e[k]}})}function Ma(a,b,c,d){for(var e,g=Na(b),h=Na(a),k=!1,p=h.length-1;0<=p;p--){e=h[p];var w=a[e];if(b.hasOwnProperty(e)){var v=b[e];oa(w)&&oa(v)?Ma(w,v,c,d+"/"+Oa(e)):w!=v&&c.push({op:"replace",path:d+"/"+Oa(e),value:v})}else c.push({op:"remove",path:d+"/"+Oa(e)}),k=!0}if(k||g.length!=h.length)for(h=0;h<g.length;h++)e=g[h],a.hasOwnProperty(e)||c.push({op:"add",path:d+"/"+Oa(e),value:b[e]})}
function Oa(a){return-1===a.indexOf("/")&&-1===a.indexOf("~")?a:a.replace(/~/g,"~0").replace(/\//g,"~1")};function Pa(a,b){Ia.call(this,a);b||(b={error:{message:a,filename:"",lineno:"",stack:this.g}});this.log(b)}n(Pa,Ia);Pa.prototype.log=function(a){if(t.isCms){var b;b=document.getElementsByTagName("script");for(var c=Fa.Error.unknownJs.whiteList,d="",e="",g=0,h=b.length;g<h;g++)(d=b[g].getAttribute("src"))&&!Qa(c,d)&&(e+=d+"; ");(b=e)&&(a.error.unknownJs=b);Ra.kc("error",a)}};function Qa(a,b){return 0<a.filter(function(a){return-1!==b.indexOf(a)}).length}
window.addEventListener("error",function(a){var b="";l(a.message)&&(b=a.message);if(-1==b.indexOf("Script error")){var c="";l(a.filename)&&(c=a.filename);var d="";l(a.lineno)&&(d=a.lineno);new Pa(b,{error:{message:b,filename:c,lineno:d}})}},!1);var Ta={ZB:"top",VB:"right",IB:"bottom",NB:"left"};var x={Debug:!1,DefaultEditZoneId:"wnd_EditZone_1",ContentItem:{fxDurationRemove:500},ContentItemModel:{DataType:"content_items"},ContentItemView:{redrawTimeout:100},PageZoneModel:{ZoneId:"wnd_PageZone_1",topOffset:50},ContentZoneColModel:{DataType:"content_items"},ContentBlock:{DataType:"content_items",separableParts:{tagNames:"h1 h2 h3 h4 h5 h6 p blockquote pre address ul ol dl form fieldset table hr article aside audio canvas figcaption figure footer header hgroup output section video".split(" "),
typeIsSeparable:"wnd_is_separable",typeSeparableIndex:"wnd_separable_index",typeSeparableId:"wnd_separable_id"},dropdownHeight:{changeStyle:275,listingVariants:275},alignCssClass:{right:"wnd-align-right",left:"wnd-align-left",center:"wnd-align-center"}},ResizableBlock:{minHeight:10,maxHeight:50,minWidth:200,maxWidth:70},EditZoneController:{textContentMaxLength:1E3},InsertFormFieldPopup:{mvcId:"wnd_insert_form_field",formFields:{"wnd.pc.ShortTextField":{cssType:"short-text-field"},"wnd.pc.LongTextField":{cssType:"long-text-field"},
"wnd.pc.RadioGroupField":{cssType:"radio-group-field"},"wnd.pc.CheckboxGroupField":{cssType:"checkbox-group-field"},"wnd.pc.SelectboxField":{cssType:"selectbox-field"},"wnd.pc.EmailField":{cssType:"email-field"},"wnd.pc.FileUploadField":{cssType:"file-upload-field"},"wnd.pc.DateField":{cssType:"date-field"},"wnd.pc.PhoneField":{cssType:"phone-field"},"wnd.pc.NumberField":{cssType:"number-field"}}},InsertContentPopup:{mvcId:"wnd_insert_content",arrowHeight:10,arrowOffset:56,itemsPerGroup:8,showAnimationTime:500,
hideAnimationTime:400,blocks:{"wnd.pc.TextBlock":{cssType:"wysiwyg"},"wnd.pc.ImageBlock":{cssType:"image"},"wnd.pc.PhotoGalleryBlock":{cssType:"photogallery"},"wnd.pc.VideoBlock":{cssType:"video"},"wnd.pc.HrLineBlock":{cssType:"hrline"},"wnd.pc.MapBlock":{cssType:"maps"},"wnd.pc.ButtonBlock":{cssType:"button"},"dfc.form.contact":{cssType:"contact-form",contentBlockType:"wnd.pc.FormBlock",contentIdentifier:"dfc.form.contact"},"dfc.form.blank":{cssType:"blank-form",contentBlockType:"wnd.pc.FormBlock",
contentIdentifier:"dfc.form.blank"},"wnd.pc.HtmlBlock":{cssType:"html"},"wnd.pc.FileBlock":{cssType:"file"},"wnd.pc.BlogRecentPosts":{cssType:"recent-posts"}}},ContentResizeStripe:{width:20,suffixId:"_contentResizeStripe",className:"wnd-resize-stripe",borderClassName:"wnd-resize-stripe-border",minWidth:5,minDifference:1,zIndex:35,fadeInTime:150,fadeOutTime:300},HoverManager:{type:{PageBaseHover:{dragDrop:"wnd.pc.PageZoneDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},PageEditHover:{dragDrop:"wnd.pc.PageZoneDragDrop",
"class":"wnd.pc.EditHover",properties:{toolbox:{arrow:!0}}},ListingItemHover:{dragDrop:"wnd.pc.PageZoneDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},ButtonHover:{"class":"wnd.pc.ButtonHover",properties:{toolbox:{arrow:!0,overContainer:!0}}},MicroTemplateCellBaseHover:{dragDrop:"wnd.pc.ContainerDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},FormFieldBaseHover:{dragDrop:"wnd.pc.ContainerDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},
FormSubmitBaseHover:{"class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}}},instNum:2},Hover:{width:20,maxSize:20,className:"wnd-base wnd-block-hover",classNameRemove:"remove",activeZIndex:{top:34,bottom:34,left:34,right:34},zIndexOffset:2},ImageBlock:{minWidth:100,defaultPaddingBottom:72.48,directoryId:"50000001",sliderOffset:30,rangeAreaOffset:3,rangeAreaZindex:37,snapOffset:5},PhotoGalleryBlock:{limit:{min:1,max:20},dimension:{withImages:{width:740,height:450},withoutImages:{width:470,height:200}}},
FileBlock:{directoryId:"50000000"},Section:{topOffset:30,animation:{start:0,end:150,expandTime:400,collapseTime:100},renderAnimation:{start:0,expandTime:2E3},fadeOverlay:{className:"wnd-section-fade-overlay",duration:400,finalOpacity:.85}},PageWysiwyg:{editorSettings:{skin:"wnd",toolbar:{spacing:{}},pageOffset:{top:65},replaceHeadings:!0,externalLinkAsTargetBlank:!0},allowedFormats:"h1 h3 h2 h4 p blockquote".split(" "),replaceTags:{h1:"Heading1",h2:"Heading2",h3:"Heading3",h4:"Heading4",p:"Paragraph",
blockquote:"Blockquote"}},WorkareaElementId:"wnd_workarea",DataObjectFactory:{content_items:"wnd.pc.ContentItemDataObject",temp_content_items:"wnd.pc.ContentItemDataObject"},DataCollectionFactory:{content_items:"wnd.pc.ContentItemDataCollection",temp_content_items:"wnd.pc.ContentItemDataCollection"},EditImageFormModel:{DataType:"content_items"},EditLinkFormModel:{DataType:"content_items"},EditFieldSettingsForm:{DataType:"content_items"},EditFormActionForm:{DataType:"content_items",height:150},EditDefaultPageForm:{DataType:"content_items",
height:80},EditSelectboxFieldOptionsFormModel:{DataType:"content_items"},EditEmailNotificationFormModel:{DataType:"content_items"},BlogAdminPopup:{mvcId:"wnd_blog_admin",addButton:"blogAddArticle",DataType:"content_items",dataSettings:{filter:[{prefix:"",key:"listing_items.listing_page_id",operator:"=",value:null,suffix:""}]}},EditMapFormModel:{DataType:"content_items"},EditVideoFormModel:{DataType:"content_items"},VideoUrlParser:{youtube:{url:"//www.youtube.com/embed/",thumbnail:"http://img.youtube.com/vi/"},
vimeo:{url:"//player.vimeo.com/video/",thumbnail:"http://vimeo.com/api/v2/video/"}},EditHtmlFormModel:{DataType:"content_items"},AddContentManager:{priority:0,minDistance:10,defaultDistance:15,maxDistance:15,maxInnerDistance:35,zIndex:39,stripeOffset:20,horizontalBoxOffset:-35,fadeInTime:150,fadeOutTime:150,innerFadeInTime:150,innerFadeOutTime:150,maxAnimatedStripes:2,hoverOffset:15},AddSectionManager:{maxDistance:35,fadeInTime:150,fadeOutTime:450,fadeOutExp:7,innerFadeInTime:150,innerFadeOutTime:600},
AddContentContainerManager:{priority:1,vertical:{minDistance:10,defaultDistance:14,maxDistance:30},horizontal:{minDistance:3,defaultDistance:20,maxDistance:8},fadeInTime:125,fadeOutTime:150,innerFadeInTime:125,innerFadeOutTime:150},LayoutPopup:{mvcId:"wnd_change_layout",viewedImages:8},SystemFooterBlock:{DataType:"project_info",packages:{available:["mini","standard","professional"],canBeEdit:"professional"}},WelcomePopup:{mvcId:"wnd_welcome"},DefaultPopupProperties:{"wnd.pc.AddListingItemPopup":{width:470},
"wnd.pc.EditImagePopup":{blockId:"=blockId",imageId:"=imageId",directoryId:"=dirId",width:550},"wnd.pc.EditSectionPopup":{sectionId:"=sectionId",width:302},"wnd.pc.HtmlPopup":{blockId:"=blockId",width:470},"wnd.pc.BlogAdminPopup":{zoneId:"=zoneId",width:840,height:480},"wnd.pc.NewMapPopup":{blockId:"=blockId",width:470},"wnd.pc.MapPopup":{blockId:"=blockId",width:470},"wnd.pc.PhotoGalleryPopup":{blockId:"=blockId",isEmpty:!0,width:740,height:572},"wnd.pc.SelectMediaPopup":{directoryId:"=dirId",onClick:"confirm",
multipleUpload:!1,width:470,height:322},"wnd.pc.NewVideoPopup":{blockId:"=blockId",width:470},"wnd.pc.NewButtonPopup":{blockId:"=blockId",width:470},"wnd.pc.NewHtmlPopup":{blockId:"=blockId",width:470},"wnd.pc.WelcomePopup":{width:700},"wnd.pc.GalleryImageEdit":{width:370},"wnd.pc.LayoutPopup":{width:326},"wnd.pc.SocialIconsEditPopup":{blockId:"=blockId",width:525}},CreateSectionServerRequest:{type:"createSection"},CreateMicroTemplateCellServerRequest:{type:"createMicroTemplateCell"},CreateFormFieldServerRequest:{type:"createFormField"},
CreateFormServerRequest:{type:"createForm"},CreateBlogRecentPostsServerRequest:{type:"createBlogRecentPosts",variant:"basic"},ListingZoneUpdateRequest:{type:"listingZoneUpdate"},ReplaceImageWithPlaceholderServerRequest:{type:"replaceImageWithPlaceholder"},NewContentItemPopupsManager:{"wnd.pc.ImageBlock":{mvcType:"wnd.pc.SelectMediaPopup",properties:{directoryId:"50000001",fileGroup:"image"}},"wnd.pc.VideoBlock":{mvcType:"wnd.pc.NewVideoPopup"},"wnd.pc.MapBlock":{mvcType:"wnd.pc.NewMapPopup"},"wnd.pc.ButtonBlock":{mvcType:"wnd.pc.NewButtonPopup"},
"wnd.pc.HtmlBlock":{mvcType:"wnd.pc.NewHtmlPopup"},"wnd.pc.FileBlock":{mvcType:"wnd.pc.SelectMediaPopup",properties:{directoryId:"50000000",fileGroup:"file"}}},PhotoGalleryListContent:{fxDurationRemove:500,width:"100%"},AddContentItem:{startOpacity:0,endOpacity:1,fxDuration:1500},ModuleDataEventFilter:"content_items gui_pages filesystem_files my_videos fe_languages server_projects project_info listing_items".split(" "),ContainerDropStripe:{DDBoxHorizMaxInnerPos:.5},EditSection:{groups:{"default":"SectionEditDefault",
sectionEffects:"SectionEditEffects",layoutEffects:"LayoutEditEffects"},heightCorrection:10},InlineTextBlock:{fontSizePrefix:"wnd-font-size-",fontChangeStep:10,fontSizePercentageMinimal:10,fontSizePxMinimal:12,wrapLimits:[80,60,40],waitForResize:{time:50,count:10}},GalleryImageEditForm:{width:230},EditMapForm:{width:325},NewEditForm:{width:"100%",height:"115px"},WysiwygBlock:{topOffset:110,className:"wnd-touchwysiwyg",placeholder:{visibilityWidth:85}},ImageDetailPopupContent:{width:"140px",height:"200px"},
SelectMediaContent:{width:"100%",height:200},SelectMediaFooter:{height:66},SocialIconsImage:{width:140,height:200},SocialIconsEditForm:{width:365},WysiwygLinkForm:{width:"100%"},"wnd.pc.CheckboxGroupOptions":{optionMVCType:"wnd.pc.CheckboxGroupOption"},"wnd.pc.RadioGroupOptions":{optionMVCType:"wnd.pc.RadioGroupOption"},"wnd.pc.FromBlock":{placeholder:{height:100},toolbox:{expandedArea:{height:70}}},"wnd.pc.Field":{placeholder:{height:60}},"wnd.pc.GroupField":{paddingBottom:20},frontendElements:{"wnd.pc.FeFooter":"fe_footer"},
NewListingItemForm:{width:"100%",height:100},ListingZone:{activeItem:{className:"wnd-active-listing-zone"},disabled:{className:"wnd-disabled"},maxItemsOnPage:30},PerexBlock:{wordsLimit:60,minChars:30,charsLimit:350},LogoBlock:{styleClasses:{withText:"wnd-logo-with-text",vector:"wnd-image-vector","img-1-1":"wnd-iar-1-1","img-2-1":"wnd-iar-2-1","img-3-1":"wnd-iar-3-1","img-4-1":"wnd-iar-4-1","img-max":"wnd-iar-max"}}};function Ua(){this.h=null;this.D={};this.T=!1;this.P={};this.S=null;this.o=new Va(this);this.g=new Wa(this);this.A=new Xa(this);this.c=new Ya(this);this.ia=new Za(this);this.ha=new $a(this);this.J=new ab(this);this.l=new bb(this);this.U=new cb(this);this.R=new db(this);this.message=new eb(this);this.Se=new fb(this);this.ta=new gb(this);this.G=new hb(this);this.w=new ib(this);this.M=new jb(this);this.ub=new kb(this);this.I=this.F=0}var lb=[],mb=[],nb={};function ob(a){mb.push(a)}
function pb(a,b,c){a.h=a.add(b,c);var d=!1;"object"===typeof c&&"boolean"===typeof c.setCursor&&(d=c.setCursor);a.Wa(b,d)}f=Ua.prototype;
f.Wa=function(a,b){if(this.Ha(a))qb(this.M),this.notify("reActivate",null);else{var c=this.D;this.w.create();"object"==typeof c.editors&&"string"==typeof c.editors[c.type].className&&this.h.classList.add(c.editors[c.type].className);this.h.setAttribute("contenteditable",!0);this.h.setAttribute("spellcheck","false");this.h.setAttribute("autocapitalize","off");this.h.setAttribute("autocorrect","off");this.h.setAttribute("autocomplete","off");this.I=this.h.offsetHeight;this.F=this.h.offsetWidth;this.T=
!0;b?rb(this.c,c.cursorPosition):this.isEmpty()&&!c.disableFormatting&&(rb(this.c,"start"),sb(this.ia,tb)&&(ub(this.g)?vb(this,"<p><br></p>"):wb(this.ia,tb).Ba()));if(c.textContainerHTML){var d=this.o.createElement("div");d.innerHTML=c.textContainerHTML;this.S=d.firstElementChild}requestAnimationFrame(function(){if(this.h){xb(this.c);var a=yb(this.c);this.c.cd(null,a);this.l.add(this.h,"mousedown",this.c.qq.bind(this.c));this.l.add(document.body,"mouseup",this.c.qq.bind(this.c));this.isEmpty()&&!b&&
rb(this.c,"start")}}.bind(this));this.l.add(this.h,"keydown",this.dw.bind(this));this.l.add(this.h,"keypress",this.notify.bind(this));this.l.add(this.h,"keyup",this.ew.bind(this));this.l.add(this.h,"paste",this.U.l.bind(this.U));this.l.add(this.h,"focus",this.notify.bind(this));zb(this.g)&&this.l.add(this.h,"touchend",this.c.cd.bind(this.c));zb(this.g)||this.l.add(this.h,"scroll",this.Tz.bind(this),!1);this.ta.observe();this.Se.reset();Ab(this.R);this.notify("init",null)}};
f.focus=function(a){null!=this.h&&!0!==ub(this.g)&&(this.h.focus(),"compact"===this.getType()&&"function"==typeof this.h.click&&this.h.click(),!0===a&&rb(this.c,"end",void 0),this.ub.hide())};f.blur=function(){null!=this.h&&(xb(this.c),this.ub.hide(),this.h.blur())};f.Tz=function(){sb(this.ia,Bb)&&wb(this.ia,Bb).dg();sb(this.ia,Cb)&&wb(this.ia,Cb).dg();Db(this.G)};f.dw=function(a,b,c){Eb(this.ia,c)};f.ew=function(a,b,c){this.c.cd(a,b);Eb(this.ia,c)};
f.add=function(a,b){var c,d=b||{};"object"==typeof a&&1==a.nodeType?(c=a,0==c.id&&(c.id=Math.random().toString(36).substring(7))):"string"==typeof a&&(c=document.getElementById(a));if(!c)return null;if("object"==typeof d&&"string"==typeof d.skin){var e=this.ha,g=d.skin;if(!(e.c[g]instanceof Fb))throw Error('Skin "'+g+'" is not registered.');e.h=e.c[g]}if("undefined"===typeof this.ha)return null;d=Gb(this.A,d,this.ha.h.c);"object"!==typeof d.toolbars&&(d.toolbars={});d.toolbar=d.toolbar||{};"object"===
typeof d.toolbars[d.type]&&(d.toolbar=Gb(this.A,d.toolbars[d.type],d.toolbar));delete d.toolbars;"object"!==typeof d.button&&(d.button=d.buttons[d.type]);delete d.buttons;"object"!==typeof d.popups.modal&&(d.popups.modal=d.popups.modals[d.type]);delete d.popups.modals;"object"!==typeof d.popups.popOver&&(d.popups.popOver=d.popups.popOvers[d.type]);delete d.popups.popOvers;"object"===typeof d.customBlocks&&(d.toolbar.blocks=Gb(this.A,d.toolbar.blocks,d.customBlocks));"string"==typeof d.type&&"inline"==
d.type&&this.l.add(c,"click",this.Wa.bind(this));this.D=d;return c};f.resize=function(a,b){if(null!=this.h&&"inline"!=this.getType()){var c=!1;if("100%"==a||"auto"==a||"number"==typeof a||null!==a&&"px"==a.substr(-2))"number"==typeof a&&(a=a+"px"),this.h.style.width=a,c=!0;if("100%"==b||"auto"==b||"number"==typeof b||null!=b&&"px"==b.substr(-2))"number"==typeof b&&(b=b-Hb(this.w).height+"px"),this.h.style.height=b,c=!0;1==c&&(this.h.style.overflow="auto")}};
function Ib(a){return null!=a.h?a.h:null}f.Ha=function(a){if(null!=this.h&&"undefined"!=typeof a){var b=null;"string"==typeof a?b=document.getElementById(a):"object"==typeof a&&1==a.nodeType&&(b=a);if(b===this.h&&1==this.T)return!0}return!1};f.getType=function(){return"string"!==typeof this.D.type?null:this.D.type};function y(a,b){if("string"===typeof b){for(var c=b.split("."),d=a.D,e=0,g=c.length;e<g;e++){if("undefined"===typeof d[c[e]])return;d=d[c[e]]}return d}return a.D}
f.getData=function(){var a;if(null!==Ib(this)){a=this.A;var b=y(a.v,"dangerousTags");if(b instanceof Array)for(var c=0,d=b.length;c<d;c++)for(var e=Ib(a.v).getElementsByTagName(b[c]);e[0];)a.v.o.remove(e[0]);a=Ib(a.v).innerHTML}else a="";return a};f.isEmpty=function(){var a=Jb(this.getData(),y(this,"emptinessTest.allowedTags"));return""==a.trim()||"&nbsp;"==a.trim()};function vb(a,b){null!=a.h&&(a.h.innerHTML=b)}
f.destroy=function(){if(null!=this.h){var a=this.D;"object"==typeof a.editors&&"string"==typeof a.editors[a.type].className&&this.h.classList.remove(a.editors[a.type].className);this.h.removeAttribute("contenteditable");this.h.removeAttribute("spellcheck");this.h.removeAttribute("autocapitalize");this.h.removeAttribute("autocorrect");this.h.removeAttribute("autocomplete");this.w.remove();Db(this.G);this.c.reset();this.Se.reset();this.ub.hide();this.h=null;this.T=!1;this.P={};this.S=null;a=this.ta;
null!==a.h&&(a.h.disconnect(),a.h=null);this.l.removeAll();this.notify("destroy",null)}};function Kb(a,b,c){if(Array.isArray(b))for(var d=0,e=b.length;d<e;d++)Kb(a,b[d],c);else"string"!=typeof b||"function"!=typeof c||Array.isArray(a.P[b])&&-1<a.P[b].indexOf(c)||(Array.isArray(a.P[b])||(a.P[b]=[]),a.P[b].push(c))}f.notify=function(a,b){if("object"===typeof this.P[a])for(var c=0,d=this.P[a].length;c<d;c++)this.P[a][c].call(this,b)};
f.qk=function(a){!0===a?(this.w.create(),Lb(this.c),this.focus()):this.w.remove()};f.Zm=function(){return null!==this.w.c};f.Hm=function(a){sb(this.ia,a)&&wb(this.ia,a).Ba()};function Mb(a){null===a.h||a.I===a.h.offsetHeight&&a.F===a.h.offsetWidth||(a.notify("resize",{height:a.h.offsetHeight,width:a.h.offsetWidth,diference:{height:a.h.offsetHeight-a.I,width:a.h.offsetWidth-a.F}}),a.I=a.h.offsetHeight,a.F=a.h.offsetWidth)}
function Ob(a,b){b.constructor==Function?(a.prototype=new b,a.prototype.constructor=a,a.prototype.parent=b.prototype):(a.prototype=b,a.prototype.constructor=a,a.prototype.parent=b)}function Pb(a){this.v=a}
var tb="Paragraph",Bb="Image",Cb="Link",Qb={phrasing:"a em strong small mark abbr dfn i b s u code var samp kbd sup sub q cite span bdo bdi br wbr ins del img embed object iframe map area canvas script noscript ruby video audio input textarea select button label output datalist keygen progress command time meter".split(" "),flow:"div p pre hr ul ol dl h1 h2 h3 h4 h5 h6 hgroup address blockquote section nav article aside header footer menu figure table form fieldset details".split(" "),metadata:"link style meta script noscript command".split(" ")},
Rb={a:{content:"transparent"},abbr:{content:"phrasing"},address:{content:"flow"},area:{content:"empty"},article:{content:"flow"},aside:{content:"flow"},audio:{content:"transparent"},b:{content:"phrasing"},base:{content:"empty"},bdi:{content:"phrasing"},bdo:{content:"phrasing"},blockquote:{content:"flow"},body:{content:"flow"},br:{content:"empty"},button:{content:"phrasing"},canvas:{content:"transparent"},caption:{content:"flow"},cite:{content:"phrasing"},code:{content:"phrasing"},col:{content:"empty"},
colgroup:{content:{elements:["col","span"]}},command:{content:"empty"},datalist:{content:"phrasing"},dd:{content:"flow"},del:{content:"transparent"},details:{content:"flow"},dfn:{content:"phrasing"},div:{content:"flow"},dl:{content:"flow"},dt:{content:"flow"},em:{content:"phrasing"},embed:{content:"empty"},fieldset:{content:"flow"},figcaption:{content:"flow"},figure:{content:"flow"},footer:{content:"flow"},form:{content:"flow"},h1:{content:"phrasing"},h2:{content:"phrasing"},h3:{content:"phrasing"},
h4:{content:"phrasing"},h5:{content:"phrasing"},h6:{content:"phrasing"},header:{content:"flow"},hgroup:{content:{elements:"h1 h2 h3 h4 h5 h6".split(" ")}},hr:{content:"empty"},i:{content:"phrasing"},img:{content:"empty"},input:{content:"empty"},ins:{content:"transparent"},kbd:{content:"phrasing"},keygen:{content:"empty"},label:{content:"phrasing"},legend:{content:"phrasing"},li:{content:"flow"},link:{content:"empty"},map:{content:"transparent"},mark:{content:"phrasing"},menu:{content:"flow"},meter:{content:"phrasing"},
nav:{content:"flow"},object:{content:"transparent"},ol:{content:{elements:["li"]}},optgroup:{content:{elements:["option"]}},option:{content:"text"},output:{content:"phrasing"},p:{content:"phrasing"},param:{content:"empty"},pre:{content:"phrasing"},progress:{content:"phrasing"},q:{content:"phrasing"},s:{content:"phrasing"},samp:{content:"phrasing"},script:{content:"non-replaceable"},section:{content:"flow"},select:{content:{elements:["optgroup","option"]}},small:{content:"phrasing"},source:{content:"empty"},
span:{content:"phrasing"},strong:{content:"phrasing"},style:{content:"non-replaceable"},sub:{content:"phrasing"},summary:{content:"phrasing"},sup:{content:"phrasing"},table:{content:{elements:"caption colgroup thead tbody tfoot tr".split(" ")}},tbody:{content:{elements:["tr"]}},td:{content:"flow"},textarea:{content:"replaceable"},tfoot:{content:{elements:["tr"]}},th:{content:"flow"},thead:{content:{elements:["tr"]}},time:{content:"phrasing"},title:{content:"replaceable"},tr:{content:{elements:["td",
"th"]}},track:{content:"empty"},u:{content:"phrasing"},ul:{content:{elements:["li"]}},"var":{content:"phrasing"},video:{content:"transparent"},wbr:{content:"empty"}};function Sb(a){Pb.apply(this,arguments)}Ob(Sb,Pb);function Va(a){Pb.apply(this,arguments)}Ob(Va,Pb);
Va.prototype.getPosition=function(a,b){var c={top:0,left:0,width:0,height:0,bottom:0,right:0};if("object"!==typeof a)return c;for(var d=Ib(this.v),e=d.scrollTop||0,d=d.scrollLeft||0,g=a;"object"==typeof g&&null!==g;)if(c.top+=g.offsetTop||0,c.left+=g.offsetLeft||0,g=g.offsetParent){var h=this.getStyle(g,"position",!1);if(("relative"==h||"absolute"==h)&&!b)break}c.top-=Math.round(e);c.left-=Math.round(d);c.width=Math.round(a.offsetWidth);c.height=Math.round(a.offsetHeight);c.bottom=Math.round(c.top+
c.height);c.right=Math.round(c.left+c.width);return c};Va.prototype.getStyle=function(a,b,c){var d=a.style[Tb(b)];if(!d||c)document.defaultView&&document.defaultView.getComputedStyle?d=(a=document.defaultView.getComputedStyle(a,null))?a.getPropertyValue(b):null:a.currentStyle&&(d=a.currentStyle[Tb(b)]);return"auto"==d?null:d};
Va.prototype.createElement=function(a,b){var c=document.createElement(a);if(b)for(var d in b)if(b.hasOwnProperty(d))switch(d){case "id":case "className":c[d]=b[d];break;case "style":for(var e in b[d])b[d].hasOwnProperty(e)&&(c[d][e]=b[d][e]);break;default:c.setAttribute(d,b[d])}return c};function Ub(a,b){return a.nodeType===Node.ELEMENT_NODE&&a.nodeName.toLowerCase()===b}Va.prototype.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)};
function Vb(a,b){var c=b.parentNode;null!==c&&(c.lastElementChild==b?c.appendChild(a):c.insertBefore(a,b.nextSibling))}function Wb(a,b){""===a.getAttribute(b)&&a.removeAttribute(b)}
function Wa(a){Pb.apply(this,arguments);this.h=navigator.userAgent;a.o.createElement("div");this.o=!1;this.g=/iPad/i.test(this.h)||/iPhone OS 3_1_2/i.test(this.h)||/iPhone OS 3_2_2/i.test(this.h);this.l=/Chrome/i.test(this.h);this.M=/MSIE/i.test(this.h);this.A=null;this.c=/Firefox/i.test(this.h);this.w=/Safari/i.test(this.h);this.G=/Edge\/[0-9]{2,}/i.test(this.h)}Ob(Wa,Pb);
function zb(a){if("undefined"==typeof a.o){var b=document.documentElement&&"ontouchstart"in document.documentElement;"undefined"==typeof b&&(b=!1);a.o=b}return a.o}function Xb(a){return a.l&&!a.G}
function ub(a){if(null===a.A){var b;b=a.h.match(/\((.*)\)/);if("undefined"==b[1])return!1;b=b[1].split("; ");for(var c={},d=0,e=b.length;d<e;d++)0===d?c.windows=b[d]:1===d?c.os=b[d]:2===d?c.engine=b[d]:e-1===d&&(c.version=b[d].split(":")[1]);if("string"!==typeof c.engine&&"string"!==typeof c.version)return!1;a.A=-1<c.engine.indexOf("Trident")&&11==c.version}return a.A}function Yb(a){return a.w&&!a.l}function Xa(a){Pb.apply(this,arguments);this.c=0}Ob(Xa,Pb);
function Zb(a,b,c,d){for(var e=[],g=0,h=c.length;g<h;g++){var k=a.v.o.createElement(c[g][0]),p=c[g][1],w="appendChild",v=null,C="module",G;for(G in p)switch(G){case "_insert":w=p[G];break;case "_content":-1<p[G].indexOf("locales#")?v=a.v.J.get(p[G].replace("locales#","")):v=p[G];break;case "_prefix":C=p[G];break;case "className":k.setAttribute("class",p[G]);break;default:k.setAttribute(G,p[G])}"undefined"!=typeof d&&"undefined"!=typeof d.la&&(k.setAttribute("data-module",d.la),k.setAttribute("unselectable",
"on"),k.classList.add(C+d.la));"before"==w?b.parentNode.insertBefore(k,b):b.appendChild(k);null!=v&&(k.innerHTML=v);e.push(k);"undefined"!=typeof c[g][2]&&("object"===typeof d&&"string"===typeof d.la&&delete d.la,e=e.concat(Zb(a,k,c[g][2],d)))}return e}function $b(a){return a[a.length-1]}
function Gb(a,b,c){b=bc(a,b);if(Array.isArray(b)&&Array.isArray(c)){a=0;for(var d=c.length;a<d;a++)b.push(c[a])}else if("object"==typeof b&&"object"==typeof c)for(d in c)d in b?b[d]="object"==typeof b[d]&&"object"==typeof c?Gb(a,b[d],c[d]):c[d]:b[d]=c[d];return b}function bc(a,b){if(!Array.isArray(b)&&"object"!==typeof b)return b;var c=Array.isArray(b)?[]:{},d;for(d in b)Array.isArray(c)?c.push(bc(a,b[d])):b.hasOwnProperty(d)&&(c[d]=bc(a,b[d]));return c}
function Tb(a){var b=a.split("-");if(1==b.length)return b[0];a=0==a.indexOf("-")?b[0].charAt(0).toUpperCase()+b[0].substring(1):b[0];for(var c,d=1,e=b.length;d<e;d++)c=b[d],a+=c.charAt(0).toUpperCase()+c.substring(1);return a}function cc(a,b){for(var c=Ib(a.v),d=!1;b;)b==c&&(d=!0),b=b.parentNode;return d}function dc(a,b){var c;c=c?c:0;var d=a.bottom+c,e=a.left-c,g=a.right+c;return a.top-c<b.pg&&d>b.pg&&e<b.og&&g>b.og}
function Jb(a,b){b=b||[];return a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,d){return-1<b.indexOf(d.toLowerCase())?a:""})}
function ec(a){if(0===a.c){var b=a.v.o.createElement("div");b.style.width="50px";b.style.height="50px";b.style.overflow="hidden";b.style.position="absolute";b.style.top="-200px";b.style.left="-200px";document.body.appendChild(b);var c=a.v.o.createElement("div");c.style.height="100px";c.style.width="100px";b.appendChild(c);var d=b.offsetWidth;b.style.overflowY="scroll";c.style.width="";c=c.offsetWidth;document.body.removeChild(b);a.c=d-c}return a.c}
function fc(a,b){if(0===b.indexOf("/")||0===b.indexOf("http"))return b;var c=null;if(0===b.indexOf("mailto"))c=b;else if(y(a.v,"regex.phoneRegex")&&b.match(y(a.v,"regex.phoneRegex")))c=b;else if(y(a.v,"regex.emailShortRegex")&&b.match(y(a.v,"regex.emailShortRegex")))c="mailto:"+b;else{var d=y(a.v,"regex.urlRegex").exec(b);null!==d&&"string"===typeof d[1]?c=b:0===b.indexOf("www.")&&(c="http://"+b)}return c}
function Ya(a){Pb.apply(this,arguments);this.h=this.c=null;this.o=!0;this.g="p h1 h2 h3 h4 blockquote".split(" ");this.l=[tb,"Heading1","Heading2","Heading3","Heading4","Blockquote","OrderedList","UnorderedList"];this.A=!1}Ob(Ya,Pb);f=Ya.prototype;f.getSelection=function(){var a=window.getSelection();"None"!=a.type&&(this.h=a);return this.h};
function gc(a){a=a.getSelection();if(!a||0===a.rangeCount)return null;var b=null;"function"==typeof a.createRange?b=a.createRange():"function"==typeof a.getRangeAt&&(b=a.getRangeAt(0));return b}
function hc(a){var b=a.c;if(null==b)return null;if("Range"==a.h.type&&"undefined"!=typeof a.h.focusNode&&"undefined"!=typeof a.h.focusNode.parentNode)return a.h.focusNode;if(b.startContainer){a=b.startContainer;if(1==b.cloneContents().childNodes.length)for(var c,d=0,e=a.childNodes.length;d<e;d++){c=a.childNodes[d].ownerDocument.createRange();try{c.selectNode(a.childNodes[d])}catch(g){return a.childNodes[d]}if(1!=b.compareBoundaryPoints(b.START_TO_START,c)&&-1!=b.compareBoundaryPoints(b.END_TO_END,
c))return a.childNodes[d]}return a}return"Control"==a.getSelection().type?b.item(0):b.parentElement()}function rb(a,b,c){var d=c?c:Ib(a.v);c=null;switch(b){case "start":c=document.createRange();c.setStart(d,0);break;case "end":c=document.createRange(),c.selectNodeContents(d),c.collapse(!1)}null!==c&&(b=window.getSelection(),b.removeAllRanges(),b.addRange(c),xb(a),a.v.focus())}
function ic(a){var b={};"undefined"!==typeof a.targetTouches&&a.targetTouches.length?(a=a.targetTouches[0],b.og=a.clientX,b.pg=a.clientY):"undefined"!==typeof a.currentTarget&&a.currentTarget.length?(a=a.currentTarget[0],b.og=a.clientX,b.pg=a.clientY):(b.og=a.clientX,b.pg=a.clientY);a=document.body.scrollTop||document.documentElement.scrollTop;b.og+=document.body.scrollLeft||document.documentElement.scrollLeft;b.pg+=a;return b}
function xb(a){if(!a.v.G.G){var b=gc(a);null!==b&&("object"===typeof b.startContainer.parentNode&&cc(a.v.A,b.startContainer.parentNode)?a.c=b:cc(a.v.A,b.startContainer)||Lb(a))}}function Lb(a,b,c){b&&(a.h=b);c&&(a.c=c);a.c&&(b=a.c,a=a.h,a.removeAllRanges(),a.addRange(b))}function yb(a){a=hc(a);return null===a?null:1===a.nodeType?a:a.parentNode}
f.cd=function(a,b){if(!0===this.v.g.g){if(!0===this.o)return requestAnimationFrame(function(){this.o=!1;xb(this);this.cd(a,b)}.bind(this)),!1;this.o=!0}if("undefined"==typeof b||null!=b&&"on"==b.getAttribute("data-temporary"))return!1;0==this.v.g.g&&xb(this);var c=yb(this);if(null===c)return!1;var d=[];null===b||"undefined"==typeof b.nodeName||"IMG"!=b.nodeName&&"A"!=c.nodeName||c==b||(c=b);for(var e=Ib(this.v),g=[];c&&c!=e;)1==c.nodeType&&(g.push(c.nodeName),d.push(c)),c=c.parentNode;return jc(this.v.ia,
g,d)};function kc(a,b){if(null!=b){var c=document.createRange();c.selectNodeContents(b);var d=window.getSelection();d.removeAllRanges();d.addRange(c);a.c=c;a.h=d}}f.createElement=function(a,b){var c=this.v.o.createElement(a,b);this.c.insertNode(c);this.v.focus();return c};
function lc(a,b){var c=!!a.h.isCollapsed,d=yb(a);if(ub(a.v.g)){var e=a.v.o.createElement("div"),g=document.createDocumentFragment(),h,k;for(e.innerHTML=b;h=e.firstChild;)k=g.appendChild(h);h=g.firstChild;e=!1;if(ub(a.v.g)&&Ib(a.v)!==d&&1==h.nodeType)if(""==Jb(d.innerHTML,["img","a"]))d.parentNode.insertBefore(g,d),d.parentNode.removeChild(d),e=!0;else{h=g.childNodes;for(var p=null,w=!1,v=0,C=h.length;v<C;v++)if(p=h[v].nodeName.toLowerCase(),-1!==a.g.indexOf(p)){w=!0;break}w&&(e=d.cloneNode(!1),h=
d.cloneNode(!1),p=a.c.cloneRange(),w=p.startContainer,v=p.endContainer,3==v.nodeType&&(v=v.splitText(p.endOffset)),3==w.nodeType&&(e.appendChild(w),h.appendChild(v),d.parentNode.insertBefore(e,d),d.parentNode.insertBefore(h,d),d.parentNode.removeChild(d)),h.parentNode.insertBefore(g,h),e=!0)}e||(c||document.execCommand("delete"),a.c.insertNode(g));k&&(c=a.c.cloneRange(),c.setStartAfter(k),c.collapse(!0),a.h.removeAllRanges(),a.h.addRange(c),xb(a))}else document.execCommand("InsertHtml",!1,b);ub(a.v.g)||
a.v.focus()}
function mc(a,b,c){if(!(-1<a.g.indexOf(b))){var d;"undefined"!==typeof c?d=c:d=yb(a);if(b===d.nodeName.toLowerCase()){b=d.parentNode;c=0;var e=document.createDocumentFragment(),g,h;if(0!==d.children.length)for(g=0,h=d.children.length;g<h;g++)e.appendChild(d.children[g]);else e.appendChild(a.c.extractContents());g=0;for(h=b.childNodes.length;g<h&&b.childNodes[g]!==d;g++)c++;b.removeChild(d);a.c.insertNode(e);kc(a,b.childNodes[c]);a.cd(null,1===b.childNodes[c].nodeType?b.childNodes[c]:b)}}}
function nc(a,b,c){b.style.fontSize="";b.style.marginLeft="";var d=["a","img"];!1===ub(a.v.g)&&d.push("br");c&&(d=d.concat(c));a=Jb(b.innerHTML,d);a!==b.innerHTML&&(b.innerHTML=a)}
f.Eo=function(){var a,b=document.body.scrollLeft||document.documentElement.scrollLeft,c=document.body.scrollTop||document.documentElement.scrollTop;a=this.c?this.c:gc(this);var d=this.v.o.createElement("span");if(a.collapsed)a.insertNode(d),d.style.display="inline-block",d.innerHTML="|",a=d.getBoundingClientRect(),a.collapsed=!0,d.parentNode.removeChild(d);else{var e=a.cloneRange();e.collapse(!0);e.insertNode(d);var g=d.getBoundingClientRect();d.parentNode.removeChild(d);e.setStart(a.endContainer,
a.endOffset);e.setEnd(a.endContainer,a.endOffset);e.insertNode(d);a=d.getBoundingClientRect();d.parentNode.removeChild(d);g.top<a.top?(d=Ib(this.v).getBoundingClientRect(),e=e.commonAncestorContainer.getBoundingClientRect(),d=e.left>d.left?e.left:d.left,a={top:a.top,right:a.right,bottom:a.bottom,left:d,width:a.right-d,height:a.bottom-a.top}):a={top:g.top,right:a.right,bottom:a.bottom,left:g.left,width:a.right-g.left,height:a.bottom-g.top};a.collapsed=!1}return{top:Math.round(c+a.top),right:Math.round(b+
a.right),bottom:Math.round(c+a.bottom),left:Math.round(b+a.left),width:Math.round(a.width),height:Math.round(a.height),collapsed:a.collapsed}};f.reset=function(){null!==this.h&&(this.h.removeAllRanges(),this.h=null);this.c=null};
function oc(a){if(1!=a.v.g.M&&1!=ub(a.v.g)&&null!==a.c){var b=a.c.cloneRange(),c=b.startContainer,d=b.startOffset;if(!0===b.collapsed){var e=c.textContent,g=e.length;if(e[d-1]&&!e[d-1].match(/\s/g)&&e[d]&&!e[d].match(/\s/g)){for(var h=d;0<h&&e[h-1]&&!e[h-1].match(/\s/g);)h--;for(;d<g&&!e[d].match(/\s/g);)d++;h<d&&(b.setStart(c,h),b.setEnd(c,d),Lb(a,null,b))}}}}
f.qq=function(a,b,c){"mousedown"!=c.type&&"touchstart"!=c.type||!cc(this.v.A,b)?!this.A||"mouseup"!=c.type&&"touchend"!=c.type||(this.A=!1,this.cd(a,b)):(this.A=!0,this.cd(a,b))};function Za(a){Pb.apply(this,arguments);this.w={};this.M=[];this.G={};this.g={};this.c=[];this.ta={};this.ub="p h1 h2 h3 h4 blockquote".split(" ");this.D="h1 h2 h3 h4 h5 h6".split(" ");this.l={};this.J={};this.o=[];this.h=null;this.P=!1;for(var b=0,c=mb.length;b<c;b++)this.add(mb[b])}Ob(Za,Pb);
Za.prototype.add=function(a){a=new a(this.v);this.w[a.la]=a;this.M.push(a.la);if("object"==typeof a.A)for(var b=a.la,c=a.A,d=0,e=c.length;d<e;d++)this.G[c[d].toUpperCase()]=b,"undefined"==typeof this.g[b]&&(this.g[b]=[]),this.g[b].push(c[d].toLowerCase());"string"==typeof a.w&&(this.ta[a.la]=a.w);"object"==typeof a.M&&(this.l[a.la]=a.M)};function wb(a,b){return sb(a,b)?a.w[b]:null}function sb(a,b){return"object"==typeof a.w[b]}
Za.prototype.A=function(a,b,c){var d=b.template;"object"==typeof b[c]&&(d=b[c]);var e=this.v.J.get("module"+c);y(this.v,"moduleLocales")&&y(this.v,"moduleLocales."+c)&&(e=y(this.v,"moduleLocales."+c));pc(this,c)?(d[0][1]._content=e,d[0][1].title=""):(d[0][1]._content="",b.useTitle&&(d[0][1].title=e));b.disabled&&"string"===typeof b.disabledClass&&(d[0][1].className+=" "+b.disabledClass,this.o.push(c));this.J[c]=e;return Zb(this.v.A,a,d,{la:c})};
Za.prototype.Ba=function(a,b,c){Lb(this.v.c);var d=this.v.c;if(-1!=d.l.indexOf(c)){var e=yb(d);if(e&&3!=e.parentNode.nodeType&&e!=Ib(d.v)&&(e=e.firstChild)){for(var g=gc(d),h=g.startContainer,k=g.endContainer,p=null,w=null,v=null,C=null;e.nextSibling;)if(C=e.nextSibling,3==e.nodeType&&3==C.nodeType){p=g.startOffset;w=g.endOffset;v=e.cloneNode(!1);v.textContent=e.textContent+C.textContent;e.parentNode.insertBefore(v,e);if(e==h||C==h)C==h&&(p+=e.length),g.setStart(v,p),h=v;if(e==k||C==k)C==k&&(w+=e.length),
g.setEnd(v,w),k=v;e.parentNode.removeChild(e);C.parentNode.removeChild(C);e=v}else e=e.nextSibling;Lb(d,null,g);xb(d);e=gc(d);g=e.startContainer;h=null;for(k=yb(d);g;)3==g.nodeType&&g.parentNode===k||g===k?(g.previousSibling&&(h=g.previousSibling),g=null):g=g.parentNode;if((g=h)&&"br"==g.nodeName.toLowerCase()){if(h=g.previousSibling){k=yb(d);p=k.cloneNode(!1);for(w=null;h;)w=h.previousSibling,p.hasChildNodes()?p.insertBefore(h,p.firstChild):p.appendChild(h),h=w;k.parentNode.insertBefore(p,k)}g.parentNode.removeChild(g)}e=
e.endContainer;g=null;for(h=yb(d);e;)3==e.nodeType&&e.parentNode===h||e===h?(e.nextSibling&&(g=e.nextSibling),e=null):e=e.parentNode;if((e=g)&&"br"==e.nodeName.toLowerCase()){if(g=e.nextSibling){d=yb(d);h=d.cloneNode(!1);for(k=null;g;)k=g.nextSibling,h.appendChild(g),g=k;Vb(h,d)}e.parentNode.removeChild(e)}}}1==ub(this.v.g)&&-1<this.ub.indexOf(b)&&(b="<"+b+">");try{document.execCommand(a,!1,b)}catch(G){d=this.v.c;if(!d.c.collapsed&&(e=d.c.commonAncestorContainer,Node.ELEMENT_NODE!==e.nodeType&&(e=
e.parentElement),!cc(d.v.A,e))){for(e=Ib(d.v);null!==e.firstChild;)e=e.firstChild;for(g=Ib(d.v);null!==g.lastChild;)g=g.lastChild;h=g.length;d.v.g.c&&(g.textContent=g.textContent.replace(/[\s\xa0]+$/,"")+" ",h=g.length-1);k=gc(d).cloneRange();k.setStart(e,0);k.setEnd(g,h);Lb(d,null,k)}document.execCommand(a,!1,b)}xb(this.v.c);a:{d=yb(this.v.c);if("undefined"!==typeof this.g[c]&&-1===this.g[c].indexOf(d)){if(-1<this.g[c].indexOf(d.nodeName.toLowerCase())){b=d;break a}e=null;g=d.childNodes;h=0;for(k=
g.length;h<k;h++)if((p=g[h])&&p.nodeName&&-1<this.g[c].indexOf(p.nodeName.toLowerCase())&&("IMG"!=p.nodeName||b===p.src)){e=p;break}null!==e?d=e:-1<this.g[c].indexOf(d.parentNode.nodeName.toLowerCase())&&(d=d.parentNode)}b=d}Ib(this.v)===b&&this.v.c.cd(null,b);d=-1<this.c.indexOf(c);0==d?qc(this,c,b,!0):1==d&&"formatBlock"!=a&&rc(this,c);this.v.focus();null!==wb(this,c)&&"string"===typeof wb(this,c).Gg&&sc(this.v.M,wb(this,c).Gg,c);qb(this.v.M);return b};
function jc(a,b,c){var d,e=null,g=a.c,h=[];a.c=[];for(var k=0,p=b.length;k<p;k++)if("string"==typeof a.G[b[k]]&&(d=a.G[b[k]],"string"===typeof wb(a,d).Gg&&pc(a,d)&&h.push(wb(a,d).Gg),qc(a,d,c[k],!1)),null===e){var w=a;d=c[k];e=d.getAttribute("align")?d.getAttribute("align"):document.defaultView.getComputedStyle(d,null).textAlign;"start"==e&&(e="left");if(!0===y(w.v,"useCssTextAlign")&&y(w.v,"alignCssClass")){var w=y(w.v,"alignCssClass"),v=void 0;for(v in w)if(w.hasOwnProperty(v)&&d.classList.contains(w[v])){e=
v;break}}e=Tb("Align-"+e);sb(a,e)&&-1==a.c.indexOf(e)&&qc(a,e,c[k],!1)}k=null;b=0;for(c=g.length;b<c;b++)-1==a.c.indexOf(g[b])&&(k=wb(a,g[b]),null!==k&&"string"===typeof k.Gg&&pc(a,g[b])&&(k=wb(a,g[b]).Gg,-1==h.indexOf(k)&&tc(a.v.M,k)),rc(a,g[b]));a.v.focus();return!1}
function qc(a,b,c,d){d=d||!1;var e=a.v.w.je(b);null!==e&&e.classList.add(y(a.v,"button.activeClass"));-1==a.c.indexOf(b)&&a.c.push(b);!0===uc(a.v.M,b)&&(e=a.v.M,!1!==uc(e,b)&&sc(e,e.g[b],b));e=wb(a,b);0==d&&null!==e&&"function"==typeof e.dh&&"object"===typeof c&&setTimeout(e.dh.bind(e,c),50);if("object"==typeof a.l[b])for(c=0,d=a.l[b].length;c<d;c++)sb(a,a.l[b][c])&&rc(a,a.l[b][c])}
function rc(a,b){var c=a.v.w.je(b);null!=c&&(c.classList.remove(y(a.v,"button.activeClass")),c=a.c.indexOf(b),-1<c&&a.c.splice(c,1),c=wb(a,b),null!==c&&"function"==typeof c.dh&&c.dg())}
function Eb(a,b){if("keydown"===b.type){var c=!1;if(!vc(a,b)){if(0==ub(a.v.g)&&(32===b.keyCode||13===b.keyCode)){var d=b.keyCode;if(!y(a.v,"disableFormatting")){var e=window.getSelection(),g=e.getRangeAt(0).cloneRange();if(13===d)if(a.v.g.c)for(var d=g.commonAncestorContainer.childNodes,h=d.length-1;0<=h;h--){if(3==d[h].nodeType){g.selectNodeContents(d[h]);break}}else g.commonAncestorContainer.previousElementSibling&&(d=g.commonAncestorContainer.previousElementSibling.childNodes,0<d.length&&g.selectNodeContents(d[d.length-
1]));h=g.endOffset;if(0<h&&g.endContainer.data){var k=g.endContainer.data.substring(0,h).lastIndexOf(" ")+1,d=g.endContainer.data.substring(k,h);"string"==typeof d&&d.match(y(a.v,"regex.urlRegex"))&&(d=fc(a.v.A,d.trim()),"string"==typeof d&&(g.setStart(g.endContainer,k),g.setEnd(g.endContainer,h),e.removeAllRanges(),e.addRange(g),document.execCommand("createLink",!1,d),e=gc(a.v.c),y(a.v,"externalLinkAsTargetBlank")&&(g=e.startContainer.parentNode,-1===d.indexOf(window.location.hostname)&&g&&"A"==
g.nodeName&&g.setAttribute("target","_blank")),a.v.g.c&&(e.setStartAfter(e.startContainer.parentNode),xb(a.v.c)),Lb(a.v.c)))}}}9===b.keyCode&&(c=!0);a.v.g.c&&b.ctrlKey&&(66==b.keyCode||73==b.keyCode||85==b.keyCode)&&(c=!0);b.ctrlKey&&90==b.keyCode&&(b.shiftKey&&sb(a,"Redo")&&wb(a,"Redo").Ba(),wb(a,"Undo").Ba(),c=!0);if(-1===[37,38,39,40].indexOf(b.keyCode)&&null!==gc(a.v.c)&&(e=gc(a.v.c).cloneRange())&&!1===e.collapsed&&0==e.startOffset&&0==e.endOffset&&(g=e.startContainer,1!==g.nodeType&&g.parentNode!==
Ib(a.v)&&(g=g.parentNode),d=e.endContainer,1!==d.nodeType&&d.parentNode!==Ib(a.v)&&(d=d.parentNode),g.nextElementSibling===d)){for(g=d.previousElementSibling;g.lastChild;)g=g.lastChild;e.setEnd(g,g.length);Lb(a.v.c,null,e);xb(a.v.c)}c&&wc(b)}}else if("keyup"===b.type)a:if(c=yb(a.v.c),cc(a.v.A,c)&&(ub(a.v.g)&&c&&Ub(c,"font")&&c.hasAttribute("face")&&-1<c.getAttribute("face").indexOf("Thread")&&(c.outerHTML=c.innerHTML),null===a.h&&a.v.S&&(a.h=a.v.S.cloneNode(!1)),null===a.h||a.h.parentNode&&a.h.parentNode===
Ib(a.v)||a.v.isEmpty()||((e=document.getElementById(a.h.id))?a.h=e:(a.h.innerHTML=a.v.getData(),vb(a.v,""),Ib(a.v).appendChild(a.h),rb(a.v.c,"end",a.h))),a.P&&(null!==a.h?xc(a,a.h):xc(a,Ib(a.v),!0),a.P=!1),a.v.isEmpty()&&(a.P=!0),!vc(a,b))){if(!0===Xb(a.v.g)||!0===Yb(a.v.g)){if(null==c)break a;for(e=c;"string"!=typeof a.G[e.nodeName]&&e!=Ib(a.v);)e=e.parentNode;xc(a,e)}if(13==b.keyCode){Db(a.v.G);xb(a.v.c);if(null==c)break a;e=a.G[c.nodeName];"string"==typeof e&&""==Jb(c.innerHTML,["img","a"])&&((g=
a.ta[e])&&wb(a,g).Ba(),a.v.g.c&&"Link"===e&&sb(a,e)&&wb(a,e).an());"SPAN"==c.nodeName&&"DIV"==c.parentNode.nodeName&&(c=c.parentNode,c.innerHTML=Jb(c.innerHTML,["a","img","br"]));e=["strong","b","em","i"];ub(a.v.g)&&"FONT"==c.nodeName&&-1<e.indexOf(c.parentNode.nodeName.toLowerCase())&&(c=c.parentNode.parentNode,c.innerHTML=Jb(c.innerHTML,e.concat(["a","img","br"])),c=c.firstChild,kc(a.v.c,c),xb(a.v.c));if("DIV"==c.nodeName){wb(a,"Paragraph").Ba();c=yb(a.v.c);if(null==c)break a;!c.previousSibling||
"OL"!=c.previousSibling.nodeName&&"UL"!=c.previousSibling.nodeName||c.parentNode==Ib(a.v)||(e=c.parentNode,c.remove(),Vb(c,e),kc(a.v.c,c),xb(a.v.c))}}else b.ctrlKey&&(a.v.g.c||!1!==a.v.c.c.collapsed&&!ub(a.v.g))?66==b.keyCode&&sb(a,"Bold")?wb(a,"Bold").Ba():73==b.keyCode&&sb(a,"Italic")?wb(a,"Italic").Ba():85==b.keyCode&&sb(a,"Underline")&&wb(a,"Underline").Ba():46!=b.keyCode&&8!=b.keyCode||!a.v.isEmpty()||null===c||-1!==a.D.indexOf(c.nodeName.toLowerCase())||(rb(a.v.c,"start"),sb(a,tb)&&wb(a,tb).Ba(),
c=yb(a.v.c),a.v.c.cd(null,c));e=a.v.c;"object"==typeof y(e.v,"pageOffset")&&"number"==typeof y(e.v,"pageOffset.top")&&(g=gc(e).cloneRange(),c=0,y(e.v,"pageOffset.top")&&(c=Hb(e.v.w).height+y(e.v,"pageOffset.top")),g.getClientRects&&(g.collapse(!0),g=g.getClientRects(),0<g.length&&(e=g[0].top,g=g[0].bottom,d=document.body.scrollLeft||document.documentElement.scrollLeft,h=document.body.scrollTop||document.documentElement.scrollTop,e<=c&&window.scrollTo(d,h+e-c),g+0>=window.innerHeight&&window.scrollTo(d,
h+(g-window.innerHeight)+0))))}}function vc(a,b){return"boolean"===typeof y(a.v,"disableFormatting")&&1==y(a.v,"disableFormatting")&&(13==b.keyCode||9===b.keyCode||1==b.ctrlKey&&66==b.keyCode||1==b.ctrlKey&&73==b.keyCode||1==b.ctrlKey&&85==b.keyCode||46==b.keyCode||8==b.keyCode)?(46!=b.keyCode&&8!=b.keyCode&&(b.preventDefault(),b.stopPropagation()),!0):!1}
function xc(a,b,c){if(b!=Ib(a.v)||c)for(a=b.getElementsByTagName("span"),c=b=null;b=a[0];){for(c=b.firstChild;c;)b.parentNode.insertBefore(c,b),c=b.firstChild;b.parentNode.removeChild(b)}}function pc(a,b){return"object"===typeof y(a.v,b)&&"boolean"===typeof y(a.v,b+".textual")&&!0===y(a.v,b+".textual")}function yc(a,b,c){c&&-1<a.o.indexOf(b)?(zc(a.v.w,b,c),a.o.splice(a.o.indexOf(b),1)):c||-1<a.o.indexOf(b)||(zc(a.v.w,b,c),a.o.push(b))}
function $a(a){Pb.apply(this,arguments);this.c={};this.h=null;for(var b=0,c=lb.length;b<c;b++)this.add(lb[b])}Ob($a,Pb);$a.prototype.add=function(a){a=new a;this.c[a.Zc()]=a};function ab(a){Pb.apply(this,arguments);this.c={};if(nb.en instanceof Ac)this.add(nb.en.Ek);else if(nb["*"]instanceof Ac)this.add(nb["*"].Ek);else{var b=Object.keys(nb);b[0]&&this.add(nb[b[0]].Ek)}}Ob(ab,Pb);ab.prototype.add=function(a){this.c=a};ab.prototype.get=function(a){return"undefined"!=typeof this.c[a]?this.c[a]:""};
function bb(a){Pb.apply(this,arguments);this.c={Rh:[],data:{}};this.h=this.g.bind(this)}Ob(bb,Pb);
bb.prototype.g=function(a){var b=this.v;if(this.v.Ha(null==b.h?null:b.h.id)){var c=wb(this.v.ia,"Image");"touchstart"==a.type&&"touchend"==a.type&&"IMG"==a.target.tagName&&kc(this.v.c,a.target);var b=a.currentTarget||a.target,d=a.type;null!==c&&null===c||this.v.notify(d,a);var e=b.nodeName+b.id,g=a.originalTarget||a.toElement||a.srcElement;null!==c&&this.v.g.g&&xb(this.v.c);if("object"==typeof this.c.data[e]&&"object"==typeof this.c.data[e][d])for(c=this.c.data[e][d],d=0,e=c.length;d<e;d++){!0===
c[d].ls&&wc(a);var h=c[d].action;if("function"==typeof h)h.call(this.v,b,g,a);else if(-1<h.indexOf(".")){for(var h=h.split("."),k=this.v,p=0,w=h.length;p<w;p++)k=k[h[p]];k.call(this.v,b,g,a)}else this.v[h].call(this.v,b,g,a)}}};
bb.prototype.add=function(a,b,c,d){if(1==zb(this.v.g)&&1==this.v.g.g)switch(b){case "click":b="touchstart";break;case "mouseup":b="touchend";break;case "mousedown":b="touchstart"}0==a.id&&(a.id=Math.random().toString(36).substring(7));var e=a.nodeName+a.id+b+c,g=a.nodeName+a.id;-1==this.c.Rh.indexOf(e)&&(a.addEventListener(b,this.h,!1),this.c.Rh.push(e),"object"!==typeof this.c.data[g]&&(this.c.data[g]={}),"object"!==typeof this.c.data[g][b]&&(this.c.data[g][b]=[]),this.c.data[g][b].push({element:a,
type:b,action:c,ls:!!d}))};bb.prototype.remove=function(a,b){var c=a.nodeName+a.id;if(this.c.data[c]){for(var d in this.c.data[c])if("string"!=typeof b||b===d)a.removeEventListener(d,this.h,!1),this.c.Rh.splice(this.c.Rh.indexOf(a.nodeName+a.id+d+this.c.data[c][d][0].action),1);"undefined"==typeof b&&delete this.c.data[c]}};
bb.prototype.removeAll=function(){for(var a in this.c.data)for(var b in this.c.data[a])if(this.c.data[a].hasOwnProperty(b))for(var c=0,d=this.c.data[a][b].length;c<d;c++)this.c.data[a][b][c].element.removeEventListener(b,this.h,!1);this.c.Rh=[];this.c.data=[]};function wc(a){a.stopPropagation&&a.stopPropagation();a.preventDefault?a.preventDefault():a.cancelBubble=!0}
function cb(a){Pb.apply(this,arguments);this.c="";this.h=null;this.o=/(^<h\d{1}[^>]*>.*?<\/h\d{1}(?=[>\s])[^>]*>\s*?)<h\d{1}[^>]*>(.*?)<\/h\d{1}(?=[>\s])[^>]*>/i;this.g=/^\s*?<h\d{1}[^>]*>(.*?)<\/h\d{1}(?=[>\s])[^>]*>/i}Ob(cb,Pb);
cb.prototype.l=function(a,b,c){this.c=this.v.getData();var d;a=["text/html"];b=null;var e=this.v.o.createElement("div",{contenteditable:"true",style:{visibility:"hidden"}});if("object"==typeof c.clipboardData&&"function"==typeof c.clipboardData.getData&&null!==c.clipboardData.types&&"function"==typeof c.clipboardData.types.indexOf)for(var g=0,h=a.length;g<h;g++)if(-1<c.clipboardData.types.indexOf(a[g])){b=c.clipboardData.getData(a[g]);b=b.replace(/(<\/html>)([\s\S]*)/gi,"$1");b=Bc(this,b);e.innerHTML=
b;b=e.innerHTML;break}if(null===b){document.body.appendChild(e);try{d=document.body.createTextRange(),d.moveToElementText(e),ub(this.v.g)||d.select(),d.execCommand("Paste"),b=e.innerHTML}catch(k){this.A()}e.parentNode.removeChild(e)}d=b;null!==d&&(wc(c),d=Cc(this,d),lc(this.v.c,d),this.v.notify("paste",null))};
cb.prototype.A=function(){var a=this.v.getData();if(this.c!=a){clearInterval(this.h);this.h=null;var b;var c=this.c;if("<p><br></p>"===c)b=a;else{for(var d=b=0,e=c.length,g=a.length;b<e&&c[b]==a[b];)b++;for(;e-d>b&&c[e-d-1]==a[g-d-1];)d++;d=g-d;0<b&&">"!=a[b-1]&&--b;0<d&&">"===a[d]&&(d+=1);b=a.substr(b,d-b)}c=Cc(this,b);c=a.replace(b,"\x3c!-- paste --\x3e").replace("\x3c!-- paste --\x3e",c);g=gc(this.v.c);b=g.startContainer.previousSibling;for(var a=g.startOffset,h=g.startContainer.parentNode.textContent.length;b;)3==
b.nodeType&&(a+=b.textContent.length),b=b.previousSibling;var k=g.startContainer.parentNode,e=k.nextElementSibling;b=!1;for(d=null;k&&null==e;)if(k=k.parentNode,e=k.nextElementSibling,k==Ib(this.v)){h>=a?(b=!0,e=g.startContainer.parentNode):e=null;break}if(e)for(g=Ib(this.v).children,h=0,k=g.length;h<k;h++)if(g[h]===e){d=k-h;break}vb(this.v,c);c=gc(this.v.c);if(d){e=Ib(this.v).children;g=e.length;if((b=e[b?g-1:g-d-1])&&1==b.nodeType)for(e=d=0,g=b.firstChild;g;)3==g.nodeType&&(e+=g.textContent.length),
a<=e?(a-=d,b=g,g=null):(3==g.nodeType&&(d+=g.textContent.length),g=g.nextSibling);b&&b.nodeType===Node.TEXT_NODE&&(c.setStart(b,a),c.setEnd(b,a),c.collapse(!0))}else c.selectNodeContents(Ib(this.v)),c.collapse(!1);Lb(this.v.c,null,c);xb(this.v.c);this.c=""}else this.h=setTimeout(this.A.bind(this),20)};
function Cc(a,b){if("boolean"===typeof y(a.v,"disableFormatting")&&!0===y(a.v,"disableFormatting"))return b=Jb(b),b=b.replace(/&nbsp;/gi," "),b=b.trim();if("object"!==typeof y(a.v,"pasteCleaner"))return b;var c;c=b.replace(/\x3c!--[\s\S]+?--\x3e/gi,"");b=c=c.replace(/<(!|script[^>]*>(\s|.)*?<\/script(?=[>\s])|style[^>]*>(\s|.)*?<\/style(?=[>\s])|\/?(\?xml(:\w+)?|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,"");c=b=Dc(a,b);var d=c.match(RegExp("<*mso-list:Ignore[^<]*<","gi"));if(d)for(var e=/>(.*)</,
g,h=0,k=d.length;h<k;h++)g=d[h].match(e),g[1]&&"\u00b7"!==g[1]&&(g=d[h].replace(g[0],">\u00b7<"),c=c.replace(d[h],g));b=Ec(a,c);b=Fc(a,b);c=b=Bc(a,b);c=c.replace(/<br><br>/gi,"<br>");c=c.replace(/<br><\/br>/gi,"<br>");c=c.replace(/<br><p>/gi,"<p>");c=c.replace(/<br><h/gi,"<h");c=c.replace(/<p><\/p>|<p>&nbsp;<\/p>/gi,"");c=c.replace(/^\s*\n/gm,"");c=b=Gc(a,c);c=c.replace(/[\u2018|\u2019|\u201A]/g,"'");c=c.replace(/[\u201C|\u201D|\u201E]/g,'"');c=c.replace(/\u2026/g,"...");c=c.replace(/[\u2013|\u2014]/g,
"-");c=c.replace(/\u02C6/g,"^");c=c.replace(/\u2039/g,"<");c=c.replace(/\u203A/g,">");c=c.replace(/[\u02DC|\u00A0]/g," ");b=Hc(a,c);b=Ic(a,b);Array.isArray(y(a.v,"pasteCleaner.allowedTags"))&&(b=Jb(b,y(a.v,"pasteCleaner.allowedTags")));b=Jc(a,b);if(!0===y(a.v,"replaceHeadings")){c=b;if(y(a.v,"allowedFormats")){d=[];e=y(a.v,"allowedFormats");h=0;for(k=e.length;h<k;h++)if(g=e[h],-1!=g.indexOf("Heading")){var p=a.v.ia;g="undefined"==typeof p.g[g]?null:p.g[g];Array.isArray(g)&&d.push(g[0])}0<d.length&&
(h=d[0],e=d[1],k=d[d.length-1],2<d.length&&(c=c.replace(RegExp("<(/?)h\\d{1}>","gi"),"<$1"+k+">")),(k=!Jb(a.v.getData()).trim())&&c.match(/^<h\d{1}>/)&&(c=c.replace(a.g,"<"+h+">$1</"+h+">")),h=new RegExp("^\\s*?<"+h+"[^>]*>.*?<\\/"+h+"(?=[>\\s])[^>]*>\\s*?$"),1<d.length&&(k?c=c.replace(a.o,"$1<"+e+">$2</"+e+">"):a.v.getData().match(h)&&(c=c.replace(a.g,"<"+e+">$1</"+e+">"))),c=c.replace(new RegExp("(?!(<(/?)("+d.join("|")+")>))<(/?)h\\d{1}>","gi"),"<$1p>"))}b=c}c=a.v.R;d=b;c.c&&c.c.test(d)&&(e=d,
d=c.v.o.createElement("div"),d.innerHTML=e,e=c.v.o.createElement("div"),Kc(c,d,e),d=e.innerHTML.toString().trim());return d}function Dc(a,b){Array.isArray(y(a.v,"pasteCleaner.unwantedTags"))&&y(a.v,"pasteCleaner.unwantedTags").forEach(function(a){b=b.replace(new RegExp("<"+a+"[\\s\\S]*?"+a+"([\\s\\S]*?)>","gi"),"")}.bind(a));return b}
function Fc(a,b){Array.isArray(y(a.v,"pasteCleaner.unnecessaryAttrs"))&&y(a.v,"pasteCleaner.unnecessaryAttrs").forEach(function(a){b=b.replace(new RegExp(" "+a+"=(\"[\\s\\S]*?\"|'[\\s\\S]*?')","gi"),"")}.bind(a));return b}function Jc(a,b){b=b.replace(RegExp("(\\s*<br>\\s*){2,}","gi"),"");var c=y(a.v,"pasteCleaner.allowedTags");Array.isArray(c)&&c.forEach(function(a){b=b.replace(new RegExp("<"+a+">(</?["+c.join("|")+"]+>|\\s)*</"+a+">","gi"),"")}.bind(a));return b}
function Ec(a,b){Array.isArray(y(a.v,"pasteCleaner.unnecessaryTags"))&&y(a.v,"pasteCleaner.unnecessaryTags").forEach(function(a){b=b.replace(new RegExp("(<"+a+"[^>]*>)|(</"+a+"(?=[>\\s])[^>]*>)","gi"),"")}.bind(a));return b}
function Bc(a,b){var c=b.match(/<(\/?img[^>]*>)/gi);null!==c&&c.forEach(function(a){var c=a.match(/src="([\s\S]*?)"/gi);"string"==typeof c[0]&&(-1<c[0].indexOf("file:")||/(?:data:)?image\/(?:png|gif|jpg|jpeg);base64,[+=\w\s\d\/]*/.test(c[0]))&&(b=b.replace(a,""))}.bind(a));return b}function Gc(a,b){Array.isArray(y(a.v,"pasteCleaner.semanticTags"))&&y(a.v,"pasteCleaner.semanticTags").forEach(function(a){b=b.replace(new RegExp("<(/?)"+a[0]+">","gi"),"<$1"+a[1]+">")}.bind(a));return b}
function Ic(a,b){Array.isArray(y(a.v,"pasteCleaner.replaceTableTags"))&&(y(a.v,"pasteCleaner.replaceTableTags").forEach(function(a){b=b.replace(new RegExp("<"+a[0]+"[^>]*>(.*?)</"+a[0]+"(?=[>s])[^>]*>","gi"),"$1"+a[1])}.bind(a)),b=b.replace(RegExp("<(/?)caption>","gi"),"<$1p>"));return b}function Hc(a,b){Array.isArray(y(a.v,"pasteCleaner.replaceHtmlEntityNames"))&&y(a.v,"pasteCleaner.replaceHtmlEntityNames").forEach(function(a){b=b.replace(new RegExp("\\"+a[0],"gi"),a[1])}.bind(a));return b}
function db(a){Pb.apply(this,arguments);this.h=this.c=null}Ob(db,Pb);function Ab(a){if(null===a.c){var b=Array.isArray(y(a.v,"contentAnalyzer.listsMarks"))?y(a.v,"contentAnalyzer.listsMarks"):null;a.c=b?new RegExp(b.join("|"),"gi"):null;a.h=b?new RegExp("^["+b.join("|")+"]","gi"):null}}
function Kc(a,b,c){for(var d,e=null,g,h=function(a){e||(e=this.v.o.createElement("ul"),a.nodeName&&"P"===a.nodeName&&!a.innerHTML.trim()?(a.parentNode.insertBefore(e,a),a.parentNode.removeChild(a)):a.appendChild(e));return e}.bind(a),k=function(a,b){if(a.trim()){var c=this.v.o.createElement("li");c.innerHTML=a.trim();b.appendChild(c)}}.bind(a),p=0,w=b.childNodes.length;p<w;p++)switch(d=b.childNodes[p],d.nodeType){case Node.ELEMENT_NODE:if("BR"===d.nodeName&&e&&Node.TEXT_NODE===b.childNodes[p-1].nodeType)continue;
(g=d.innerHTML.trim().match(a.h))?1===g.length?0===d.innerHTML.trim().indexOf(g[0])?k(d.innerHTML.trim().substr(g[0].length).trim(),h(c)):c.appendChild(d.cloneNode(!0)):(g=d.cloneNode(!1),c.appendChild(g),Kc(a,d,g)):(e=null,c.appendChild(d.cloneNode(!0)));break;case Node.TEXT_NODE:(g=d.nodeValue.trim().match(a.h))?k(d.nodeValue.substr(g[0].length).trim(),h(c)):c.appendChild(d.cloneNode(!1))}}function eb(a){Pb.apply(this,arguments);this.c={}}Ob(eb,Pb);
eb.prototype.subscribe=function(a,b,c){Array.isArray(this.c[a])||(this.c[a]=[]);b={Lf:b,scope:c||this};this.c[a].push(b);return[a,b]};eb.prototype.unsubscribe=function(a,b){var c=a[0];if(Array.isArray(this.c[c]))if(b)delete this.c[c];else for(var d=0,e=this.c[c].length;d<e;d++)this.c[c][d]===a[1]&&this.c[c].splice(this.c[c][d],1)};function fb(a){Pb.apply(this,arguments);this.h=[];this.A=this.c=-1;this.o=this.v.getData();this.l=0;this.g=!1}Ob(fb,Pb);
fb.prototype.reset=function(){this.h=[];this.A=this.c=-1;this.o=this.v.getData()};function Lc(a){a.g?a.g=!1:(clearTimeout(a.l),a.l=setTimeout(a.G.bind(a),250))}fb.prototype.G=function(){var a=this.v.getData();if(a!==this.o&&null!==gc(this.v.c)){-1!==this.c&&"undefined"!==typeof this.h[this.c+1]&&(this.h=this.h.slice(0,this.c+1));var b={startValue:this.o,newValue:a,selection:this.v.c.h,range:gc(this.v.c).cloneRange()};this.h.push(b);this.c++;this.A=this.c;this.o=a;Mc(this)}};
fb.prototype.Si=function(){return 0<this.h.length&&-1<this.c};fb.prototype.Ri=function(){return this.c<this.A};function Mc(a){var b=a.v.message;a=[a.h.length,a.c,a.A];if(Array.isArray(b.c["/snapshot/stack"]))for(var c=0,d=b.c["/snapshot/stack"].length;c<d;c++)b.c["/snapshot/stack"][c].Lf.apply(b.c["/snapshot/stack"][c].scope,a||[])}
function gb(a){Pb.apply(this,arguments);this.A="MutationObserver"in window;this.options={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:[]};this.h=null;this.c={}}Ob(gb,Pb);gb.prototype.observe=function(){this.A&&(this.h=new MutationObserver(this.o.bind(this)),this.h.observe(Ib(this.v),this.options))};
gb.prototype.o=function(a){var b=Array.prototype.forEach;a.forEach(function(a){a.addedNodes&&0<a.addedNodes.length&&b.call(a.addedNodes,function(b){this.g("add",b.nodeName,b,a.type,a.target)},this);a.removedNodes&&0<a.removedNodes.length&&b.call(a.removedNodes,function(b){this.g("remove",b.nodeName,b,a.type,a.target)},this);Lc(this.v.Se);Mb(this.v)},this)};
gb.prototype.H=function(a,b,c){"object"!==typeof this.c[a]&&(this.c[a]={});Array.isArray(this.c[a][b])||(this.c[a][b]=[]);-1<this.c[a][b].indexOf(c)||this.c[a][b].push(c)};gb.prototype.g=function(a,b,c,d,e){if("object"===typeof this.c[a]&&Array.isArray(this.c[a][b])&&0!==this.c[a][b].length)for(var g=0,h=this.c[a][b].length;g<h;g++)this.c[a][b][g].apply(this.v,arguments)};
function hb(a){Sb.apply(this,arguments);this.types={Qr:"modal",Dn:"popover"};this.M=this.G=!1;this.g=[];this.c=[];this.w=null;this.P="";this.o=this.A=null;this.h={modal:[],popover:[]};this.J=null}Ob(hb,Sb);
function Nc(a,b,c,d,e){var g=y(a.v,"popups.modal.template"),h=null;"object"==typeof e?h=e:(h=Zb(a.v.A,b,g.buttons.area),h=h[h.length-1]);var k;e=0;for(var p=c.buttons.length;e<p;e++)if(b=c.buttons[e],k=g.buttons[b.type],"object"===typeof b.attributes&&(k[0][1]=Gb(a.v.A,k[0][1],b.attributes)),k=Zb(a.v.A,h,k),k[k.length-1].innerHTML=b.text,"object"==typeof b.events)for(var w in b.events)a.v.l.add(k[0],w,b.events[w],!0),a.h[d].push(k[0]);return h}
function Oc(a,b,c){null!=c&&("function"==typeof c?c.call(a.v,a.A):"string"==typeof c?b.innerHTML=c:b.appendChild(c))}
function Pc(a,b,c){var d,e,g=0,h=0;"compact"===a.v.getType()?(d=a.v.o.getPosition(Ib(a.v)),c=a.v.o.getPosition(c),e=a.v.o.getPosition(b),g=c.bottom+2,h=c.left,c.top+c.height>d.height&&(g=d.height-10,c.height<e.height&&(g=c.top-e.height)),d.width<e.width+c.left&&(h=d.width-e.width-ec(a.v.A))):(c=a.v.o.getPosition(c,!0),e=a.v.o.getPosition(b,!0),g=c.top+c.height+6,h=c.left,window.innerWidth<e.width+h+ec(a.v.A)&&(h=window.innerWidth-e.width-ec(a.v.A)));b.style.top=g+"px";b.style.left=h+"px"}
hb.prototype.l=function(){if("undefined"!=typeof this.g[0]){for(var a=0,b=this.h.modal.length;a<b;a++)this.v.l.remove(this.h.modal[0]?this.h.modal[0]:this.h.modal[a]);this.g[0].parentNode.removeChild(this.g[0]);this.g=[];this.A=null;this.h.modal=[];this.G=!1}};
function Qc(a,b){if(("undefined"==typeof b||b==a.P)&&"undefined"!=typeof a.c[0]){for(var c=0,d=a.h.popover.length;c<d;c++)a.v.l.remove(a.h.popover[c]);a.c[0].parentNode.removeChild(a.c[0]);a.c=[];a.o=null;a.h.popover=[];a.w=null;a.J=null;a.M=!1}}function Db(a){a.l();Qc(a)}function ib(a){Sb.apply(this,arguments);this.c=null;this.h=[];this.A={};this.o=null;this.G={};this.l=[];this.g=!0}Ob(ib,Sb);f=ib.prototype;
f.create=function(){if(!(null!==this.c||"boolean"===typeof y(this.v,"disableFormatting")&&y(this.v,"disableFormatting"))){var a;null!==this.c?a=null:("inline"===this.v.getType()?a=document.body:a=Ib(this.v),this.h=Zb(this.v.A,a,y(this.v,"toolbar").template),!0===zb(this.v.g)&&this.h[0].classList.add("touchable"),a=this.h[0]);this.c=a;this.v.l.add(this.c,"click",this.ws.bind(this),!0);0==zb(this.v.g)&&(this.v.l.add(this.c,"mouseover",this.ro.bind(this)),this.v.l.add(this.c,"mouseout",this.ro.bind(this)));
var b=y(this.v,"toolbar"),c=$b(this.h);if("object"===typeof b.blocks){a=c;"undefined"!==typeof b.switcher&&(a=Zb(this.v.A,c,b.switcher.area.template),a=$b(a),Zb(this.v.A,c,b.switcher.button.template));var b=b.blocks,d;for(d in b)c=Zb(this.v.A,a,b[d].template),this.G[d]={element:c,visible:b[d].visible},!1===b[d].visible&&(c[0].style.display="none",this.l.push(d),this.g=!1),Rc(this,$b(c),b[d].modules)}else Rc(this,c,b.modules);this.Mf();this.v.l.add(window,"scroll",this.Mf.bind(this),!1);this.v.l.add(window,
"resize",this.Mf.bind(this),!1)}};f.ro=function(a,b,c){!0===b.hasAttribute("data-module")&&"mouseover"===c.type?(b.classList.add(y(this.v,"button.overClass")),this.o=b):"mouseout"===c.type&&null!==this.o&&this.o.classList.remove(y(this.v,"button.overClass"));"mouseout"===c.type?(a=this.v.o.getPosition($b(this.h),!0),dc(a,ic(c))||this.v.notify("mouseoutPopup",null)):"mouseover"===c.type&&this.v.notify("mouseoverPopup",null)};
function Rc(a,b,c){for(var d=y(a.v,"button"),e=a.v.ia.M,g=y(a.v,"toolbar.group"),h,k,p=0,w=c.length;p<w;p++){h=Zb(a.v.A,b,g);for(var v=0,C=c[p].length;v<C;v++)k=c[p][v],-1!=e.indexOf(k)&&(a.A[k]=wb(a.v.ia,k).init(h[0],d,k))}}f.remove=function(){!1!==(null!==this.c)&&(this.v.l.remove(this.c),null!==this.c.parentNode&&this.c.parentNode.removeChild(this.c),this.c=null,this.v.l.remove(window))};
f.ws=function(a,b,c){a=!0;if(!1===b.hasAttribute("data-type")&&!0===b.parentNode.hasAttribute("data-type")||!1===b.hasAttribute("data-module")&&!0===b.parentNode.hasAttribute("data-module"))b=b.parentNode;if(!0===b.hasAttribute("data-type")&&"toolbarSwitcher"===b.getAttribute("data-type")){a=!1;for(var d,e=0,g=this.l.length;e<g;e++)d=this.G[this.l[e]],d.element[0].style.display=!1===this.g?"block":"none",d.visible=!1===this.g;!1===this.g?this.c.classList.add("expanded"):this.c.classList.remove("expanded");
this.Mf();this.g=!1===this.g;Lb(this.v.c)}!1!==b.hasAttribute("data-type")&&"selectBox"===b.getAttribute("data-type")||qb(this.v.M);b=b.getAttribute("data-module");if(sb(this.v.ia,b)){if(-1<this.v.ia.o.indexOf(b))return;a=!1;wb(this.v.ia,b).Ba()}a&&(a=this.v.o.getPosition($b(this.h),!0),b=ic(c),dc(a,b)||(a=this.v.o.getPosition(Ib(this.v),!0),dc(a,b)||this.v.notify("onClickOutsideToolbar",c)))};f.je=function(a){return"undefined"==typeof this.A[a]||"undefined"==typeof this.A[a][0]?null:this.A[a][0]};
function Hb(a){var b={width:0,height:0};if(a=$b(a.h))b.width=parseInt(a.offsetWidth,10),b.height=parseInt(a.offsetHeight,10);return b}f.setWidth=function(a){if("100%"==a||"auto"==a||"number"==typeof a||null!==a&&"px"==a.substr(-2))"number"==typeof a&&(a=a+"px"),this.c.style.width=a};
f.Mf=function(){if("inline"===this.v.getType()&&("undefined"===typeof y(this.v,"isDisabledScroll")||!0!==y(this.v,"isDisabledScroll").call())){var a=0,b=0,c=null;"function"===typeof y(this.v,"editorDimension")?c=y(this.v,"editorDimension").call():c=this.v.o.getPosition(Ib(this.v),!0);var d=this.v.o.getPosition($b(this.h)),e=document.body.scrollLeft||document.documentElement.scrollLeft,g=document.body.scrollTop||document.documentElement.scrollTop,h=y(this.v,"toolbar.topOffset"),a=c.top-d.height;"number"===
typeof y(this.v,"toolbar.heightCorrection")&&(a-=y(this.v,"toolbar.heightCorrection"));a-=y(this.v,"toolbar.spacing.top");b=c.left;document.body.offsetWidth<c.left+d.width?(this.c.classList.add(y(this.v,"toolbar.fromRightClass")),b=c.left+c.width-d.width+y(this.v,"toolbar.spacing.right")):b-=y(this.v,"toolbar.spacing.left");e>c.left&&(b+=e);g>a-h&&g<c.top+c.height-h-2*d.height&&(a=g+h);this.c.style.top=a+"px";this.c.style.left=b+"px"}};
function zc(a,b,c){b=a.je(b);null!==b&&(a=y(a.v,"button.disabledClass"),"undefined"!==typeof a&&(c?b.classList.remove(a):b.classList.add(a)))}function jb(a){Sb.apply(this,arguments);this.c={};this.h=[];this.o={};this.A="";this.g={}}Ob(jb,Sb);
jb.prototype.create=function(a,b,c,d){this.h.push(c);this.c[c]={};a=Sc(this,a,c);if(null===a)return[];var e=$b(this.c[c].ug);e.style.visibility="hidden";for(var g=this.v.ia.M,h,k,p=0,w=d[0],v=0,C=d.length;v<C;v++)if(h=d[v],-1!=g.indexOf(h)){this.g[h]=c;var G=wb(this.v.ia,h);this.c[c][h]=G.init(a,b,h);pc(this.v.ia,h)&&(this.c[c][h][0].classList.add(y(this.v,"SelectBox.className.textual")),k=this.v.ia.J[h],e.innerHTML=k,e.offsetWidth>p&&(p=e.offsetWidth));!0===-1<this.v.ia.c.indexOf(h)&&(w=h);G.Gg=
c}!0===pc(this.v.ia,w)?tc(this,c):sc(this,c,w);0<p&&(e.style.width=p+"px");e.style.visibility="visible";return[e]};
function Sc(a,b,c){var d=y(a.v,"SelectBox.template");if("undefined"===typeof d||"undefined"===typeof d.base||"undefined"===typeof d.button||"undefined"===typeof d.list)return null;a.c[c].sg=Zb(a.v.A,b,d.base);b=$b(a.c[c].sg);a.c[c].ug=Zb(a.v.A,b,d.button,{la:c});a.c[c].ug[0].setAttribute("data-type","selectBox");a.c[c].Zg=Zb(a.v.A,b,d.list);a.c[c].Zg[0].style.display="none";a.c[c].opened=!1;return $b(a.c[c].Zg)}
function sc(a,b,c){var d=a.v.ia.J[c],e=$b(a.c[b].ug);!0===pc(a.v.ia,c)?e.innerHTML=d:("string"===typeof a.o[b]&&e.classList.remove("module"+a.o[b]),e.classList.add("module"+c),a.o[b]=c)}
function Tc(a,b){"undefined"!==typeof a.c[b]&&(!0===a.c[b].opened?Uc(a,b):(""!==a.A&&Uc(a,a.A),"undefined"!==typeof a.c[b]&&"undefined"!==typeof a.c[b].Zg[0]&&(Db(a.v.G),a.v.notify("selectBoxOpen",null),a.c[b].Zg[0].style.display="block",a.c[b].opened=!0,a.c[b].ug[0].classList.add(y(a.v,"SelectBox.className.opened")),a.A=b)),Lb(a.v.c))}
function Uc(a,b){"undefined"!==typeof a.c[b]&&"undefined"!==typeof a.c[b].Zg[0]&&(a.v.notify("selectBoxClose",null),a.c[b].Zg[0].style.display="none",a.c[b].opened=!1,a.c[b].ug[0].classList.remove(y(a.v,"SelectBox.className.opened")))}function qb(a){for(var b=0,c=a.h.length;b<c;b++)!0===a.c[a.h[b]].opened&&Uc(a,a.h[b])}function uc(a,b){return"string"===typeof a.g[b]&&"object"===typeof a.c[a.g[b]]}function tc(a,b){if(a.c[b]){var c=a.v.J.get("emptySelectBox");$b(a.c[b].ug).innerHTML=c}}
function kb(a){Sb.apply(this,arguments);this.c=null}Ob(kb,Sb);kb.prototype.show=function(a){var b=a.top,c=a.left;a=a.height;null===this.c&&(this.c=this.v.o.createElement("span"),this.c.style.position="absolute",this.c.style.top=b+"px",this.c.style.left=c+"px",this.c.style.display="block",this.c.style.height=a+"px",this.c.style.width="1px",this.c.style.borderLeft="1px solid #000",document.body.appendChild(this.c))};
kb.prototype.hide=function(){null!==this.c&&(this.c.parentNode.removeChild(this.c),this.c=null)};function Vc(a,b,c,d,e,g){this.v=a;this.la=b;this.g=c||"";this.A=d||[];this.M=e||[];this.w=g||""}Ob(Vc,Pb);Vc.prototype.init=function(a,b,c){return this.v.ia.A.apply(this.v.ia,arguments)};Vc.prototype.Ba=function(){throw Error("Unimplemented abstract method");};
function Wc(a){Lb(a.v.c);var b=yb(a.v.c);if(null===b||null===b.parentNode)return!0;var b=b.nodeName.toLowerCase(),c=Rb[b];if(!c||"p"===b)return!0;if("string"===typeof c.content&&Qb[c.content])return-1<Qb[c.content].indexOf(a.A[0]||null);Array.isArray(c.content.elements);return!0}
function Xc(a){Lb(a.v.c);var b=yb(a.v.c);if(null!==b&&null!==b.parentNode){var c=b;b.parentNode!==Ib(a.v)&&(c=b.parentNode);switch(c.nodeName.toLowerCase()){case "blockquote":wb(a.v.ia,"Blockquote").Ba();break;case "ul":document.execCommand("insertUnorderedList",!1,null);break;case "ol":document.execCommand("insertOrderedList",!1,null);break;case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":document.execCommand("formatBlock",!1,"p")}xb(a.v.c)}}
function Yc(a){Vc.call(this,a,tb,"formatBlock",["p"],["Heading1","Heading2","Heading3","Heading4","Blockquote"]);this.c=["font","strong","b","em","i"]}Ob(Yc,Vc);Yc.prototype.init=function(a,b,c){this.v.ta.H("add",(this.A[0]||null).toUpperCase(),this.h.bind(this));return this.v.ia.A.apply(this.v.ia,arguments)};
Yc.prototype.h=function(a,b,c,d,e){if(a=Ub(e,"blockquote"))a=this.v.g.c?c.nextElementSibling:c.previousElementSibling,a=null!==a&&Ub(a,"p")&&!a.textContent&&!c.textContent;a&&(this.v.g.c?(this.v.o.remove(c.nextElementSibling),null!==c.nextElementSibling&&c.nextElementSibling.textContent?wb(this.v.ia,"Blockquote").Ba():(Vb(c,e),kc(this.v.c,c),rb(this.v.c,"end",c))):(this.v.o.remove(c.previousElementSibling),null!==c.nextElementSibling?wb(this.v.ia,"Blockquote").Ba():(Vb(c,e),kc(this.v.c,c),rb(this.v.c,
"end",c))))};Yc.prototype.Ba=function(){Xc(this);for(var a=this.v.ia.Ba(this.g,this.A[0]||null,this.la);-1<this.c.indexOf(a.nodeName.toLowerCase());)a=a.parentNode;nc(this.v.c,a);this.v.c.cd(null,a)};ob(Yc);function Zc(a){Vc.call(this,a,"Blockquote","indent",["blockquote"],[tb,"Heading1","Heading2","Heading3","Heading4"],tb)}Ob(Zc,Vc);Zc.prototype.init=function(a,b,c){this.v.ta.H("add",(this.A[0]||null).toUpperCase(),this.c.bind(this));return this.v.ia.A.apply(this.v.ia,arguments)};
Zc.prototype.c=function(a,b,c,d,e){Ub(e,"p")&&(Vb(c,e),a=c,!Ub(c,"p")&&a.firstElementChild&&(a=a.firstElementChild),kc(this.v.c,a),e.textContent||this.v.o.remove(e));e=e=[];a=c.attributes.length;if(0!=a)for(b=a;0<b;b--)a=c.attributes[b-1],-1<e[a.name]||c.removeAttribute(a.name)};Zc.prototype.Ba=function(){-1<this.v.ia.c.indexOf(this.la)?this.v.ia.Ba("outdent",null,this.la):this.v.ia.Ba(this.g,null,this.la)};ob(Zc);function $c(a,b,c,d,e,g){Vc.apply(this,arguments)}Ob($c,Vc);
$c.prototype.Ba=function(){if(!0===y(this.v,"useCssMargin")&&"string"===typeof y(this.v,"marginViaCss.prefix")&&"number"===typeof y(this.v,"marginViaCss.levels")){Lb(this.v.c);var a=yb(this.v.c);a.style.marginLeft&&(a.style.marginLeft="");a.style.marginRight&&(a.style.marginRight="");Wb(a,"style");var b=y(this.v,"marginViaCss.prefix"),c;a:{c=0;for(var d=a.classList.length;c<d;c++)if(-1<a.classList.item(c).indexOf(b)){c=Number(a.classList.item(c).replace(b,""));break a}c=0}d=y(this.v,"marginViaCss.levels");
"Outdent"===this.la&&c===d||"Indent"===this.la&&0===c||(0<c&&a.classList.remove(b+c),"Outdent"===this.la?c+=1:--c,0===c?Wb(a,"class"):a.classList.add(b+c))}else a:if("undefined"!==typeof y(this.v,this.la)&&"undefined"!==typeof y(this.v,this.la+".marginLeft")&&"undefined"!==typeof y(this.v,this.la+".unit")&&"undefined"!==y(this.v,"Outdent.widthPercentage")&&(a=y(this.v,this.la+".marginLeft"),Lb(this.v.c),b=yb(this.v.c),c=Ib(this.v).offsetWidth/100,b===Ib(this.v)&&(c=Ib(this.v).parentNode.offsetWidth/
100),c=b.offsetWidth/c,!(null===b||"compact"===this.v.getType()&&b===Ib(this.v)||"Outdent"===this.la&&c<y(this.v,"Outdent.widthPercentage")))){c=0;b.style.marginLeft&&(c=parseInt(b.style.marginLeft,10));if("Indent"===this.la){if(0===c)break a;c-=a}else c+=a;b.style.marginLeft=c+"em";b.style.marginRight=c+"em";xb(this.v.c)}Mb(this.v)};function ad(a){$c.call(this,a,"Indent")}Ob(ad,$c);ob(ad);function bd(a){$c.call(this,a,"Outdent")}Ob(bd,$c);ob(bd);
function cd(a,b,c,d,e,g){Vc.apply(this,arguments)}Ob(cd,Vc);cd.prototype.Ba=function(){Xc(this);var a=this.v.ia.Ba(this.g,this.A[0]||null,this.la);nc(this.v.c,a);this.v.c.cd(null,a)};function dd(a){cd.call(this,a,"Heading1","formatBlock",["h1"],[tb,"Heading2","Heading3","Heading4","Blockquote"],tb)}Ob(dd,cd);ob(dd);function ed(a){cd.call(this,a,"Heading2","formatBlock",["h2"],[tb,"Heading1","Heading3","Heading4","Blockquote"],tb)}Ob(ed,cd);ob(ed);
function fd(a){cd.call(this,a,"Heading3","formatBlock",["h3"],[tb,"Heading1","Heading2","Heading4","Blockquote"],tb)}Ob(fd,cd);ob(fd);function gd(a){cd.call(this,a,"Heading4","formatBlock",["h4"],[tb,"Heading1","Heading2","Heading3","Blockquote"],tb)}Ob(gd,cd);ob(gd);function hd(a){Vc.call(this,a,"Bold","bold",["strong","b"]);this.c=null}Ob(hd,Vc);
hd.prototype.Ba=function(){try{this.c=this.v.o.createElement("style"),document.head.appendChild(this.c),this.c.sheet.insertRule(".wnd-wsw b, .wnd-wsw strong {font-weight: bold !important;}",0),this.c.sheet.insertRule(".wnd-wsw {font-weight: normal !important;}",0)}catch(ba){}oc(this.v.c);var a=this.v.ia.Ba(this.g,null,this.la);if("SPAN"===a.nodeName&&!0===a.hasAttribute("style")&&-1<a.getAttribute("style").indexOf("font-weight")){a=yb(this.v.c);a:{var b=this.v.c;Lb(b);if(!0===(!1===b.c.collapsed)){var c=
gc(b).cloneContents(),d;if(0<c.childNodes.length)if(1===c.firstChild.nodeType){c=document.createRange();c.setStart(b.c.startContainer,0);c.setEnd(b.c.endContainer,b.c.endContainer.length);d=window.getSelection();d.removeAllRanges();d.addRange(c);var e=document.createDocumentFragment();e.appendChild(c.extractContents());for(var g,h=null,k=null,p=null,w=null,v=0,C=e.childNodes.length;v<C;v++){var G=e.childNodes[v];if(1===G.nodeType&&"strong"!==G.nodeName.toLowerCase()){g=G.ownerDocument.createElement("strong");
null===h&&(h=G);null===p&&(p=g);C===v+1&&(k=G,w=g);for(;d=G.firstChild;)g.appendChild(d);e.replaceChild(g,G)}}c.insertNode(e);p.previousSibling.nodeName===h.nodeName&&p.previousSibling.innerHTML===h.innerHTML&&p.previousSibling.parentNode.removeChild(p.previousSibling);w.nextSibling.nodeName===k.nodeName&&w.nextSibling.innerHTML===k.innerHTML&&w.nextSibling.parentNode.removeChild(w.nextSibling);d=document.createRange();d.setStart(p.firstChild,b.c.startOffset);d.setEnd(w.firstChild,b.c.endOffset);
w=window.getSelection();w.removeAllRanges();w.addRange(c);b.c=d;b.h=w;b.cd(null,p)}else{c=b.v.o.createElement("strong");p=b.c.commonAncestorContainer.parentNode;p===Ib(b.v)&&(p=b.c.commonAncestorContainer);if(-1<b.g.indexOf("strong")){for(;d=p.firstChild;)c.appendChild(d);p.parentNode.replaceChild(c,p)}else{for(;p;){if("strong"===p.nodeName.toLowerCase()){mc(b,"strong",p);break a}p=p.parentNode}c.appendChild(b.c.extractContents());b.c.insertNode(c)}kc(b,c);b.cd(null,c)}}}"object"===typeof a&&"SPAN"===
a.nodeName&&-1<a.getAttribute("style").indexOf("font-weight")&&mc(this.v.c,"span",a)}a=this.c.sheet.cssRules;b="deleteRule";a||(a=this.c.sheet.rules,b="removeRule");try{for(var c=0,J=a.length;c<J;c++)this.c.sheet[b](0);this.c.parentNode.removeChild(this.c);this.c=null}catch(ba){}};ob(hd);function id(a){Vc.call(this,a,"Italic","italic",["em","i"])}Ob(id,Vc);id.prototype.Ba=function(){oc(this.v.c);this.v.ia.Ba(this.g,null,this.la)};ob(id);
function jd(a){Vc.call(this,a,"Underline","underline",["u"])}Ob(jd,Vc);jd.prototype.Ba=function(){oc(this.v.c);this.v.ia.Ba(this.g,null,this.la)};ob(jd);function kd(a,b,c,d,e,g){Vc.apply(this,arguments);this.h={};this.c=null}Ob(kd,Vc);kd.prototype.init=function(a,b,c){!0===y(this.v,"useCssTextAlign")&&"object"===typeof y(this.v,"alignCssClass")&&(this.c=y(this.v,"alignCssClass"));return this.v.ia.A.apply(this.v.ia,arguments)};
kd.prototype.Ba=function(){if(sb(this.v.ia,Bb)){var a=wb(this.v.ia,Bb).setStyle(this.h);if(a){qc(this.v.ia,this.la,a,!1);return}}ld(this,yb(this.v.c));this.v.ia.Ba(this.g,null,this.la);if(null!==this.c){for(var a=yb(this.v.c),b=Ib(this.v).querySelectorAll("[style*=text-align]"),c=0,d=b.length;c<d;c++){var e=b[c],g=md(this,b[c]);ld(this,e);null!==g&&e.classList.add(g);Wb(e,"class");b[c]===a&&(a=null)}null!==a&&(b=a,a=md(this,a),ld(this,b),null!==a&&b.classList.add(a),Wb(b,"class"))}else a=yb(this.v.c),
null!==a&&a.hasAttribute("align")&&(a.style.textAlign=a.getAttribute("align"),a.removeAttribute("align"))};function ld(a,b){if("object"===typeof b&&null!=b&&b.nodeType==Node.ELEMENT_NODE&&(b.removeAttribute("align"),b.style.textAlign="",null!==a.c))for(var c in a.c)a.c.hasOwnProperty(c)&&b.classList.remove(a.c[c])}
function md(a,b){var c=null;b.hasAttribute("align")&&a.c[b.getAttribute("align")]?(c=a.c[b.getAttribute("align")],b.removeAttribute("align")):b.style.textAlign&&a.c[b.style.textAlign]&&(c=a.c[b.style.textAlign],b.style.textAlign="",Wb(b,"style"));return c}function nd(a){kd.call(this,a,"AlignJustify","justifyFull",[],["AlignCenter","AlignLeft","AlignRight"]);this.h={display:"block","float":"none",margin:"auto"}}Ob(nd,kd);ob(nd);
function od(a){kd.call(this,a,"AlignCenter","justifyCenter",[],["AlignJustify","AlignLeft","AlignRight"]);this.h={display:"block","float":"none",margin:"auto"}}Ob(od,kd);ob(od);function pd(a){kd.call(this,a,"AlignLeft","justifyLeft",[],["AlignJustify","AlignCenter","AlignRight"]);this.h={display:"block","float":"left"}}Ob(pd,kd);ob(pd);function qd(a){kd.call(this,a,"AlignRight","justifyRight",[],["AlignJustify","AlignCenter","AlignLeft"]);this.h={display:"block","float":"left"}}Ob(qd,kd);ob(qd);
function rd(a,b,c,d,e,g){Vc.apply(this,arguments);this.h=(this.A[0]||null||"").toUpperCase();this.c=null}Ob(rd,Vc);rd.prototype.init=function(a,b,c){this.v.ta.H("add",this.h,this.l.bind(this));this.v.ta.H("add","LI",this.o.bind(this));return this.v.ia.A.apply(this.v.ia,arguments)};
rd.prototype.l=function(a,b,c){if(c.previousElementSibling&&c.previousElementSibling.nodeName){if("LI"===c.previousElementSibling.nodeName&&(b=gc(this.v.c),a=parseInt(b.startOffset,10),b=parseInt(b.endOffset,10),c.previousElementSibling.appendChild(c),c.firstChild.firstChild&&c.firstChild.firstChild.nodeType===Node.TEXT_NODE))try{var d=document.createRange();d.setStart(c.firstChild.firstChild,a);d.setEnd(c.firstChild.firstChild,b);Lb(this.v.c,window.getSelection(),d)}catch(e){}null!==c.previousElementSibling&&
c.previousElementSibling.nodeName===this.h&&(null===c.nextElementSibling||null!==c.nextElementSibling&&"LI"!==c.nextElementSibling.nodeName)&&(c.previousElementSibling.innerHTML+=c.innerHTML,c.parentNode.removeChild(c))}};
rd.prototype.o=function(a,b,c){if(c.parentNode&&"LI"===c.parentNode.nodeName&&(b=gc(this.v.c),a=parseInt(b.startOffset,10),b=parseInt(b.endOffset,10),Vb(c,c.parentNode),c.firstChild&&c.firstChild.nodeType===Node.TEXT_NODE))try{var d=document.createRange();d.setStart(c.firstChild,a);d.setEnd(c.firstChild,b);Lb(this.v.c,window.getSelection(),d)}catch(e){}};
rd.prototype.Ba=function(){Wc(this)||Xc(this);ub(this.v.g)&&(this.c=this.v.o.createElement("p"),Ib(this.v).appendChild(this.c));var a=this.v.ia.Ba(this.g,null,this.la);null!==this.c&&(this.v.o.remove(this.c),this.c=null);if(Yb(this.v.g)||Xb(this.v.g)){for(var b=this.v.c,c=a,d=["p"],e=!1,g=c;g!=Ib(b.v);){if("UL"==g.nodeName||"OL"==g.nodeName){e=!0;c=g;break}g=g.parentNode}if(e){for(var h,e=yb(b);e!=Ib(b.v)&&"LI"!=e.nodeName;)e=e.parentNode;var g=-1,k=e.parentNode.childNodes;h=0;for(var p=k.length;h<
p;h++)if(k[h]==e){g=h;break}h=g;e=gc(b).cloneRange();g=e.startOffset;k=e.endOffset;nc(b,c,["li"]);for(var p=c.parentNode,w=null;p!=Ib(b.v);)-1<d.indexOf(p.nodeName.toLowerCase())&&(w=p),p=p.parentNode;if(null!==w){w.parentNode.insertBefore(c,w);w.parentNode.removeChild(w);for(c=c.childNodes[h]?c.childNodes[h]:c;c.firstChild&&3!==c.nodeType;)c=c.firstChild;e.setStart(c,g);e.setEnd(c,k);c=b.getSelection();c.removeAllRanges();c.addRange(e);xb(b)}}else sb(b.v.ia,"Paragraph")&&wb(b.v.ia,"Paragraph").Ba()}d=
gc(this.v.c);b=[this.h,"LI"];c=!1;d=d.startContainer.parentNode;b=b||[];e=this.v.c.g;e=Gb(this.v.A,e,b);do{if(d===Ib(this.v))break;if(-1<e.indexOf(d.nodeName)){c=!0;break}}while(d=d.parentNode);c||(a=wb(this.v.ia,"Paragraph").Ba());this.v.c.cd(null,a)};function sd(a){rd.call(this,a,"OrderedList","insertOrderedList",["ol"],["UnorderedList"])}Ob(sd,rd);ob(sd);function td(a){rd.call(this,a,"UnorderedList","insertUnorderedList",["ul"],["OrderedList"])}Ob(td,rd);ob(td);
function ud(a){Vc.call(this,a,Cb,null,["a"],[],tb);this.o=!1;this.h=[];this.c=null}Ob(ud,Vc);f=ud.prototype;
f.Ba=function(){if("boolean"===typeof y(this.v,this.la+".external")&&!0===y(this.v,this.la+".external")){var a=yb(this.v.c);null===this.c&&null!==a&&"A"===a.nodeName&&(this.c=a);Db(this.v.G);a={};if(null!==this.c)for(var b=0,c=this.c.attributes.length;b<c;b++)a[this.c.attributes[b].name]=this.c.attributes[b].value;b=this.v.c.Eo();this.v.notify("moduleLink",{action:null===this.c?"insertLink":"modifyLink",process:null===this.c?this.no.bind(this):this.xp.bind(this),cancel:this.v.ub.hide.bind(this.v.ub),
unlink:this.an.bind(this),attributes:a,object:this.v,coordinates:this.v.c.Eo.bind(this.v.c)});!0===b.collapsed?this.v.ub.show(b):(Lb(this.v.c),this.v.focus())}else c=null!==this.c?this.wp:this.qp,a=this.v.G,b=this.Qz,c={buttons:[{text:this.v.J.get(null!==this.c?"modifyButton":"insertButton"),events:{click:c},type:"button"},{text:this.v.J.get("cancelButton"),events:{click:"popupManager.hideModal"},type:"button"}]},"undefined"!=typeof b&&"undefined"==typeof a.g[0]&&(a.g=Zb(a.v.A,Ib(a.v),y(a.v,"popups.modal.template.base")),
a.A=a.g[a.g.length-1],Oc(a,a.A,b),b=Zb(a.v.A,a.A,y(a.v,"popups.modal.template.close")),a.v.l.add(b[0],"click",a.l.bind(a),!0),a.h.modal.push(b[0]),Nc(a,a.A,c,a.types.Qr,!1),b=a.A.querySelector("input"),"object"==typeof b&&b.focus(),a.G=!0)};f.qp=function(){var a=this.Hg();this.no(a);this.v.G.l();return!1};
f.no=function(a,b){if("undefined"===typeof a.href||""===a.href)return null;var c=fc(this.v.A,a.href.trim());delete a.href;var d=null;1==-1<this.v.ia.c.indexOf("Image")?d=!1:((ub(this.v.g)||this.v.g.c)&&0==(!1===this.v.c.c.collapsed)&&lc(this.v.c,'<a href="'+c+'" > '+(b?b:c)+"</a>"+(this.v.g.c?"<br />":"")),d=this.v.ia.Ba("createLink",c,this.la));if("object"===typeof d){null!=b&&d.innerHTML==c&&(d.innerHTML=b);for(var e in a)d.setAttribute(e,a[e]);rb(this.v.c,"end",d)}return d};
f.wp=function(){if(null===this.c)return!1;var a=this.Hg();this.xp(a);this.v.G.l();Qc(this.v.G,this.la);this.o=!1;this.c=null;return!1};f.Hg=function(){for(var a={},b=0,c=this.h.length;b<c;b++)"INPUT"==this.h[b].nodeName&&("target"==this.h[b].name&&1==this.h[b].checked?a.target="_blank":a[this.h[b].name]=this.h[b].value);return a};
f.xp=function(a){if(null===this.c){var b=yb(this.v.c);if(b&&"undefined"!==typeof b.nodeName&&"A"===b.nodeName)this.dh(b);else return null}"string"===typeof a.href&&(a.href=fc(this.v.A,a.href.trim()));for(var c in a)this.c.setAttribute(c,a[c]);return this.c};
f.Qz=function(a){this.h=Zb(this.v.A,a,y(this.v,this.la),{});a=null!==this.c?this.wp:this.qp;for(var b,c=0,d=this.h.length;c<d;c++)"FORM"==this.h[c].nodeName?this.v.l.add(this.h[c],"submit",a,!0):null!==this.c&&"INPUT"==this.h[c].nodeName&&(b=this.c.getAttribute(this.h[c].name),null!=b&&("checkbox"==this.h[c].type?this.h[c].checked=!0:this.h[c].value=b))};
f.an=function(){var a=this.v.c.getSelection(),b=gc(this.v.c);kc(this.v.c,yb(this.v.c));document.execCommand("unlink",!1,null);Qc(this.v.G,this.la);rc(this.v.ia,this.la);Lb(this.v.c,a,b)};f.uy=function(){var a=wb(this.v.ia,"Image");kc(this.v.c,(!1).parentElement);document.execCommand("unlink",!1,null);a.dg();a.dh(!1)};f.Sz=function(a,b,c){a.href&&this.v.notify("onClickGoTo",c)};
f.dh=function(a){null!==this.c&&this.c!=a&&this.dg();if(!this.o||!this.v.G.M&&!this.v.G.G){var b;a:{if(1==a.hasChildNodes()){var c=a.childNodes;b=0;for(var d=c.length;b<d;b++)if("IMG"==c[b].nodeName){b=c[b];break a}}b=null}if(null!==b){if(c=this.v.G,d={buttons:[{text:this.v.J.get("modifyLinkButton"),events:{click:this.Ba.bind(this)},type:"text"},{text:this.v.J.get("removeLinkButton"),events:{click:this.uy.bind(this)},type:"text"}]},"undefined"!=typeof c.c[0]||c.w==b)Oc(c,c.o,null),Nc(c,c.o,d,c.types.Dn,
c.J),Pc(c,c.o,b)}else if(c=this.v.G,d=this.la,b={buttons:[{text:this.v.J.get("goToLinkTitle"),attributes:{href:a.getAttribute("href"),target:0===a.getAttribute("href").indexOf("/")?"_self":"_blank",title:a.getAttribute("href")},events:{click:this.Sz.bind(this)},type:"link"},{text:this.v.J.get("modifyLinkButton"),events:{click:this.Ba.bind(this)},type:"button"},{text:this.v.J.get("removeLinkButton"),events:{click:this.an.bind(this)},type:"button"}]},"undefined"!=typeof c.c[0]&&c.w!=a&&Qc(c,void 0),
"undefined"!=typeof a&&"undefined"==typeof c.c[0]){c.P=d;var e=document.body,d=c.v.o.getPosition(a);c.c=Zb(c.v.A,e,y(c.v,"popups.popOver.template.base"));e=c.c[0];e.style.position="absolute";e.style.top=d.bottom+"px";zb(c.v.g)||(c.v.l.add(e,"mouseover",c.v.notify.bind(c.v,"mouseoverPopup",null)),c.v.l.add(e,"mouseout",c.v.notify.bind(c.v,"mouseoutPopup",null)));c.o=$b(c.c);Oc(c,c.o,null);c.J=Nc(c,c.o,b,c.types.Dn,!1);Pc(c,c.c[0],a);c.M=!0}1!=this.o&&(this.v.l.add(Ib(this.v),"touchmove",this.Rz.bind(this)),
this.o=!0,this.c=a,qc(this.v.ia,this.la,this.c,!1))}};f.dg=function(){Qc(this.v.G,this.la);this.o=!1;this.c=null};f.Rz=function(){null!==this.c&&this.dg()};ob(ud);function vd(a){Vc.call(this,a,"Undo")}Ob(vd,Vc);vd.prototype.init=function(a,b,c){b=bc(this.v.A,b);b.disabled=!0;this.v.message.subscribe("/snapshot/stack",function(){yc(this.v.ia,c,this.v.Se.Si())},this);return this.v.ia.A(a,b,c)};
vd.prototype.Ba=function(){if(this.v.Se.Si()){var a=this.v.Se;a.g=!0;var b=a.h[a.c];vb(a.v,b.startValue);Lb(a.v.c,b.selection,b.range);a.c--;Mc(a);Mb(a.v)}};ob(vd);function wd(a){Vc.call(this,a,"Redo")}Ob(wd,Vc);wd.prototype.init=function(a,b,c){b=bc(this.v.A,b);b.disabled=!0;this.v.message.subscribe("/snapshot/stack",function(){yc(this.v.ia,c,this.v.Se.Ri())},this);return this.v.ia.A(a,b,c)};
wd.prototype.Ba=function(){if(this.v.Se.Ri()){var a=this.v.Se;a.g=!0;a.c++;var b=a.h[a.c];vb(a.v,b.newValue);Lb(a.v.c,b.selection,b.range);Mc(a);Mb(a.v)}};ob(wd);function xd(a){Vc.call(this,a,"ColorFont","foreColor");this.h={};this.l=null;this.o={};this.c=null;this.G={ys:"data-wsw-color-id",co:"data-wsw-color-hex"}}Ob(xd,Vc);f=xd.prototype;
f.init=function(a,b,c){b=y(this.v,this.la+".template");this.c="undefined"===typeof b||"undefined"===typeof b.base||"undefined"===typeof b.group||"undefined"===typeof b.item||"undefined"===typeof b.breakline?null:b;if(null!==this.c&&(y(this.v,this.la+".colors")instanceof Array||y(this.v,this.la+".onlyCustomColors")&&y(this.v,"frontColors")instanceof Array)){this.v.ta.H("add","FONT",this.Mv.bind(this));var d=this.v.M;b=this.Gs.bind(this);d.h.push(c);d.c[c]={};a=Sc(d,a,c);null===a?a=null:(b(a),a=void 0);
return a}return[]};f.Mv=function(a,b,c){yd(this,c);kc(this.v.c,c)};function yd(a,b){b.hasAttribute("color")&&"string"===typeof a.o[b.getAttribute("color")]&&(b.setAttribute("class",a.o[b.getAttribute("color")]),b.removeAttribute("color"))}
f.Gs=function(a){a=$b(Zb(this.v.A,a,this.c.base));var b=+(y(this.v,"colorItemsPerRow")||y(this.v,this.la+".colorItemsPerRow"));y(this.v,this.la+".onlyCustomColors")?zd(this,a,y(this.v,"frontColors"),b):y(this.v,this.la+".colors")instanceof Array&&zd(this,a,y(this.v,this.la+".colors"),b);this.v.l.add(a,"click",this.ct.bind(this),!0)};
function zd(a,b,c,d){for(var e=null,g=0,h=c.length;g<h;g++){var e=$b(Zb(a.v.A,b,a.c.group)),k=a,p=e,w=c[g],v=d,C=void 0,G=void 0;w instanceof Array?G=w:(G=Object.keys(w),C=w);for(var J=w=void 0,ba=0,Sa=G.length;ba<Sa;ba++)"object"===typeof C&&"string"===typeof C[G[ba]]?(w=G[ba],J=C[G[ba]]):(w=G[ba],J=G[ba]),Ad(k,p,w,J),0===(ba+1)%v&&Zb(k.v.A,p,k.c.breakline)}Ad(a,e,"default")}
function Ad(a,b,c,d){b=Zb(a.v.A,b,a.c.item);b[0].setAttribute(a.G.ys,c);b[0].setAttribute(a.G.co,d||c);d&&(b[0].style.backgroundColor=d,d!==c&&(a.o[d]=c));a.h[c]=b[0]}f.ct=function(a,b){oc(this.v.c);var c=b.getAttribute(this.G.co),d=this.g,e=c;"default"==c&&(d="removeFormat",e="foreColor");this.v.ia.Ba(d,e,this.la);c=yb(this.v.c);if(null!==c){if(!Ub(c,"font")){c=c.querySelector("font[color]");if(!c)return;kc(this.v.c,c)}yd(this,c)}};
f.Ba=function(){Tc(this.v.M,this.la);var a=yb(this.v.c);null!==a&&(a=Bd(this,a),"string"===typeof this.o[a]&&(a=this.o[a]),this.h[a]instanceof Element&&this.l!==this.h[a]&&(null!==this.l&&this.l.classList.remove("selected"),this.l=this.h[a],this.l.classList.add("selected")))};
function Bd(a,b){do if(b.nodeType===Node.ELEMENT_NODE){if("function"!==typeof b.hasAttribute)break;if(b.hasAttribute("class"))for(var c=0,d=b.classList.length;c<d;c++)if(a.h[b.classList.item(c)]instanceof Element)return b.classList.item(c);if(b.hasAttribute("color"))return b.getAttribute("color");if(b.hasAttribute("style")&&b.style.color)return b.style.color}while((b=b.parentNode)&&b!==Ib(a.v));return"default"}ob(xd);function Cd(a,b,c,d,e,g){Vc.apply(this,arguments)}Ob(Cd,Vc);
Cd.prototype.Ba=function(){oc(this.v.c);if(!0!==y(this.v,"useCssFontSize"))for(var a=Ib(this.v).querySelectorAll("font[style]"),b=0,c=a.length;b<c;b++){var d=Dd(a[b]);a[b].setAttribute("data-wsw-font-size",d)}this.v.ia.Ba("fontSize",y(this.v,this.la+".defaultSize"),this.la);a=Ib(this.v).querySelectorAll('font[size="4"]');b=0;for(c=a.length;b<c;b++)if(a[b].removeAttribute("size"),!(parseInt(this.v.o.getStyle(a[b],"font-size",!0),10)<=y(this.v,this.la+".minSizePx")))if(!0===y(this.v,"useCssFontSize")){var d=
a[b],e=y(this.v,this.la+".cssPrefix"),g;a:{g=d;for(var h=e,k=0,p=g.classList.length;k<p;k++)if(-1<g.classList.item(k).indexOf(h)){g=Number(g.classList.item(k).replace(h,""));break a}g=100}this.h(g)||(d.classList.remove(e+g),g=this.c(g),100==g?Wb(d,"class"):d.classList.add(e+g))}else d=a[b],e=Dd(d),this.h(e)||(e=this.c(e),100==e?(d.style.fontSize="",Wb(d,"style")):d.style.fontSize=e+"%");if(!0!==y(this.v,"useCssFontSize"))for(a=Ib(this.v).querySelectorAll("font[data-wsw-font-size]"),b=0,c=a.length;b<
c;b++)a[b].removeAttribute("data-wsw-font-size");Mb(this.v);rc(this.v.ia,this.la)};function Dd(a){return a.hasAttribute("data-wsw-font-size")?parseInt(a.getAttribute("data-wsw-font-size"),10):a.style.fontSize?parseInt(a.style.fontSize,10):100}function Ed(a){Cd.call(this,a,"DecreaseFont")}Ob(Ed,Cd);Ed.prototype.c=function(a){return a-parseInt(y(this.v,this.la+".changePercents"),10)};Ed.prototype.h=function(a){return a<=parseInt(y(this.v,this.la+".minPercentSize"),10)};ob(Ed);
function Fd(a){Cd.call(this,a,"IncreaseFont")}Ob(Fd,Cd);Fd.prototype.c=function(a){return a+parseInt(y(this.v,this.la+".changePercents"),10)};Fd.prototype.h=function(a){return a>=parseInt(y(this.v,this.la+".maxPercentSize"),10)};ob(Fd);function Gd(a){Vc.call(this,a,"SelectBlockAlign");this.c=["AlignLeft","AlignCenter","AlignRight","AlignJustify"]}Ob(Gd,Vc);Gd.prototype.init=function(a,b,c){return this.v.M.create(a,b,c,this.c)};Gd.prototype.Ba=function(){Tc(this.v.M,this.la)};ob(Gd);
function Hd(a){Vc.call(this,a,"SelectBlockFormat");this.c=[tb,"Heading1","Heading2","Heading3","Heading4","Blockquote"]}Ob(Hd,Vc);Hd.prototype.init=function(a,b,c){var d=y(this.v,"allowedFormats");Array.isArray(d)&&(this.c=d);a=this.v.M.create(a,b,c,this.c);(b=yb(this.v.c))&&this.v.c.cd(null,b);return a};Hd.prototype.Ba=function(){Tc(this.v.M,this.la)};ob(Hd);function Id(a){Vc.call(this,a,"Wnd2Delete")}Ob(Id,Vc);Id.prototype.Ba=function(){this.v.notify("wnd2Delete",null)};ob(Id);
function Jd(a){Vc.call(this,a,Bb,"insertImage",["img"])}Ob(Jd,Vc);f=Jd.prototype;f.init=function(){return[]};f.Ba=function(){return!1};f.dh=function(){return!1};f.dg=function(){return!1};f.setStyle=function(){return!1};function Fb(){this.identifier="";this.c={}}Fb.prototype.Zc=function(){return this.identifier};
function Kd(){Fb.call(this);this.identifier="wnd";this.c={type:"inline",cursorPosition:"start",setCursor:!0,editors:{inline:{className:"wnd-wsw"}},dangerousTags:"script style object audio canvas embed iframe video".split(" "),pasteCleaner:{allowedTags:"p blockquote h1 h2 h3 h4 li ul ol strong em a br".split(" "),unnecessaryTags:["a","span","hr"],unnecessaryAttrs:"id class style name cellspacing cellpadding valign start face itemprop data-[\\w|-]*?".split(" "),semanticTags:[["b","strong"],["i","em"],
["h5","p"],["h6","p"]],unwantedTags:"applet embed noframes noscript iframe form videoplayer".split(" "),replaceTableTags:[["table",""],["thead",""],["tbody",""],["tfoot",""],["tr","<br>"],["td"," "],["th"," "]],replaceHtmlEntityNames:[["&nbsp;"," "]]},contentAnalyzer:{listsMarks:["\u00b7","-","\u30fb","\u25cf","\u25bd"]},toolbars:{inline:{template:[["span",{className:"wnd-base wnd-wsw-toolbar-area",unselectable:"on"},[["span",{className:"wnd-wsw-toolbar"},[["span",{className:"wnd-wsw-toolbar-arrow"}],
["span",{className:"wnd-wsw-toolbar-in"}]]]]]],switcher:{button:{template:[["span",{className:"wnd-wsw-switcher-button","data-type":"toolbarSwitcher"}]]},area:{template:[["span",{className:"wnd-wsw-switcher-area"}]]}},blocks:{basic:{template:[["span",{className:"wnd-wsw-toolbar-block"}]],modules:[["Bold","Italic"],["SelectBlockFormat"],["SelectBlockAlign"],[Cb],["OrderedList","UnorderedList"],["Undo","Redo"]],visible:!0},extend:{template:[["span",{className:"wnd-wsw-toolbar-block"}]],modules:[["Outdent",
"Indent"],["IncreaseFont","DecreaseFont"],["ColorFont"]],visible:!1}},group:[["span",{className:"wnd-wsw-toolbar-group"}]],fromRightClass:"from-right",spacing:{top:0,right:0,bottom:0,left:0},topOffset:60,heightCorrection:10}},buttons:{inline:{template:[["span",{className:"wnd-wsw-button",_prefix:"module"},[["b"]]]],overClass:"over",activeClass:"active",disabledClass:"disabled",useTitle:!1}},popups:{modals:{inline:{template:{base:[["span",{className:"wnd-wsw-modal"},[["span",{className:"wnd-wsw-modal-content"}]]]],
close:[["b",{className:"wnd-wsw-modal-close"}]],buttons:{area:[["span",{className:"wnd-wsw-modal-buttons"}]],button:[["button",{className:"wnd-wsw-modal-button"},[["u"]]]],link:[["a",{className:"wnd-wsw-modal-link"}]]}}}},popOvers:{inline:{template:{base:[["div",{className:"wnd-base wnd-wsw-bubble"},[["i",{className:"wnd-wsw-bubble-arrow"}],["div",{className:"wnd-wsw-bubble-in"}]]]]}}}},Link:{external:!0},Indent:{marginLeft:1,unit:"rem"},Outdent:{marginLeft:1,unit:"rem",widthPercentage:33},Paragraph:{textual:!0},
Heading1:{textual:!0,excludeModules:["Blockquote"]},Heading2:{textual:!0,excludeModules:["Blockquote"]},Heading3:{textual:!0,excludeModules:["Blockquote"]},Heading4:{textual:!0,excludeModules:["Blockquote"]},Blockquote:{textual:!0},SelectBox:{template:{base:[["span",{className:"wnd-wsw-select"}]],button:[["span",{className:"wnd-wsw-button"}]],list:[["span",{className:"wnd-wsw-select-list"},[["span",{className:"wnd-wsw-select-list-in"}]]]]},className:{textual:"textual",opened:"opened"}},ColorFont:{template:{base:[["span",
{className:"wnd-wsw-cf"}]],group:[["span",{className:"cf-group"}]],item:[["span",{className:"cf-item"}]],breakline:[["br"]]},onlyCustomColors:!0,colorItemsPerRow:10},IncreaseFont:{maxPercentSize:200,changePercents:10,defaultSize:4,cssPrefix:"wnd-font-size-"},DecreaseFont:{minPercentSize:10,minSizePx:12,changePercents:10,defaultSize:4,cssPrefix:"wnd-font-size-"},emptinessTest:{allowedTags:["p","blockquote","a","img"]},regex:{urlRegex:/\(?(?:(http|https|ftp):\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|localhost(?=\/)|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/g,
emailShortRegex:/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-\.]+?\.[a-zA-Z]{2,20}$/g,phoneRegex:/^tel:\+?([0-9\-])+$/},alignCssClass:{right:"wnd-align-right",left:"wnd-align-left",center:"wnd-align-center",justify:"wnd-align-justify"},marginViaCss:{prefix:"wnd-offset-",levels:5}}}Ob(Kd,Fb);lb.push(Kd);function Ac(){this.c="";this.Ek={}}
function Ld(){Ac.call(this);this.c="*";this.Ek={modifyLinkButton:"Edit link",goToLinkTitle:"Go to",removeLinkButton:"Remove",emptySelectBox:"Format",moduleParagraph:"Normal",moduleHeading1:"Heading 1",moduleHeading2:"Heading 2",moduleHeading3:"Heading 3",moduleHeading4:"Heading 4",moduleBold:"Bold",moduleItalic:"Italic",moduleUnderline:"Underline",moduleAlignLeft:"Left",moduleAlignCenter:"Center",moduleOrderedList:"Numbered List",moduleUnorderedList:"Bulleted List",moduleBlockquote:"Blockquote",moduleLink:"Link",
moduleUndo:"Undo",moduleRedo:"Redo"}}Ob(Ld,Ac);var Md=new Ld;nb[Md.c]=Md;var Nd={rootPageId:5E7,systemIdBoundary:2E8,PagesAdmin:{popupIdentifier:"wnd-page-settings",contentGroups:{PM_DEFAULT:"pm-default",PM_ADD_PAGE:"pm-add-page",PM_LANGUAGE_SWITCHER:"pm-language-switcher",PM_PATTERNS:"pm-patterns",PM_NEW_PAGE_FORM:"pm-new-page-form"},dataSettings:{filter:[{prefix:"(",key:"gui_pages.sys_page",operator:"=",value:0,suffix:"OR"},{prefix:"(",key:"gui_pages.sys_page",operator:"=",value:1,suffix:"AND"},{prefix:"",key:"gui_pages.disabled",operator:"=",value:0,suffix:"))"}],orderBy:{key:"gui_pages.item_order",
order:"asc"}},mainContent:{height:"calc(100% - 56px)",width:"100%"}},DefaultPopupProperties:{"wnd.pm.AddNewPagePopup":{width:840,height:525},"wnd.pm.PagesAdminPopup":{width:840,height:480}},AddNewPagePatterns:{width:"100%",height:410},AddNewPagePattern:{selectedClassName:"selected"},AddNewPagePopup:{animation:{fadeIn:{time:300,start:.2,end:1},resize:{time:300,start:[0,0]}},formContent:{width:480,height:220,tooltipHeight:240}},ModuleDataEventFilter:["gui_pages","fe_languages","server_projects","project_info"],
PagesTree:{width:307,height:"full",css:{"item-id-prefix":"wnd_gui_pages_item_","group-id-prefix":"wnd_gui_pages_group_","item-locked":"wnd-item-locked"}},PageEdit:{homepageIdentifier:"home",width:533},NewPageForm:{width:"100%",height:100,tooltipHeight:120},TooLongPageName:{notice:11,warning:19}};var Od={DefaultPopupProperties:{"wnd.ps.SettingsPopup":{width:840,height:480},"wnd.ps.AddLanguagePopup":{width:470,height:246}},ModuleDataEventFilter:["project_info","fe_languages","server_projects","gui_pages"],SettingsMenu:{settingsItems:{"default":"wnd.ps.GeneralSettings wnd.ps.Domains wnd.ps.EmailAccounts wnd.ps.WebsiteEditors wnd.ps.SiteSettings wnd.ps.BackupAndRecovery wnd.ps.WebsiteLanguages wnd.ps.BlogSettings".split(" ")},width:256,height:"full",translatedTypes:{}},AddLanguageForm:{width:"100%",
height:115},SettingsPopupContent:{width:583,height:420},SiteSettings:{formContent:{height:360}},BlogSettings:{formContent:{height:360}},MemberLoginSettings:{formContent:{height:360}},Rating:{Undesirable:1,MediumRisk:2,SlightRisk:3,MostlyOK:4,DefinitelyOK:5}};var Pd={DefaultPopupProperties:{"wnd.tb.MyAccountBubble":{width:300,height:160}},ModuleDataEventFilter:["fe_languages","project_info","filesystem_files"],NotEnoughStorage:{limit:80},NotEnoughBandwidth:{limit:80},ToolbarContent:{mvcId:"ToolbarContent",cssIdentifier:"wnd_toolbar",buttonIdentifier:"wnd-tb-button",publishCookieAge:120,publishTimeout:1E4,notEnoughStorageTimeout:2E3},MyAccount:{defaultUserName:"---",defaultProjectsUri:"http://www.webnode.com/"}};var Qd;var Rd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Sd(){0!=Td&&(Ud[pa(this)]=this);this.ub=this.ub;this.If=this.If}var Td=0,Ud={};Sd.prototype.ub=!1;Sd.prototype.dispose=function(){if(!this.ub&&(this.ub=!0,this.X(),0!=Td)){var a=pa(this);delete Ud[a]}};function Vd(a,b){a.ub?b.call(void 0):(a.If||(a.If=[]),a.If.push(l(void 0)?m(b,void 0):b))}Sd.prototype.X=function(){if(this.If)for(;this.If.length;)this.If.shift()()};function Wd(a){a&&"function"==typeof a.dispose&&a.dispose()};var Xd;function Yd(a,b){this.type=a;this.currentTarget=this.target=b;this.g=!1;this.pq=!0}Yd.prototype.stopPropagation=function(){this.g=!0};Yd.prototype.preventDefault=function(){this.pq=!1};var Zd="closure_listenable_"+(1E6*Math.random()|0);function $d(a){return!(!a||!a[Zd])}var ae=0;function be(a,b,c,d,e){this.listener=a;this.c=null;this.src=b;this.type=c;this.Ti=!!d;this.Lj=e;this.key=++ae;this.jh=this.Pi=!1}function ce(a){a.jh=!0;a.listener=null;a.c=null;a.src=null;a.Lj=null};function de(a){return Math.pow(a,3)}function ee(a){return 1-Math.pow(1-a,3)};var fe={Rr:"y",bC:"y G",cC:"MMM y",Sr:"MMMM y",OB:"MMM d",PB:"MMMM dd",RB:"M/d",QB:"MMMM d",SB:"MMM d, y",$B:"EEE, MMM d",aC:"EEE, MMM d, y",JB:"d"};var ge,he={Nb:["p\u0159. n. l.","n. l."],Mb:["p\u0159. n. l.","n. l."],Pb:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ub:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ob:"ledna \u00fanora b\u0159ezna dubna kv\u011btna \u010dervna \u010dervence srpna z\u00e1\u0159\u00ed \u0159\u00edjna listopadu prosince".split(" "),ob:"leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" "),Rb:"led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" "),
Vb:"led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" "),Xb:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" "),Wb:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" "),Tb:"ne po \u00fat st \u010dt p\u00e1 so".split(" "),yb:"ne po \u00fat st \u010dt p\u00e1 so".split(" "),c:"NP\u00daS\u010cPS".split(""),Cb:"NP\u00daS\u010cPS".split(""),Sb:["Q1","Q2",
"Q3","Q4"],Qb:["1. \u010dtvrtlet\u00ed","2. \u010dtvrtlet\u00ed","3. \u010dtvrtlet\u00ed","4. \u010dtvrtlet\u00ed"],Kb:["dop.","odp."],vb:["EEEE d. MMMM y","d. MMMM y","d. M. y","dd.MM.yy"],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},ie={Nb:["f.Kr.","e.Kr."],Mb:["f.Kr.","e.Kr."],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januar februar marts april maj juni juli august september oktober november december".split(" "),
ob:"januar februar marts april maj juni juli august september oktober november december".split(" "),Rb:"jan. feb. mar. apr. maj jun. jul. aug. sep. okt. nov. dec.".split(" "),Vb:"jan feb mar apr maj jun jul aug sep okt nov dec".split(" "),Xb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),Wb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),Tb:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),yb:"s\u00f8n man tir ons tor fre l\u00f8r".split(" "),
c:"SMTOTFL".split(""),Cb:"SMTOTFL".split(""),Sb:["1. kvt.","2. kvt.","3. kvt.","4. kvt."],Qb:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],Kb:["AM","PM"],vb:["EEEE 'den' d. MMMM y","d. MMMM y","d. MMM y","dd/MM/y"],Db:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],Lb:["{1} 'kl'. {0}","{1} 'kl'. {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},je={Nb:["v. Chr.","n. Chr."],Mb:["v. Chr.","n. Chr."],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),
ob:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),Rb:"Jan. Feb. M\u00e4rz Apr. Mai Juni Juli Aug. Sep. Okt. Nov. Dez.".split(" "),Vb:"Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),Xb:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),Wb:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),Tb:"So. Mo. Di. Mi. Do. Fr. Sa.".split(" "),yb:"So Mo Di Mi Do Fr Sa".split(" "),c:"SMDMDFS".split(""),
Cb:"SMDMDFS".split(""),Sb:["Q1","Q2","Q3","Q4"],Qb:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],Kb:["vorm.","nachm."],vb:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} 'um' {0}","{1} 'um' {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:3},ke={Nb:["\u03c0.\u03a7.","\u03bc.\u03a7."],Mb:["\u03c0\u03c1\u03bf \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd","\u03bc\u03b5\u03c4\u03ac \u03a7\u03c1\u03b9\u03c3\u03c4\u03cc\u03bd"],Pb:"\u0399\u03a6\u039c\u0391\u039c\u0399\u0399\u0391\u03a3\u039f\u039d\u0394".split(""),
Ub:"\u0399\u03a6\u039c\u0391\u039c\u0399\u0399\u0391\u03a3\u039f\u039d\u0394".split(""),Ob:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5 \u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5 \u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5 \u039c\u03b1\u0390\u03bf\u03c5 \u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5 \u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5 \u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5 \u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5 \u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5 \u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5 \u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split(" "),
ob:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2 \u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2 \u039c\u03ac\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2 \u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2 \u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2 \u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split(" "),
Rb:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03b1\u03c1 \u0391\u03c0\u03c1 \u039c\u03b1\u0390 \u0399\u03bf\u03c5\u03bd \u0399\u03bf\u03c5\u03bb \u0391\u03c5\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03b5 \u0394\u03b5\u03ba".split(" "),Vb:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03ac\u03c1 \u0391\u03c0\u03c1 \u039c\u03ac\u03b9 \u0399\u03bf\u03cd\u03bd \u0399\u03bf\u03cd\u03bb \u0391\u03cd\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03ad \u0394\u03b5\u03ba".split(" "),
Xb:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03a4\u03c1\u03af\u03c4\u03b7 \u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7 \u03a0\u03ad\u03bc\u03c0\u03c4\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae \u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split(" "),Wb:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03a4\u03c1\u03af\u03c4\u03b7 \u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7 \u03a0\u03ad\u03bc\u03c0\u03c4\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae \u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split(" "),
Tb:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03af \u03a4\u03b5\u03c4 \u03a0\u03ad\u03bc \u03a0\u03b1\u03c1 \u03a3\u03ac\u03b2".split(" "),yb:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03af \u03a4\u03b5\u03c4 \u03a0\u03ad\u03bc \u03a0\u03b1\u03c1 \u03a3\u03ac\u03b2".split(" "),c:"\u039a\u0394\u03a4\u03a4\u03a0\u03a0\u03a3".split(""),Cb:"\u039a\u0394\u03a4\u03a4\u03a0\u03a0\u03a3".split(""),Sb:["\u03a41","\u03a42","\u03a43","\u03a44"],Qb:["1\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf",
"2\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","3\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","4\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf"],Kb:["\u03c0.\u03bc.","\u03bc.\u03bc."],vb:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],Db:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Lb:["{1} - {0}","{1} - {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:3},le={Nb:["BC","AD"],Mb:["Before Christ","Anno Domini"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"January February March April May June July August September October November December".split(" "),
ob:"January February March April May June July August September October November December".split(" "),Rb:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vb:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xb:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Wb:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Tb:"Sun Mon Tue Wed Thu Fri Sat".split(" "),yb:"Sun Mon Tue Wed Thu Fri Sat".split(" "),c:"SMTWTFS".split(""),Cb:"SMTWTFS".split(""),
Sb:["Q1","Q2","Q3","Q4"],Qb:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Kb:["AM","PM"],vb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Db:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Lb:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],wb:6,Eb:[5,6],xb:5},me={Nb:["a. C.","d. C."],Mb:["antes de Cristo","despu\u00e9s de Cristo"],Pb:"EFMAMJJASOND".split(""),Ub:"EFMAMJJASOND".split(""),Ob:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),
ob:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),Rb:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),Vb:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),Xb:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),Wb:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),Tb:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),yb:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),
c:"DLMXJVS".split(""),Cb:"DLMXJVS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1.er trimestre","2.\u00ba trimestre","3.er trimestre","4.\u00ba trimestre"],Kb:["a. m.","p. m."],vb:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],Db:["H:mm:ss (zzzz)","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},ne={Nb:["eKr.","jKr."],Mb:["ennen Kristuksen syntym\u00e4\u00e4","j\u00e4lkeen Kristuksen syntym\u00e4n"],Pb:"THMHTKHESLMJ".split(""),Ub:"THMHTKHESLMJ".split(""),
Ob:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kes\u00e4kuuta hein\u00e4kuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),ob:"tammikuu helmikuu maaliskuu huhtikuu toukokuu kes\u00e4kuu hein\u00e4kuu elokuu syyskuu lokakuu marraskuu joulukuu".split(" "),Rb:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kes\u00e4kuuta hein\u00e4kuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),Vb:"tammi helmi maalis huhti touko kes\u00e4 hein\u00e4 elo syys loka marras joulu".split(" "),
Xb:"sunnuntaina maanantaina tiistaina keskiviikkona torstaina perjantaina lauantaina".split(" "),Wb:"sunnuntai maanantai tiistai keskiviikko torstai perjantai lauantai".split(" "),Tb:"su ma ti ke to pe la".split(" "),yb:"su ma ti ke to pe la".split(" "),c:"SMTKTPL".split(""),Cb:"SMTKTPL".split(""),Sb:["1. nelj.","2. nelj.","3. nelj.","4. nelj."],Qb:["1. nelj\u00e4nnes","2. nelj\u00e4nnes","3. nelj\u00e4nnes","4. nelj\u00e4nnes"],Kb:["ap.","ip."],vb:["cccc d. MMMM y","d. MMMM y","d.M.y","d.M.y"],Db:["H.mm.ss zzzz",
"H.mm.ss z","H.mm.ss","H.mm"],Lb:["{1} 'klo' {0}","{1} 'klo' {0}","{1} 'klo' {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},oe={Nb:["av. J.-C.","ap. J.-C."],Mb:["avant J\u00e9sus-Christ","apr\u00e8s J\u00e9sus-Christ"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),ob:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),Rb:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),
Vb:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),Xb:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),Wb:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),Tb:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),yb:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),c:"DLMMJVS".split(""),Cb:"DLMMJVS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1er trimestre","2e trimestre","3e trimestre","4e trimestre"],Kb:["AM","PM"],vb:["EEEE d MMMM y",
"d MMMM y","d MMM y","dd/MM/y"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},pe={Nb:["pr. Kr.","p. Kr."],Mb:["prije Krista","poslije Krista"],Pb:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),Ub:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),Ob:"sije\u010dnja velja\u010de o\u017eujka travnja svibnja lipnja srpnja kolovoza rujna listopada studenoga prosinca".split(" "),ob:"sije\u010danj velja\u010da o\u017eujak travanj svibanj lipanj srpanj kolovoz rujan listopad studeni prosinac".split(" "),
Rb:"sij velj o\u017eu tra svi lip srp kol ruj lis stu pro".split(" "),Vb:"sij velj o\u017eu tra svi lip srp kol ruj lis stu pro".split(" "),Xb:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),Wb:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),Tb:"ned pon uto sri \u010det pet sub".split(" "),yb:"ned pon uto sri \u010det pet sub".split(" "),c:"NPUS\u010cPS".split(""),Cb:"npus\u010dps".split(""),Sb:["1kv","2kv","3kv","4kv"],Qb:["1. kvartal","2. kvartal",
"3. kvartal","4. kvartal"],Kb:["AM","PM"],vb:["EEEE, d. MMMM y.","d. MMMM y.","d. MMM y.","dd.MM.y."],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} 'u' {0}","{1} 'u' {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:6},qe={Nb:["i. e.","i. sz."],Mb:["id\u0151sz\u00e1m\u00edt\u00e1sunk el\u0151tt","id\u0151sz\u00e1m\u00edt\u00e1sunk szerint"],Pb:"J F M \u00c1 M J J A Sz O N D".split(" "),Ub:"J F M \u00c1 M J J A Sz O N D".split(" "),Ob:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),
ob:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),Rb:"jan. febr. m\u00e1rc. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" "),Vb:"jan. febr. m\u00e1rc. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" "),Xb:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),Wb:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),
Tb:"V H K Sze Cs P Szo".split(" "),yb:"V H K Sze Cs P Szo".split(" "),c:"V H K Sz Cs P Sz".split(" "),Cb:"V H K Sz Cs P Sz".split(" "),Sb:["N1","N2","N3","N4"],Qb:["I. negyed\u00e9v","II. negyed\u00e9v","III. negyed\u00e9v","IV. negyed\u00e9v"],Kb:["de.","du."],vb:["y. MMMM d., EEEE","y. MMMM d.","y. MMM d.","y. MM. dd."],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},re={Nb:["a.C.","d.C."],Mb:["a.C.","d.C."],Pb:"GFMAMGLASOND".split(""),
Ub:"GFMAMGLASOND".split(""),Ob:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),ob:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),Rb:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),Vb:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),Xb:"domenica luned\u00ec marted\u00ec mercoled\u00ec gioved\u00ec venerd\u00ec sabato".split(" "),Wb:"Domenica Luned\u00ec Marted\u00ec Mercoled\u00ec Gioved\u00ec Venerd\u00ec Sabato".split(" "),
Tb:"dom lun mar mer gio ven sab".split(" "),yb:"dom lun mar mer gio ven sab".split(" "),c:"DLMMGVS".split(""),Cb:"DLMMGVS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1\u00ba trimestre","2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],Kb:["AM","PM"],vb:["EEEE d MMMM y","d MMMM y","dd MMM y","dd/MM/yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:3},se={Nb:["\u7d00\u5143\u524d","\u897f\u66a6"],Mb:["\u7d00\u5143\u524d",
"\u897f\u66a6"],Pb:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ub:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ob:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),ob:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),Rb:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),Vb:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
Xb:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),Wb:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),Tb:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),yb:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),c:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),Cb:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),
Sb:["Q1","Q2","Q3","Q4"],Qb:["\u7b2c1\u56db\u534a\u671f","\u7b2c2\u56db\u534a\u671f","\u7b2c3\u56db\u534a\u671f","\u7b2c4\u56db\u534a\u671f"],Kb:["\u5348\u524d","\u5348\u5f8c"],vb:["y\u5e74M\u6708d\u65e5EEEE","y\u5e74M\u6708d\u65e5","y/MM/dd","y/MM/dd"],Db:["H\u6642mm\u5206ss\u79d2 zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:6,Eb:[5,6],xb:5},te={Nb:["p.m.\u0113.","m.\u0113."],Mb:["pirms m\u016bsu \u0113ras","m\u016bsu \u0113r\u0101"],Pb:"JFMAMJJASOND".split(""),
Ub:"JFMAMJJASOND".split(""),Ob:"janv\u0101ris febru\u0101ris marts apr\u012blis maijs j\u016bnijs j\u016blijs augusts septembris oktobris novembris decembris".split(" "),ob:"Janv\u0101ris Febru\u0101ris Marts Apr\u012blis Maijs J\u016bnijs J\u016blijs Augusts Septembris Oktobris Novembris Decembris".split(" "),Rb:"janv. febr. marts apr. maijs j\u016bn. j\u016bl. aug. sept. okt. nov. dec.".split(" "),Vb:"Janv. Febr. Marts Apr. Maijs J\u016bn. J\u016bl. Aug. Sept. Okt. Nov. Dec.".split(" "),Xb:"sv\u0113tdiena pirmdiena otrdiena tre\u0161diena ceturtdiena piektdiena sestdiena".split(" "),
Wb:"Sv\u0113tdiena Pirmdiena Otrdiena Tre\u0161diena Ceturtdiena Piektdiena Sestdiena".split(" "),Tb:"Sv Pr Ot Tr Ce Pk Se".split(" "),yb:"Sv Pr Ot Tr Ce Pk Se".split(" "),c:"SPOTCPS".split(""),Cb:"SPOTCPS".split(""),Sb:["1.\u00a0cet.","2.\u00a0cet.","3.\u00a0cet.","4.\u00a0cet."],Qb:["1. ceturksnis","2. ceturksnis","3. ceturksnis","4. ceturksnis"],Kb:["priek\u0161pusdien\u0101","p\u0113cpusdien\u0101"],vb:["EEEE, y. 'gada' d. MMMM","y. 'gada' d. MMMM","y. 'gada' d. MMM","dd.MM.yy"],Db:["HH:mm:ss zzzz",
"HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:6},ue={Nb:["v.Chr.","n.Chr."],Mb:["voor Christus","na Christus"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),ob:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),Rb:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),Vb:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),
Xb:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),Wb:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),Tb:"zo ma di wo do vr za".split(" "),yb:"zo ma di wo do vr za".split(" "),c:"ZMDWDVZ".split(""),Cb:"ZMDWDVZ".split(""),Sb:["K1","K2","K3","K4"],Qb:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],Kb:["a.m.","p.m."],vb:["EEEE d MMMM y","d MMMM y","d MMM y","dd-MM-yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}",
"{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},ve={Nb:["f.Kr.","e.Kr."],Mb:["f\u00f8r Kristus","etter Kristus"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januar februar mars april mai juni juli august september oktober november desember".split(" "),ob:"januar februar mars april mai juni juli august september oktober november desember".split(" "),Rb:"jan. feb. mar. apr. mai jun. jul. aug. sep. okt. nov. des.".split(" "),Vb:"jan feb mar apr mai jun jul aug sep okt nov des".split(" "),Xb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),
Wb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),Tb:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),yb:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),c:"SMTOTFL".split(""),Cb:"SMTOTFL".split(""),Sb:["K1","K2","K3","K4"],Qb:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],Kb:["a.m.","p.m."],vb:["EEEE d. MMMM y","d. MMMM y","d. MMM y","dd.MM.y"],Db:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],Lb:["{1} {0}","{1} 'kl'. {0}","{1}, {0}","{1}, {0}"],
wb:0,Eb:[5,6],xb:3},we={Nb:["a.C.","d.C."],Mb:["antes de Cristo","depois de Cristo"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),ob:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),Rb:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),Vb:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),Xb:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),
Wb:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),Tb:"dom seg ter qua qui sex s\u00e1b".split(" "),yb:"dom seg ter qua qui sex s\u00e1b".split(" "),c:"DSTQQSS".split(""),Cb:"DSTQQSS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1\u00ba trimestre","2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],Kb:["AM","PM"],vb:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d 'de' MMM 'de' y","dd/MM/yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss",
"HH:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:6,Eb:[5,6],xb:5},xe={Nb:["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],Mb:["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"],Pb:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),Ub:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),
Ob:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" "),ob:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
Rb:"\u044f\u043d\u0432. \u0444\u0435\u0432\u0440. \u043c\u0430\u0440. \u0430\u043f\u0440. \u043c\u0430\u044f \u0438\u044e\u043d. \u0438\u044e\u043b. \u0430\u0432\u0433. \u0441\u0435\u043d\u0442. \u043e\u043a\u0442. \u043d\u043e\u044f\u0431. \u0434\u0435\u043a.".split(" "),Vb:"\u044f\u043d\u0432. \u0444\u0435\u0432\u0440. \u043c\u0430\u0440\u0442 \u0430\u043f\u0440. \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433. \u0441\u0435\u043d\u0442. \u043e\u043a\u0442. \u043d\u043e\u044f\u0431. \u0434\u0435\u043a.".split(" "),
Xb:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),Wb:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),
Tb:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),yb:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),c:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),Cb:"\u0412\u041f\u0412\u0421\u0427\u041f\u0421".split(""),Sb:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],Qb:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b",
"2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],Kb:["\u0414\u041f","\u041f\u041f"],vb:["EEEE, d MMMM y '\u0433'.","d MMMM y '\u0433'.","d MMM y '\u0433'.","dd.MM.yy"],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:6},ye={Nb:["pred Kr.","po Kr."],Mb:["pred Kristom","po Kristovi"],Pb:"jfmamjjasond".split(""),Ub:"jfmamjjasond".split(""),
Ob:"janu\u00e1ra febru\u00e1ra marca apr\u00edla m\u00e1ja j\u00fana j\u00fala augusta septembra okt\u00f3bra novembra decembra".split(" "),ob:"janu\u00e1r febru\u00e1r marec apr\u00edl m\u00e1j j\u00fan j\u00fal august september okt\u00f3ber november december".split(" "),Rb:"jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" "),Vb:"jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" "),Xb:"nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" "),
Wb:"nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" "),Tb:"ne po ut st \u0161t pi so".split(" "),yb:"ne po ut st \u0161t pi so".split(" "),c:"npus\u0161ps".split(""),Cb:"npus\u0161ps".split(""),Sb:["Q1","Q2","Q3","Q4"],Qb:["1. \u0161tvr\u0165rok","2. \u0161tvr\u0165rok","3. \u0161tvr\u0165rok","4. \u0161tvr\u0165rok"],Kb:["AM","PM"],vb:["EEEE, d. MMMM y","d. MMMM y","d. M. y","d.M.yy"],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1}, {0}","{1}, {0}","{1}, {0}","{1} {0}"],
wb:0,Eb:[5,6],xb:3},ze={Nb:["f.Kr.","e.Kr."],Mb:["f\u00f6re Kristus","efter Kristus"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),ob:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),Rb:"jan. feb. mars apr. maj juni juli aug. sep. okt. nov. dec.".split(" "),Vb:"jan. feb. mars apr. maj juni juli aug. sep. okt. nov. dec.".split(" "),Xb:"s\u00f6ndag m\u00e5ndag tisdag onsdag torsdag fredag l\u00f6rdag".split(" "),
Wb:"s\u00f6ndag m\u00e5ndag tisdag onsdag torsdag fredag l\u00f6rdag".split(" "),Tb:"s\u00f6n m\u00e5n tis ons tors fre l\u00f6r".split(" "),yb:"s\u00f6n m\u00e5n tis ons tors fre l\u00f6r".split(" "),c:"SMTOTFL".split(""),Cb:"SMTOTFL".split(""),Sb:["K1","K2","K3","K4"],Qb:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"],Kb:["fm","em"],vb:["EEEE d MMMM y","d MMMM y","d MMM y","y-MM-dd"],Db:["'kl'. HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],
wb:0,Eb:[5,6],xb:3},Ae={Nb:["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],Mb:["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"],Pb:"\u0421\u041b\u0411\u041a\u0422\u0427\u041b\u0421\u0412\u0416\u041b\u0413".split(""),Ub:"\u0421\u041b\u0411\u041a\u0422\u0427\u041b\u0421\u0412\u0416\u041b\u0413".split(""),Ob:"\u0441\u0456\u0447\u043d\u044f \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0435\u0440\u0435\u0437\u043d\u044f \u043a\u0432\u0456\u0442\u043d\u044f \u0442\u0440\u0430\u0432\u043d\u044f \u0447\u0435\u0440\u0432\u043d\u044f \u043b\u0438\u043f\u043d\u044f \u0441\u0435\u0440\u043f\u043d\u044f \u0432\u0435\u0440\u0435\u0441\u043d\u044f \u0436\u043e\u0432\u0442\u043d\u044f \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430 \u0433\u0440\u0443\u0434\u043d\u044f".split(" "),
ob:"\u0441\u0456\u0447\u0435\u043d\u044c \u043b\u044e\u0442\u0438\u0439 \u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c \u043a\u0432\u0456\u0442\u0435\u043d\u044c \u0442\u0440\u0430\u0432\u0435\u043d\u044c \u0447\u0435\u0440\u0432\u0435\u043d\u044c \u043b\u0438\u043f\u0435\u043d\u044c \u0441\u0435\u0440\u043f\u0435\u043d\u044c \u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c \u0436\u043e\u0432\u0442\u0435\u043d\u044c \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434 \u0433\u0440\u0443\u0434\u0435\u043d\u044c".split(" "),
Rb:"\u0441\u0456\u0447. \u043b\u044e\u0442. \u0431\u0435\u0440. \u043a\u0432\u0456\u0442. \u0442\u0440\u0430\u0432. \u0447\u0435\u0440\u0432. \u043b\u0438\u043f. \u0441\u0435\u0440\u043f. \u0432\u0435\u0440. \u0436\u043e\u0432\u0442. \u043b\u0438\u0441\u0442. \u0433\u0440\u0443\u0434.".split(" "),Vb:"\u0421\u0456\u0447 \u041b\u044e\u0442 \u0411\u0435\u0440 \u041a\u0432\u0456 \u0422\u0440\u0430 \u0427\u0435\u0440 \u041b\u0438\u043f \u0421\u0435\u0440 \u0412\u0435\u0440 \u0416\u043e\u0432 \u041b\u0438\u0441 \u0413\u0440\u0443".split(" "),
Xb:"\u043d\u0435\u0434\u0456\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a \u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a \u0441\u0435\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440 \u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),Wb:"\u043d\u0435\u0434\u0456\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a \u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a \u0441\u0435\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440 \u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),
Tb:"\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),yb:"\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),c:"\u041d\u041f\u0412\u0421\u0427\u041f\u0421".split(""),Cb:"\u041d\u041f\u0412\u0421\u0427\u041f\u0421".split(""),Sb:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],Qb:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b",
"3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],Kb:["\u0434\u043f","\u043f\u043f"],vb:["EEEE, d MMMM y '\u0440'.","d MMMM y '\u0440'.","d MMM y '\u0440'.","dd.MM.yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} '\u043e' {0}","{1} '\u043e' {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:6};ge=le;var Be={Nb:["\u00ee.Hr.","d.Hr."],Mb:["\u00eenainte de Hristos","dup\u0103 Hristos"],Pb:"IFMAMIIASOND".split(""),Ub:"IFMAMIIASOND".split(""),Ob:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),ob:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),Rb:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),Vb:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),
Xb:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),Wb:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),Tb:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),yb:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),c:"D L Ma Mi J V S".split(" "),Cb:"D L Ma Mi J V S".split(" "),Sb:["trim. 1","trim. 2","trim. 3","trim. 4"],Qb:["trimestrul 1","trimestrul 2","trimestrul 3","trimestrul 4"],Kb:["a.m.","p.m."],vb:["EEEE, d MMMM y","d MMMM y","d MMM y",
"dd.MM.y"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:6};function Ce(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function De(a,b){this.width=a;this.height=b}function Ee(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}f=De.prototype;f.clone=function(){return new De(this.width,this.height)};function Fe(a){return Math.min(a.width,a.height)}f.es=function(){return this.width*this.height};f.isEmpty=function(){return!this.es()};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=ma(b)?b:a;this.width*=a;this.height*=c;return this};function Ge(a){this.c=a}var He=/\s*;\s*/;function Ie(a,b,c,d,e,g){if(/[;=\s]/.test(b))throw Error('Invalid cookie name "'+b+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');l(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(wa()+1E3*d)).toUTCString();a.c.cookie=b+"="+c+g+e+d+""}f=Ge.prototype;
f.get=function(a,b){for(var c=a+"=",d=(this.c.cookie||"").split(He),e=0,g;g=d[e];e++){if(0==g.lastIndexOf(c,0))return g.substr(c.length);if(g==a)return""}return b};f.remove=function(a,b,c){var d=l(this.get(a));Ie(this,a,"",0,b,c);return d};f.yd=function(){return Je(this).keys};f.mc=function(){return Je(this).values};f.isEmpty=function(){return!this.c.cookie};f.hd=function(){return this.c.cookie?(this.c.cookie||"").split(He).length:0};f.clear=function(){for(var a=Je(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
function Je(a){a=(a.c.cookie||"").split(He);for(var b=[],c=[],d,e,g=0;e=a[g];g++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var Ke=new Ge(document);Ke.h=3950;function Le(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function Me(){}Me.prototype.c=null;function Ne(a){var b;(b=a.c)||(b={},Oe(a)&&(b[0]=!0,b[1]=!0),b=a.c=b);return b};function z(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Pe(a){var b=Qe.sections,c={},d;for(d in b)a.call(void 0,b[d],d,b)&&(c[d]=b[d]);return c}function Re(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1}function Se(a){var b=0,c;for(c in a)b++;return b}function Te(a){for(var b in a)return b}function Ue(a){for(var b in a)return a[b]}function Ve(a){return La(t.visibleRelease,a)}function We(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}
function Na(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Xe(a,b){return null!==a&&b in a}function La(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Ye(a){for(var b in a)return!1;return!0}function Ze(a,b){b in a&&delete a[b]}function $e(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0}function af(a){var b={},c;for(c in a)b[c]=a[c];return b}
function bf(a){var b=fa(a);if("object"==b||"array"==b){if(na(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=bf(a[c]);return b}return a}var cf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function df(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<cf.length;g++)c=cf[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function ef(a){var b=arguments.length;if(1==b&&ia(arguments[0]))return ef.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function A(){Sd.call(this);this.Kk=[]}n(A,Sd);A.prototype.X=function(){for(var a=0;a<this.Kk.length;a++)this.Kk[a]&&ff(this.Kk[a],this);A.m.X.call(this)};function gf(a,b,c,d){var e=d?a:bf(a);null!=e||(e={});z(b,function(b,d){ia(e)&&D(e)&&!ma(d)&&(e={});if(null!=a&&"object"===typeof a[d]&&"object"===typeof b)e[d]=gf(e[d],b,c,!0);else if("object"===typeof b)e[d]=bf(b),c&&(c.changed=!0);else if(null==a||a[d]!==b)e[d]=b,c&&(c.changed=!0,"undefined"===typeof c.ri&&(c.ri={}),c.ri[d]=b)});return e}
function hf(a,b,c){z(a,function(d,e){"object"===typeof d?hf(a[e],b,c):b(a,e,c)})};function jf(){A.call(this);this.c=kf}n(jf,A);function lf(a){A.call(this);this.id=Math.random().toString(36).substring(7);this.A=[];this.g=[];a&&(this.id=a+"_"+this.id);this.data={}}n(lf,A);lf.prototype.getId=function(){return this.id};lf.prototype.getJSON=function(){return{id:this.getId(),type:this.getType(),data:this.getData()}};function mf(a,b){a.A.push(b)}lf.prototype.getData=function(){return this.data};function nf(a){a||(a="DbServerRequest");lf.call(this,a)}n(nf,lf);nf.prototype.getType=function(){return za.DbCollectionServerRequest.type};function of(a){a||(a="DbObjectRequest");lf.call(this,a)}n(of,lf);of.prototype.getType=function(){return za.DbObjectServerRequest.type};function pf(a,b){a.data=b;b.settings&&b.settings.langFe&&(a.data.langFe=b.settings.langFe)};function qf(a){a||(a="FeLangDataRequest");lf.call(this,a)}n(qf,lf);qf.prototype.getType=function(){return za.FeLangDataRequest.type};function rf(a){a||(a="FileUploadRequest");lf.call(this,a)}n(rf,lf);rf.prototype.getType=function(){return za.FileUploadServerRequest.type};function sf(a){return a.data.chunk_processed||0};function tf(){lf.call(this,"LoginRefreshRequest");this.data={}}n(tf,lf);tf.prototype.getType=function(){return za.LoginRefreshRequest.type};function uf(a){a||(a="PrecachedCollectionRequest");lf.call(this,a)}n(uf,lf);uf.prototype.getType=function(){return za.PrecachedCollectionRequest.type};function vf(a){a||(a="PremiumContentCheckRequest");lf.call(this,a)}n(vf,lf);vf.prototype.getType=function(){return za.PremiumContentCheckServerRequest.type};function wf(a){a||(a="PublishWebRequest");lf.call(this,a)}n(wf,lf);wf.prototype.getType=function(){return za.PublishWebServerRequest.type};function xf(a){a||(a="SafeDataServerRequest");this.identifier=0;lf.call(this,a)}n(xf,lf);function yf(a,b,c){b=l(b.dataType)&&l(b.dataKey)&&l(b.dataSettings)&&l(b.dataSettings.id)?b.dataType+"_"+b.dataKey+"_"+b.dataSettings.id:null;null!=b&&l(zf[b])&&(c=c?c:a.identifier,a.data[c].checksum=zf[b],a.data[c].windowId=t.windowId)}function Af(a){z(a.data,function(a,c){l(this.data[c].checksum)&&(this.data[c].disabledChecksum=!0)},a)};function Bf(a){a||(a="JSONServerRequest");this.c={};xf.call(this,a)}n(Bf,xf);Bf.prototype.getType=function(){return za.JSONServerRequest.type};function Cf(a,b,c,d,e){e={source:d,dataType:e};var g=!1;if("1"==t.useJsonPatch){var g=b,h=[];c=bf(c);g=bf(g);Ma(c,g,h,"");e.patch=h;(g=0<h.length)&&(a.c[a.identifier]=b)}else e.data=b,g=JSON.stringify(b)!=JSON.stringify(c);!0===g&&(a.data[a.identifier]=e,yf(a,d),a.identifier++)}
function Df(a){z(a.data,function(a,c){"1"==t.useJsonPatch&&(delete this.data[c].patch,this.data[c].data=this.c[c])},a)};function Ef(a){a||(a="ContentItemServerRequest");Bf.call(this,a)}n(Ef,Bf);Ef.prototype.getType=function(){return za.ContentItemServerRequest.type};function Ff(a){a||(a="ServerProjectServerRequest");of.call(this,a)}n(Ff,of);Ff.prototype.getType=function(){return za.ServerProjectServerRequest.type};function Gf(a){a||(a="StaticServerCollectionRequest");lf.call(this,a)}n(Gf,lf);Gf.prototype.getType=function(){return za.StaticServerCollectionServerRequest.type};function Hf(){A.call(this);this.c={274:"Orientation"}}n(Hf,A);
Hf.prototype.getData=function(a){var b=new DataView(a);if(255!=b.getUint8(0)||216!=b.getUint8(1))return!1;var c=2;a=a.byteLength;for(var d;c<a&&255==b.getUint8(c);){d=b.getUint8(c+1);if(225==d){a:if(c=c+4,"Exif"!=If(b,c,4))c=!1;else{var e=void 0;a=c+6;if(18761==b.getUint16(a))e=!1;else if(19789==b.getUint16(a))e=!0;else{c=!1;break a}if(42!=b.getUint16(a+2,!e))c=!1;else if(d=b.getUint32(a+4,!e),8>d)c=!1;else{c=b;b=a;a=a+d;d=this.c;for(var g=c.getUint16(a,!e),h={},k=void 0,p=void 0,w=void 0,w=0;w<g;w++)k=
a+12*w+2,p=d[c.getUint16(k,!e)],h[p]=Jf(c,k,b,e);c=h}}return c}c+=2+b.getUint16(c+2)}return!1};function If(a,b,c){for(var d="",e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}
function Jf(a,b,c,d){var e=a.getUint16(b+2,!d),g=a.getUint32(b+4,!d);c=a.getUint32(b+8,!d)+c;var h,k;switch(e){case 1:case 7:if(1==g)return a.getUint8(b+8);c=4<g?c:b+8;b=[];for(e=0;e<g;e++)b[e]=a.getUint8(c+e);return b;case 2:return If(a,4<g?c:b+8,g-1);case 3:if(1==g)return a.getUint16(b+8,!d);c=2<g?c:b+8;b=[];for(e=0;e<g;e++)b[e]=a.getUint16(c+2*e,!d);return b;case 4:if(1==g)return a.getUint32(b+8,!d);b=[];for(e=0;e<g;e++)b[e]=a.getUint32(c+4*e,!d);return b;case 5:if(1==g)return h=a.getUint32(c,
!d),k=a.getUint32(c+4,!d),a=Number(h/k),a.numerator=h,a.denominator=k,a;b=[];for(e=0;e<g;e++)h=a.getUint32(c+8*e,!d),k=a.getUint32(c+4+8*e,!d),b[e]=Number(h/k),b[e].BC=h,b[e].gC=k;return b;case 9:if(1==g)return a.getInt32(b+8,!d);b=[];for(e=0;e<g;e++)b[e]=a.getInt32(c+4*e,!d);return b;case 10:if(1==g)return a.getInt32(c,!d)/a.getInt32(c+4,!d);b=[];for(e=0;e<g;e++)b[e]=a.getInt32(c+8*e,!d)/a.getInt32(c+4+8*e,!d);return b}return!1};function Kf(){A.call(this);this.c=null}n(Kf,A);Kf.prototype.sn=function(){if(!this.A)throw new Pa("Unknown contextType");if(null===this.c){var a=document.createElement("canvas"),b;try{b=a.getContext(this.A)}catch(c){b=null}this.c=!!b}return this.c};Kf.prototype.blur=function(a,b){this.Tg(a);this.Sn(b);return this.canvas};Kf.prototype.oh=function(a,b){this.Tg(a);this.uq(b);return this.canvas};function Lf(){Kf.call(this);this.A="2d"}n(Lf,Kf);Lf.prototype.Tg=function(a){this.canvas||(this.canvas=document.createElement("canvas"));var b=a.width,c=a.height;this.canvas.setAttribute("width",b);this.canvas.setAttribute("height",c);this.g=this.canvas.getContext(this.A);this.g.drawImage(a,0,0,b,c);this.h=this.g.getImageData(0,0,b,c);return this.canvas};
Lf.prototype.Sn=function(a){a/=2;for(var b=this.h.data,c=parseInt(this.canvas.width,10),d=parseInt(this.canvas.height,10),e=[],g=[],h=[],k=[],p=[],w=[],v=0,C=b.length;v<C;v+=4)e.push(b[v]),g.push(b[v+1]),h.push(b[v+2]),k.push(0),p.push(0),w.push(0);Mf(e,k,c,d,a);Mf(g,p,c,d,a);Mf(h,w,c,d,a);a=0;c=b.length/4;for(v=0;v<c;v++)a=4*v,b[a]=k[v],b[a+1]=p[v],b[a+2]=w[v];this.g.putImageData(this.h,0,0)};
function Mf(a,b,c,d,e){var g=Math.floor(Math.sqrt(12*e*e/3+1));0==g%2&&g--;var h=g+2;e=Math.round((12*e*e-3*g*g-12*g-9)/(-4*g-4));for(var k=[],p=0;3>p;p++)k.push(p<e?g:h);Nf(a,b,c,d,(k[0]-1)/2);Nf(b,a,c,d,(k[1]-1)/2);Nf(a,b,c,d,(k[2]-1)/2)}
function Nf(a,b,c,d,e){for(var g=0,h=a.length;g<h;g++)b[g]=a[g];for(var k,p,w,v,C,G,J=1/(e+e+1),g=0;g<d;g++){p=k=g*c;w=k+e;v=b[k];C=b[k+c-1];G=(e+1)*v;for(h=0;h<e;h++)G+=b[k+h];for(h=0;h<=e;h++)G+=b[w++]-v,a[k++]=Math.round(G*J);for(h=e+1;h<c-e;h++)G+=b[w++]-b[p++],a[k++]=Math.round(G*J);for(h=c-e;h<c;h++)G+=C-b[p++],a[k++]=Math.round(G*J)}J=1/(e+e+1);for(g=0;g<c;g++){p=k=g;w=k+e*c;v=a[k];C=a[k+c*(d-1)];G=(e+1)*v;for(h=0;h<e;h++)G+=a[k+h*c];for(h=0;h<=e;h++)G+=a[w]-v,b[k]=Math.round(G*J),w+=c,k+=
c;for(h=e+1;h<d-e;h++)G+=a[w]-a[p],b[k]=Math.round(G*J),p+=c,w+=c,k+=c;for(h=d-e;h<d;h++)G+=C-a[p],b[k]=Math.round(G*J),p+=c,k+=c}}
Lf.prototype.Tl=function(a,b,c){a=this.h.data;var d=[],e=0,g=0,h=0;b&&(g=255*Math.max(-1,Math.min(b,1)));c&&(h=Math.max(-1,Math.min(c,1))/255*3);b=0;for(c=a.length;b<c;b+=4){for(var d=[a[b],a[b+1],a[b+2]],e=(d[0]+d[1]+d[2])/3,k=0;3>k;k++)d[k]=e+g,h&&(d[k]=0<h?(d[k]-.5)/(1-h)+.5:(d[k]-.5)*(1+h)+.5);a[b]=parseInt(d[0],10);a[b+1]=parseInt(d[1],10);a[b+2]=parseInt(d[2],10)}this.g.putImageData(this.h,0,0)};
Lf.prototype.uq=function(a){var b=this.h.data;a=Math.max(0,Math.min(a,1));for(var c=[[.607,.769,.189],[.314,.168,.349],[.869,.272,.534]],d=0,e=b.length;d<e;d+=4)for(var g=[[b[d],b[d+1],b[d+2]],[b[d+1],b[d+2],b[d]],[b[d+2],b[d],b[d+1]]],h=0;3>h;h++)b[d+h]=parseInt(g[h][0]*(1-c[h][0]*a)+g[h][1]*c[h][1]*a+g[h][2]*c[h][2]*a,10);this.g.putImageData(this.h,0,0)};function Of(a){A.call(this);this.c=a?a:Pf}n(Of,A);var Pf="be";function Qf(a,b){if(!b)return"";for(var c={},d=Rf(a).split("%"),e=[],g=0;g<d.length;g++)0!=d[g].length&&e.push({type:d[g].charAt(0),separator:d[g].substring(1,d.length-1)});for(var h=g=d=0;h<e.length;h++){var k=e[h],d=b.indexOf(k.separator,d);0>d&&(d=b.length);d==g&&(d=b.length);c[k.type]=b.substring(g,d);g=d+=k.separator.length}return(Sf(c,"Y",4)+Sf(c,"m",2)+Sf(c,"d",2)+Sf(c,"H",2)+Sf(c,"M",2)+"00000000000000").substr(0,14)}
function Sf(a,b,c){var d="";a&&a[b]&&(a=a[b].replace(new RegExp("[.]?(\\d{"+c+"}).*"),"$1"),isNaN(Number(a))||(d=a));return d}function Rf(a,b){var c="DATE_TIME";l(b)&&"00"==b.substr(8,2)&&"00"==b.substr(10,2)&&"00"==b.substr(12,2)&&(c="DATE");return t.format[a.c][c].mask};function Tf(){A.call(this)}n(Tf,A);Tf.prototype.h=!1;Tf.prototype.max=null;Tf.prototype.c=function(a,b,c){return null!=c&&c.hasOwnProperty("max")?(this.max=c.max,a.length<=this.max):!0};function Uf(a){A.call(this);this.h=a;this.c=r.FeLanguages.DataType}n(Uf,A);Uf.prototype.getId=function(){return parseInt(Vf(this,"id"),10)};Uf.prototype.Zc=function(){return Vf(this,"identifier")};function Wf(a){return Vf(a,"base_identifier")}Uf.prototype.getName=function(){return Vf(this,"name")};function Xf(a){return Vf(a,"home_page_id")}function Vf(a,b){var c=a.h[a.c+"."+b];if(!l(c))throw new Pa("Missing value for column "+a.c+"."+b+"!");return c}Uf.prototype.rp=function(){return 1===this.getId()};
function Yf(a){return"/"+(a.rp()?"home":a.Zc())+"/"}function Zf(a){return[Vf(a,"user_login_page_id"),Vf(a,"user_recovery_page_id"),Vf(a,"user_registration_page_id")]};function $f(){A.call(this);this.c={};this.g=[];this.h=!0;this.A={}}n($f,A);ea($f);function ag(a,b){return"object"===typeof a.c[b]}f=$f.prototype;f.get=function(a){this.c[a]||(this.c[a]=E.j().create("wnd.ui.Toolbox",a,document.body,bg.j().get("wnd.pc"),{withOverlay:!1},{className:"transparent",noScroll:!0,withoutSideCorrection:!0}));return this.c[a]};f.pause=function(){this.h=!1};
f.show=function(a,b,c){if(!this.h)return!1;var d=!1,e=this.get(a);D(this.g)||u(this.g,function(b){b!==a&&this.hide(b)},this);e.Ra()||(this.g.push(a),cg(e,b,!0,null,null,c),d=!0);return d};f.hide=function(a){var b;if(b=this.Ra(a))b=this.A[a],b=!0!==(b&&b.Ra());b&&(dg(this.g,a),this.get(a).hide())};f.Ra=function(a){return F(this.g,a)};f.remove=function(a){this.c[a]&&(this.c[a].dispose(),delete this.c[a])};function eg(){A.call(this);this.h={};this.g={}}n(eg,A);f=eg.prototype;f.Eh=null;f.ek=!1;f.bj=null;f.register=function(a,b){if(l(this.h[a]))throw new Pa('Class "'+a+'" already registered in factory');this.h[a]=b};f.get=function(a,b){if(this.ek){var c=this.Lo.apply(this,arguments);l(this.g[c])||(this.g[c]=this.Tq.apply(this,arguments));return this.g[c]}return this.Tq.apply(this,arguments)};
f.Tq=function(a,b){null===this.Eh&&(this.Eh=this.A());var c;if(l(this.Eh[a]))c=this.Eh[a];else{if(null===this.bj)throw new Pa('No valid class found for "'+a+'"');c=this.bj}if(!l(this.h[c]))throw new Pa('Unregistered class "'+c+'" in factory');c=this.h[c];var d=fg(arguments);d.unshift(null);return new (Function.prototype.bind.apply(c,d))};f.Lo=function(a){return a};function gg(){eg.call(this);this.Eh=r.ValidatorFactory;this.ek=!0}n(gg,eg);ea(gg);function hg(){A.call(this)}n(hg,Tf);
hg.prototype.c=function(a,b,c){b=hg.m.c.call(this,a,b,c);ma(a)&&(a=a.toString());if(/[0-9]{14}/.test(a)){c=new Date(Date.UTC(parseInt(a.substr(0,4),10),parseInt(a.substr(4,2),10)-1,parseInt(a.substr(6,2),10),parseInt(a.substr(8,2),10),parseInt(a.substr(10,2),10),parseInt(a.substr(12,2),10)));var d=[c.getUTCFullYear(),("0"+(c.getUTCMonth()+1)).substr(-2,2),("0"+c.getUTCDate()).substr(-2,2),("0"+c.getUTCHours()).substr(-2,2),("0"+c.getUTCMinutes()).substr(-2,2),("0"+c.getUTCSeconds()).substr(-2,2)].join("");
this.h=b&&!1===isNaN(c.getTime())&&a===d}else this.h=!1;return this.h};gg.j().register("wnd.ui.DateValidator",hg);function ig(){A.call(this)}n(ig,Tf);ig.prototype.pattern=/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-\.]+?\.[a-zA-Z]{2,20}$/;ig.prototype.c=function(a,b,c){b=ig.m.c.call(this,a,b,c);0===a.indexOf("mailto:")&&(a=a.substr(7));return this.h=b&&this.pattern.test(a)};gg.j().register("wnd.ui.EmailValidator",ig);function jg(){A.call(this);this.pattern=/^[A-Z]{2}\-[0-9]{4,}[0-9\-]*$/}n(jg,Tf);jg.prototype.c=function(a,b,c){return this.h=jg.m.c.call(this,a,b,c)&&this.pattern.test(a)};gg.j().register("wnd.ui.GoogleAnalyticsValidator",jg);function kg(){A.call(this)}n(kg,Tf);kg.prototype.c=function(a,b,c){b=kg.m.c.call(this,a,b,c);a=String(a).replace(/&nbsp;/g," ").replace(/&(?!amp;)/g,"&amp;").replace(/([ ]?\/>)/g,">");c="";try{c=this.parse(a)}catch(d){}return this.h=b&&c==a};kg.prototype.parse=function(a){var b=document.implementation.createHTMLDocument("");b.body.innerHTML=a;a=b.body.innerHTML;return a=a.replace('=""',"")};gg.j().register("wnd.ui.HtmlValidator",kg);function lg(){A.call(this)}n(lg,Tf);lg.prototype.pattern=/^[a-z0-9\-\/%]+$/;lg.prototype.c=function(a,b,c){b=lg.m.c.call(this,a,b,c);null!=c&&c.hasOwnProperty("pattern")&&(this.pattern=c.pattern);return this.h=b&&this.pattern.test(a)};gg.j().register("wnd.ui.IdentifierValidator",lg);function mg(){A.call(this)}n(mg,Tf);mg.prototype.c=function(a,b,c){a=mg.m.c.call(this,a,b,c);if(null===this.max)throw new Pa("Max. limit must be defined");return this.h=a};gg.j().register("wnd.ui.LessThanValidator",mg);function ng(){A.call(this)}n(ng,Tf);ng.prototype.pattern=/^(\([0-9]{3}\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$/;ng.prototype.c=function(a,b,c){return this.h=ng.m.c.call(this,a,b,c)&&this.pattern.test(a)};gg.j().register("wnd.ui.PhoneValidator",ng);function og(){A.call(this)}n(og,Tf);og.prototype.pattern=/^(((https?):\/\/|)[\w-]+(\.[\w-]+)+|\/)([\w.,@?^=%&amp;:\/~+#$![\]{}()*+-]*[\w@?^=%&amp;:\/~+#$![\]{}()*+-])?$/;og.prototype.c=function(a,b,c){return this.h=og.m.c.call(this,a,b,c)&&this.pattern.test(a)};gg.j().register("wnd.ui.UrlValidator",og);function pg(a){A.call(this);this.identifier=a;this.Jd={};this.Sq=!1}n(pg,A);function qg(a,b){u(b.split("|"),function(a){a=a.split(":");this.Jd[a[0]]=a[1]},a);return a}function rg(a){z(zf,function(a,c){c=c.replace("gui_pages_gui_pages.content_items_","ci_").replace("gui_page_templates_gui_page_templates.content_items_","ly_").replace("listing_items_listing_items.content_items","li_");this.Jd[c]=a},a);return a}
function sg(a){var b=[];z(a.Jd,function(a,d){b.push(d+":"+a)});b=b.join("|");Ie(Ke,a.identifier,b,-1,"/");return a}pg.prototype.Zc=function(){return this.identifier};pg.prototype.equals=function(a){a=a.Jd;var b=Na(a),c=b.length;if(a.length!=this.Jd.length)return!1;for(var d=0;d<c;d++){var e=b[d];if(!l(this.Jd[e])||a[e]!=this.Jd[e])return!1}return!0};function tg(){A.call(this);this.h=null;this.c={}}n(tg,A);ea(tg);function ug(){var a;a=a||t.windowId;return"tab__"+a}function vg(a){for(var b=Ke.yd(),c=0;c<b.length;c++){var d=b[c];if(0==d.lastIndexOf("tab__",0)){var e=Ke.get(d);l(e)&&(a.c[d]=qg(new pg(d),e))}}return a}function wg(a,b){var c=ug();a.h=c;a.c[c]=rg(new pg(c));b&&sg(a.c[c])}
function xg(a,b){z(a.c,function(a){var d;a:{d=Na(b.Jd);for(var e=0;e<d.length;e++)if(l(a.Jd[d[e]])){d=!0;break a}d=!1}if(d&&!a.equals(b)){d=Na(a.Jd);for(var e=b.Jd,g=0;g<d.length;g++){var h=d[g];l(e[h])&&(a.Jd[h]=e[h])}sg(a)}})};function yg(a,b,c){A.call(this);this.o=pa(this);this.l=a;this.h=b;this.c=null;c&&(this.c=c)}n(yg,A);yg.prototype.getId=function(){return this.o};yg.prototype.getType=function(){return this.l};yg.prototype.stopPropagation=function(){this.h="propagation_stopped"};yg.prototype.X=function(){this.c=null;yg.m.X.call(this)};function H(a,b,c){yg.call(this,a,c||"parent_propagation",b)}n(H,yg);function zg(a,b,c,d,e){yg.call(this,a,b,d);this.G=c;this.g=e}n(zg,yg);zg.prototype.K=function(){return this.G};function Ag(a){a||(a="ProjectInfoRequest");lf.call(this,a);mf(this,m(this.c,this))}n(Ag,lf);Ag.prototype.getType=function(){return za.ProjectInfoServerRequest.type};Ag.prototype.K=function(){return"project_info"};Ag.prototype.c=function(a,b){if("success"==a){Bg(Cg.j().get(this.K()),b);var c=new zg("dataUpdate","children_propagation",this.K());Dg(bg.j(),c)}};function Eg(){A.call(this)}n(Eg,A);Eg.prototype.init=function(){};function Fg(){A.call(this)}n(Fg,A);ea(Fg);Fg.prototype.c=function(){return Eg};Fg.prototype.h=null;Fg.prototype.register=function(a,b){this.c=b};Fg.prototype.init=function(){this.h=new (this.c());this.h.init()};function Gg(a){lf.call(this,a);this.data={pageId:t.isListingDetail?t.listing_item.id:t.page.id,pageDataType:t.isListingDetail?"listing_items":"gui_pages",langId:t.page.langId}}n(Gg,lf);function Hg(a){Gg.call(this,a);df(this.data,{parentId:null,context:"layout",referenceId:null,position:"bottom"});mf(this,m(this.c,this))}n(Hg,Gg);Hg.prototype.setPosition=function(a){this.data.position=a};Hg.prototype.c=function(a,b){"error"!==a&&Ig(Jg.j(),b.changedItems)};function Kg(a){a||(a="CreateMicroTemplateCellRequest");Hg.call(this,a)}n(Kg,Hg);Kg.prototype.getType=function(){return x.CreateMicroTemplateCellServerRequest.type};function Lg(a){Gg.call(this,a||"ListingZoneUpdateRequest");mf(this,m(this.c,this))}n(Lg,Gg);Lg.prototype.getType=function(){return x.ListingZoneUpdateRequest.type};Lg.prototype.c=function(){};function Mg(a){Gg.call(this,a||"ReplaceImageWithPlaceholderServerRequest");mf(this,m(this.c,this))}n(Mg,Gg);Mg.prototype.getType=function(){return x.ReplaceImageWithPlaceholderServerRequest.type};Mg.prototype.c=function(a,b){"success"===a&&(Ig(Jg.j(),b.changedItems,b.removedItems),z(b.removedItems,function(a){Ng(I.j(),a)&&I.j().get(a).dispose()}))};function Og(){}Og.prototype.c=function(){};function Pg(a){Pg[" "](a);return a}Pg[" "]=da;function Qg(a,b){try{return Pg(a[b]),!0}catch(c){}return!1};function Rg(a){return/^[\s\xa0]*$/.test(a)}var Sg=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Tg(a){if(!Ug.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Vg,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Wg,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Xg,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Yg,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Zg,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace($g,"&#0;"));return a}
var Vg=/&/g,Wg=/</g,Xg=/>/g,Yg=/"/g,Zg=/'/g,$g=/\x00/g,Ug=/[\x00&<>"']/;function ah(a){return-1!=a.indexOf("&")?"document"in ca?bh(a):ch(a):a}function bh(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=ca.document.createElement("div");return a.replace(dh,function(a,e){var g=b[a];if(g)return g;if("#"==e.charAt(0)){var h=Number("0"+e.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}
function ch(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var dh=/&([^;\s<&]+);?/g;function eh(a,b){return-1!=a.toLowerCase().indexOf(b.toLowerCase())}function fh(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
var gh=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function hh(a,b){var c=l(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);return gh("0",Math.max(0,b-d))+c}function ih(a,b){return a<b?-1:a>b?1:0}function jh(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function kh(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}
function lh(a){var b=ka(void 0)?fh(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function mh(){A.call(this);this.c={}}n(mh,A);ea(mh);function nh(a){return a[a.length-1]}
var oh=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ka(a))return ka(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ph=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(ka(a))return ka(b)&&1==b.length?a.lastIndexOf(b,c):-1;
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},u=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ka(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function qh(a,b,c){for(var d=ka(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var rh=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=ka(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var p=h[k];b.call(c,p,k,a)&&(e[g++]=p)}return e},sh=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=ka(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},th=Array.prototype.reduce?function(a,b,c,d){d&&(b=m(b,d));return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c,d){var e=c;u(a,function(c,h){e=b.call(d,e,c,h,a)});return e},uh=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ka(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1},vh=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ka(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};
function wh(a,b,c){var d=0;u(a,function(a,g,h){b.call(c,a,g,h)&&++d},c);return d}function xh(a,b,c){a:{for(var d=a.length,e=ka(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a)){b=g;break a}b=-1}return 0>b?null:ka(a)?a.charAt(b):a[b]}function F(a,b){return 0<=oh(a,b)}function D(a){return 0==a.length}function yh(a,b){F(a,b)||a.push(b)}function dg(a,b){var c=oh(a,b),d;(d=0<=c)&&zh(a,c);return d}function zh(a,b){Array.prototype.splice.call(a,b,1)}
function Ah(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Bh(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function fg(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ch(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ja(d)){var e=a.length||0,g=d.length||0;a.length=e+g;for(var h=0;h<g;h++)a[e+h]=d[h]}else a.push(d)}}function Dh(a,b,c,d){Array.prototype.splice.apply(a,Eh(arguments,1))}
function Eh(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Fh(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],g;g=e;g=oa(g)?"o"+pa(g):(typeof g).charAt(0)+g;Object.prototype.hasOwnProperty.call(b,g)||(b[g]=!0,a[c++]=e)}a.length=c}function Gh(a,b){a.sort(b||Hh)}
function Ih(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Hh;Gh(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Hh(a,b){return a>b?1:a<b?-1:0};function K(){A.call(this);this.ta={}}n(K,A);K.prototype.observe=function(a,b,c){"undefined"==typeof this.ta[a]&&(this.ta[a]=[]);for(var d=0;d<this.ta[a].length;d++)if(this.ta[a][d].Lf===b&&this.ta[a][d].Ch===c)return;this.ta[a].push({Lf:b,Ch:c});c.Kk.push(this)};K.prototype.notify=function(a,b){var c;if("undefined"!=typeof this.ta[a])for(var d=this.ta[a].length,e=0;e<d&&(c=this.ta[a][e],c.Ch instanceof Sd&&c.Ch.ub||(c.Lf.apply(c.Ch,arguments),l(this.ta[a])));e++);};
function Jh(a,b,c){a.ta.hasOwnProperty(b)&&(c?a.ta[b]=rh(a.ta[b],function(a){return a.Lf!=c}):delete a.ta[b])}function ff(a,b){for(var c in a.ta)a.ta[c]=rh(a.ta[c],function(a){return a.Ch!=b})};function Kh(a,b){K.call(this);this.dataType=a;b&&(this.h=b)}n(Kh,K);Kh.prototype.getData=function(a){this.data||this.jg();return a?l(this.data[a])?this.data[a]:void 0:this.data};Kh.prototype.ig=function(){delete this.data;this.notify("onEraseCache")};Kh.prototype.K=function(){return this.dataType};function Lh(a,b){Kh.call(this,a,b)}n(Lh,Kh);Lh.prototype.jg=function(){if("undefined"!=typeof Mh[this.dataType])this.data=Mh[this.dataType];else throw new Pa("Datatype "+this.dataType+" doesn't exist in JSONDataCollection (wnd.$data)");};Lh.prototype.Dd=function(){return!1};function Nh(a,b){Kh.call(this,a,b);this.c=!1;this.A=[]}n(Nh,Kh);f=Nh.prototype;f.getData=function(){throw new Pa("Use `getSrvData` for server data collection");};
f.Ea=function(a,b,c){var d=this;this.data?(b&&Ph(Qh.j(),b),a.call(c,"success",this.data,null,{order:this.g})):this.c?this.A.push(a):this.G(function(b,g,h){if("success"==b){d.data=d.o(g);d.g=d.l(g);g={order:d.g};a.call(c,b,d.data,h,g);for(var k=0;k<d.A.length;k++)d.A[k].call(c,b,d.data,h,g);d.A=[]}else d.data=g,d.g=[],g={order:d.g},a.call(c,b,d.data,h,g)},b)};function Rh(a,b,c,d){mf(b,m(a.Fy,a));c&&mf(b,c);Sh(Qh.j(),b,d);a.c=!0}f.jg=function(){};f.Fy=function(){this.c=!1};f.Dd=function(){return this.c};function Th(a){K.call(this);this.dataType=a}n(Th,K);f=Th.prototype;f.create=function(a,b){var c=this.Zi(a,b);this.kg();return c};f.update=function(a,b,c){this.wk(a,b,c);this.kg()};f["delete"]=function(a){this.cj(a);this.kg()};function Bg(a,b){Mh[a.dataType]=b;a.kg()}f.kg=function(){Uh(L.j(),this.K())};f.K=function(){return this.dataType};function Vh(a){return L.j().get(a.dataType)};function Wh(a){Th.call(this,a)}n(Wh,Th);Wh.prototype.Dd=function(){return!1};Wh.prototype.Zi=function(a){"undefined"==typeof Mh[this.dataType]&&(Mh[this.dataType]={});if("undefined"==typeof a.id){do a.id=Math.floor(1E4*Math.random()).toString();while("undefined"!=typeof Mh[this.dataType][a.id])}Mh[this.dataType][a.id]=a;return a.id};Wh.prototype.wk=function(a,b){Mh[this.dataType][a]=b};Wh.prototype.cj=function(a){delete Mh[this.dataType][a]};function Xh(a){Th.call(this,a);this.h={}}n(Xh,Th);f=Xh.prototype;f.create=function(){throw new Pa("Use `createSrv` for server data object");};f.update=function(){throw new Pa("Use `updateSrv` for server data object");};f["delete"]=function(){throw new Pa("Use `deleteSrv` for server data object");};function Yh(a,b,c,d){a.c(b,c,null,d,null)}function Zh(a,b,c,d){$h(a,b,c,d)}function ai(a,b,c,d){mf(b,m(a.Gy,a));c&&mf(b,c);Sh(Qh.j(),b,d);a.h[b.getId()]=b}f.Gy=function(a,b,c){delete this.h[c.getId()];this.kg()};
f.Zi=function(){return""};f.wk=function(){};f.cj=function(){};f.Dd=function(){return!Ye(this.h)};function bi(a,b){K.call(this);this.id=a+"_"+Math.random().toString(36).substring(7);this.name=a;this.Kc=[];this.c=b?b:1;this.status="ready"}n(bi,K);f=bi.prototype;f.up=!0;f.getStatus=function(){return this.status};function ci(a,b){a.status=b;a.notify(b)}f.getId=function(){return this.id};f.getName=function(){return this.name};
f.getJSON=function(){for(var a=[],b=0;b<this.Kc.length;b++)a.push(this.Kc[b].getJSON());return{id:this.getId(),type:this.getType(),headers:{langBe:t.backendLanguage,langFe:t.frontendLanguage},requests:a}};function di(a,b){u(a.Kc,function(a){if(b.getId()==a.getId())throw new Pa("Request `"+b.getId()+"` already exist in transaction");},a);a.Kc.push(b)}function ei(a){return uh(a.Kc,function(a){return a instanceof xf},a)}function fi(a){u(a.Kc,function(a){a instanceof xf&&Af(a)},a)}
function gi(a){u(a.Kc,function(a){a instanceof Bf&&Df(a)},a)};function hi(a,b){bi.call(this,a,b)}n(hi,bi);hi.prototype.getType=function(){return za.UniversalServerTransaction.type};function ii(a,b){K.call(this);this.c=!!a;this.h=ma(b)?b:0;return this}n(ii,K);function ji(){K.call(this)}n(ji,K);function ki(){K.call(this);return this}n(ki,K);f=ki.prototype;f.fo=null;f.vg="";f.Tn="";f.Bq=!1;f.aq=!1;f.Hj="";f.cq=!1;f.dj=!1;function li(a,b){a.c=b;return a}function mi(a,b){a.fo=b;return a}f.Da=function(){return this.fo};function ni(a,b){a.Fi=b;return a}f.Do=function(){return this.Fi};function oi(a,b){a.vg=b;return a}function pi(a,b){a.Tn=b;return a}function qi(a,b){a.Bq=b;return a}function ri(a,b){a.Hj=b;return a}function si(a,b){a.cq=b;return a}f.$a=function(a){this.o=a;return this};
function ti(a,b){a.A=b;return a}function ui(a,b){a.G=b;return a}function vi(a,b){a.h=b}function wi(a,b){a.l=b;return a}function xi(a){a.M=yi;return a}function zi(a,b){a.dj=b;a.notify("onChangeDisabledState",a);return a};function Ai(a){K.call(this);this.A=a||null;this.G=[];this.Gc=[];this.ab=!0;this.A&&(a=this.A,a.G.push(this),a.Yj())}n(Ai,K);f=Ai.prototype;f.removeChild=function(a){this.G&&(a=this.G.indexOf(a),0<=a&&this.G.splice(a,1));this.Yj()};function Bi(a,b){if(a.A)a.A.removeChild(a),b.G.push(a),b.Yj(),a.A=b;else throw new Pa("TreeObject has no parent object");}
f.ca=function(a){if("parent_propagation"==a.h)this.A?this.A.hg(a):a.stopPropagation();else if("children_propagation"==a.h)if(this.G)for(var b=this.G.length,c=0;c<b;c++)this.G[c].hg(a);else a.stopPropagation();"propagation_stopped"==a.h&&a.dispose()};f.hg=function(a){-1==this.Gc.indexOf(a.getId())&&(a.c&&a.c===this||this.handleEvent(a),this.Gc.push(a.getId()));this.ca(a)};f.handleEvent=function(a){a instanceof H?this.ma(a):a instanceof zg&&this.Y(a)};f.Y=function(){};f.ma=function(){};f.Yj=function(){};
f.getParent=function(){return this.A};f.X=function(){this.A&&this.A.removeChild(this);if(this.ab){var a=fg(this.G);u(a,function(a){a.dispose()},this)}Ai.m.X.call(this)};function Ci(a,b){Ai.call(this);this.identifier=a;this.o=b}n(Ci,Ai);Ci.prototype.Zc=function(){return this.identifier};Ci.prototype.Y=function(a){"parent_propagation"==a.h?Dg(bg.j(),a):"children_propagation"==a.h&&F(this.o.ModuleDataEventFilter,a.K())&&this.ca(a)};
Ci.prototype.ma=function(a){var b=null;if("inspectletInfo1"==a.getType()||"inspectletInfo2"==a.getType()||"inspectletInfo3"==a.getType()||"inspectletInfo4"==a.getType()||"inspectletInfo5"==a.getType()){window.__insp=window.__insp||[];if("inspectletInfo1"==a.getType())switch(a.c.ba()){case "wnd.tb.ToolbarContent":window.__insp.push(["tagSession","published"]);b="publish";break;case "wnd.pc.ImageBlock":window.__insp.push(["tagSession","edit image"]);break;case "wnd.pc.TextBlock":window.__insp.push(["tagSession",
"wysiwyg"]);break;case "wnd.pm.NewPageForm":window.__insp.push(["tagSession","added page"]);break;case "wnd.pm.PagesAdminPopup":window.__insp.push(["tagSession","opened pages"]);break;case "wnd.pc.InsertContentPopup":window.__insp.push(["tagSession","content add open"]);break;case "wnd.pc.EditSectionPopup":window.__insp.push(["tagSession","section remove"]);break;case "wnd.pc.MicroTemplate":window.__insp.push(["tagSession","microtemplate cell add"])}if("inspectletInfo2"==a.getType())switch(a.c.ba()){case "wnd.pc.InsertContentPopup":window.__insp.push(["tagSession",
"section add open"]);break;case "wnd.pc.EditSectionPopup":window.__insp.push(["tagSession","layout edit open"])}"inspectletInfo3"==a.getType()&&"wnd.pc.EditSectionPopup"==a.c.ba()&&window.__insp.push(["tagSession","section edit open"]);"inspectletInfo4"==a.getType()&&window.__insp.push(["tagSession","member login activation open"]);"inspectletInfo5"==a.getType()&&window.__insp.push(["tagSession","member login activated"])}else b||("parent_propagation"==a.h&&(a.h="children_propagation"),this.ca(a));
if(null!=Ra&&na(Ra.kc)&&b){var c=a.c;a={data:{MVCType:c.ba(),MVCId:c.C()}};(c=c.Ct?c.Z:null)&&c.C&&(a.data.parentMVCId=c.C());Ra.kc(b,a)}};function bg(){K.call(this);this.c={}}n(bg,K);ea(bg);bg.prototype.register=function(a,b){var c=new b(a);this.c[a]=c};bg.prototype.init=function(){z(this.c,function(a,b){a.init();this.notify("onInit",b)},this)};bg.prototype.get=function(a){if(!l(this.c[a]))throw new Pa("Invalid module namespace `"+a+"`");return this.c[a]};function Dg(a,b){b.h="children_propagation";z(a.c,function(a,d){void 0!=d&&a.Y(b)},a)}
function Di(a,b,c){b.h="children_propagation";if(c&&"undefined"==typeof a.c[c])throw new Pa("Invalid module namespace `"+c+"`");z(a.c,function(a,e){e!=c&&a.ma(b)},a)}function Ei(a){var b=bg.j();return th(We(b.c),function(b,d){var e=l(d.o[a])?d.o[a]:null;return null===e?b:gf(b,e)},l(Fa[a])?Fa[a]:{},b)};function L(){eg.call(this);this.ek=!0;this.bj="wnd.data.JSONDataCollection";this.c={}}n(L,eg);ea(L);function Uh(a,b){l(a.c[b])&&z(a.c[b],function(a,d){this.g[b+"_"+d].ig()},a)}L.prototype.Lo=function(a,b){return this.o.apply(this,arguments)};L.prototype.o=function(a,b){var c=b?JSON.stringify(b):"no_settings";l(this.c[a])||(this.c[a]={});this.c[a][c]=!0;return a+"_"+c};L.prototype.A=function(){return gf(ya.DataCollectionFactory,Ei("DataCollectionFactory"))};
L.j().register("wnd.data.JSONDataCollection",Lh);function Fi(a,b){Nh.call(this,a,b);Mh[this.K()]&&!this.h&&(this.data=Mh[this.K()],delete Mh[this.K()])}n(Fi,Nh);Fi.prototype.G=function(a,b){var c=new nf,d={dataType:this.K()};this.h&&(d.settings=this.h);c.data=d;d.settings&&d.settings.langFe&&(c.data.langFe=d.settings.langFe);Rh(this,c,a,b)};Fi.prototype.o=function(a){return a.collection};Fi.prototype.l=function(a){return a.collection_order};L.j().register("wnd.data.DbDataCollection",Fi);function Gi(a,b){Kh.call(this,a,b);this.c=L.j().get("page_styles");this.c.observe("onEraseCache",this.ig,this);this.A=L.j().get("template_styles");this.A.observe("onEraseCache",this.ig,this)}n(Gi,Kh);Gi.prototype.jg=function(){this.data=this.c.getData();df(this.data,this.A.getData()||{})};Gi.prototype.Dd=function(){return!1};L.j().register("wnd.data.PageAndTemplateStylesCollection",Gi);function Hi(a,b){Nh.call(this,a,b)}n(Hi,Nh);Hi.prototype.G=function(a,b){var c=new uf,d={dataType:this.K()};this.h&&(d.settings=this.h);c.data=d;Rh(this,c,a,b)};Hi.prototype.o=function(a){return a.collection};Hi.prototype.l=function(a){return a.collection_order};L.j().register("wnd.data.PrecachedDataCollection",Hi);function Ii(a,b){Kh.call(this,a,b);this.c={};this.o=!0;this.A={}}n(Ii,Lh);f=Ii.prototype;f.il=function(){return new Bf};f.gq=function(a){if(!1===(null!=this.h.source))throw new Ia("Collection data source in settings not found");var b=bf(this.getData());Cf(a,b,this.c,this.h.source,this.K());this.c=b};f.Hy=function(a,b,c){delete this.A[c.getId()]};f.Dd=function(){return!Ye(this.A)};f.jg=function(){Ii.m.jg.call(this);Ye(this.c)&&this.o&&this.fi()};f.fi=function(){this.c=bf(this.getData())};
L.j().register("wnd.data.ServerJSONDataCollection",Ii);function Ji(a,b){Nh.call(this,a,b)}n(Ji,Nh);Ji.prototype.G=function(a,b){var c=new Gf,d={dataType:this.K()};this.h&&(d.settings=this.h);c.data=d;Rh(this,c,a,b)};Ji.prototype.o=function(a){return a.collection};Ji.prototype.l=function(a){return a.collection_order};L.j().register("wnd.data.StaticServerDataCollection",Ji);function Cg(){eg.call(this);this.ek=!0;this.bj="wnd.data.JSONDataObject"}n(Cg,eg);ea(Cg);Cg.prototype.A=function(){return gf(ya.DataObjectFactory,Ei("DataObjectFactory"))};Cg.j().register("wnd.data.JSONDataObject",Wh);function Ki(a){Xh.call(this,a)}n(Ki,Xh);function Li(a,b,c,d,e){var g=new of;pf(g,{dataType:a.dataType,action:"insert",settings:c,data:b});ai(a,g,d,e)}Ki.prototype.c=function(a,b,c,d,e){var g=new of;a={dataType:this.dataType,action:"update",id:a,data:b};c&&(a.settings=c);pf(g,a);ai(this,g,d,e)};function $h(a,b,c,d){var e=new of;pf(e,{dataType:a.dataType,action:"delete",id:b});ai(a,e,c,d)}Cg.j().register("wnd.data.DbDataObject",Ki);function Mi(a){Th.call(this,a)}n(Mi,Wh);Mi.prototype.Dd=function(){return Vh(this).Dd()};Cg.j().register("wnd.data.ServerJSONDataObject",Mi);function Ni(a){Xh.call(this,a)}n(Ni,Ki);Ni.prototype.c=function(a,b,c,d,e){a=new Ff;pf(a,{dataType:this.dataType,action:"update",settings:c,data:b});ai(this,a,d,e)};Cg.j().register("wnd.data.ServerProjectDbDataObject",Ni);function Oi(a){this.ml=a.fC;this.kk=a.EC;this.Tj=a.yC||this.kk;this.Ym=a.OC||this.kk;this.c=a.filter;this.h=a.orderBy}f=Oi.prototype;f.ml="";f.kk="";f.Tj="";f.Ym="";f.ik=function(a,b,c,d,e){e=e||!1;!1===e&&r.Autocomplete.minTokenLength>a.length?c(a,[]):(e&&(a=""),b=Pi(this,{filter:[{prefix:"",key:this.kk,operator:"LIKE",value:"%"+a+"%",suffix:""}],limit:{from:0,count:100}}),L.j().get(this.ml,b).Ea(m(this.CB,this,a,c),null))};
f.CB=function(a,b,c,d,e,g){c=[];for(e=0;e<g.order.length;e++){var h=d[g.order[e]];c.push(new Ba(h[this.Tj],h[this.Ym],h))}b(a,c)};function Qi(a,b,c){b=Pi(a,{filter:[{prefix:"",key:a.Tj,operator:"=",value:b,suffix:""}],limit:{from:0,count:1}});L.j().get(a.ml,b).Ea(function(a,b,g,h){null!=h.order[0]?(a=b[h.order[0]],c(new Ba(a[this.Tj],a[this.Ym],a))):c(null)},null,a)}
function Pi(a,b){if(null!=a.c){b.filter=b.filter||[];var c=bf(a.c);c[0].prefix=" AND (";c[c.length-1].suffix=")";b.filter=Ah(b.filter,c)}null!=a.h&&(b.orderBy=b.orderBy||{},b.orderBy=df(b.orderBy,a.h));return b};function Ri(){K.call(this);this.c=null;this.g=r.FeLanguages.DataType;this.o=t.page.langId;this.h=null;this.A=L.j().get(this.g);this.A.Ea(m(this.Ar,this))}n(Ri,K);ea(Ri);f=Ri.prototype;f.Ar=function(a,b){this.c||(this.c={},z(b,function(a){this.c[parseInt(a[this.g+".id"],10)]=new Uf(a)},this));this.h&&(Dg(bg.j(),this.h),this.h=null)};f.tu=function(a,b){"success"===a&&(this.h=new zg("dataCreate","children_propagation",this.g,null,b.identifier),Si(this))};
f.GA=function(a,b){"success"===b&&(this.h=new zg("dataDelete","children_propagation",this.g,null,a.toString()),Si(this))};f.Yw=function(a){"success"===a&&(this.h=new zg("dataUpdate","children_propagation",this.g),Si(this))};function Si(a){a.c=null;a.A.ig();a.A.Ea(m(a.Ar,a))}f.hd=function(){return Se(this.c)};function Ti(a,b){return a.c?a.c[b]:null}function Ui(a){return Ti(a,a.o)};function M(a,b,c){K.call(this);this.$s=a;this.lt=b;var d=b.lastIndexOf(".");this.ht=b.slice(0,d);c?this.c=c:this.c={id:a,create:{},properties:{}};"undefined"!=typeof this.c.create&&(a=this.c,b=this.ti(null),"undefined"!=typeof this.c.create.data&&(b=gf(b,this.c.create.data)),this.c.id&&(b.id=this.c.id),b=Vi(this).create(b,this.c.create),a.id=b);"undefined"===typeof this.c.properties&&(this.c.properties={});this.id=this.c.id;this.l=!1}n(M,K);f=M.prototype;f.dataType=Fa.mvc.DataType;f.xg=null;
f.vp=!1;f.K=function(){return this.dataType};f.Ab=function(a){this.dataType=a};function Vi(a){a.rh||(a.rh=Cg.j().get(a.dataType));return a.rh}f.getData=function(){var a=Wi(this).getData();return this.id?a[this.id]:a};f.hn=function(){return Wi(this).g};function N(a,b){var c=a.getData();return c?c[b]:{}}function Xi(a,b,c){var d=a.getData();if(d[b]!==c){var e=Vi(a);d[b]=c;e.update(a.id,d);a.notify("onUpdate","data_updated",null,!0)}}
function Yi(a,b,c){var d={changed:!1},e=a.getData();c?(c=b,d.changed||$e(e,b)||(gf(e,b,d),d.changed=!0)):c=gf(e,b,d);!0===d.changed&&(Vi(a).update(a.id,c),a.notify("onUpdate","data_updated",d.ri,!0))}f.update=function(a,b,c){Wi(this).ig();this.notify("onUpdate",a,c,b)};f.Ga=function(a){this.id=a;this.c.id=a;this.notify("onChangeId")};f.getId=function(){return this.id};f.ti=function(a){return Zi(I.j(),this.ba(),a)};f.ba=function(){return this.lt};f.C=function(){return this.$s};
f.X=function(){0==this.vp&&Vi(this)["delete"](this.getId());M.m.X.call(this)};function $i(a){return l(a.c.create)&&null!=a.id}function Wi(a){if(!a.xg||l(a.c.collectionSettingsFunc))l(a.c.collectionSettings)?a.xg=L.j().get(a.dataType,a.c.collectionSettings):l(a.c.collectionSettingsFunc)&&na(a.c.collectionSettingsFunc)?a.xg=L.j().get(a.dataType,a.c.collectionSettingsFunc()):a.xg=L.j().get(a.dataType);return a.xg}function O(a,b,c){a.c.properties[b]=c}
function P(a,b){return"undefined"!==typeof b?"undefined"!==typeof a.c.properties[b]?a.c.properties[b]:null:a.c.properties}f.ra=function(a,b){var c=this.l;a&&(this.l=!0);this.vi(b);a&&(this.l=c)};f.vi=function(a){a&&Yi(this,a)};f.Xf=function(){return l(this.c.collectionSettings)&&l(this.c.collectionSettings.limit)&&l(this.c.collectionSettings.limit.from)&&l(this.c.collectionSettings.limit.count)};f.Qm=function(){this.Xf()&&(this.xg=null,this.c.collectionSettings.limit.from+=this.c.collectionSettings.limit.count)};function aj(a,b,c){M.call(this,a,b,c)}n(aj,M);function bj(){var a=q.ImageSizeManager.DataType;return L.j().get(a)}function cj(){var a=q.ImageSizeManager.DataType;return Cg.j().get(a)};function dj(a,b,c){if(c.properties){var d="";oa(c.properties.defaultValue)||(d=c.properties.defaultValue);df(c,{create:{data:{value:d}}})}M.call(this,a,b,c);c.properties&&c.properties.disabled&&O(this,"state",ej)}n(dj,M);function fj(a,b,c){dj.call(this,a,b,c)}n(fj,dj);fj.prototype.R=null;fj.prototype.ke=function(){return this.R&&!this.R.empty?this.R.text:""};function gj(a,b,c,d,e){b=new Ba(c,b,e);c==d&&(a.R=b);return b}function hj(a,b){a.R=null;var c=P(a,"values"),d=[];oa(c)&&!ja(c)?z(c,function(a,c){var h=gj(this,a,c,b);d.push(h)},a):d=P(a,"valuesAsKeys")?sh(c,function(a){return gj(this,a,a,b)},a):sh(c,function(a,c){return oa(a)?gj(this,a.toString(),c,b,a):gj(this,a,c,b)},a);return d}
fj.prototype.Bf=function(){var a=P(this,"collection");L.j().get(a.datatype).Ea(m(this.$l,this),null)};fj.prototype.$l=function(a,b,c,d){this.fh(b,d);this.notify("onLoadAutocomplete")};function ij(a,b,c){dj.call(this,a,b,c)}n(ij,dj);function jj(a,b,c){l(c.properties.defaultValue)&&(c.properties.defaultValue=Number(c.properties.defaultValue));dj.call(this,a,b,c);a=parseInt(N(this,"value"),10);kj(this)?O(this,"checked",1!==a):O(this,"checked",1===a)}n(jj,dj);function kj(a){return null!=P(a,"inverse")&&!!P(a,"inverse")};function lj(a,b,c){null!=c.properties.defaultValue&&(c.properties.defaultValue=mj(c.properties.defaultValue));dj.call(this,a,b,c)}n(lj,dj);function mj(a){/[0-9]{14}/.test(a)?a=parseInt(a,10):a="";return a};function nj(a,b,c){dj.call(this,a,b,c)}n(nj,dj);function oj(a,b,c){dj.call(this,a,b,c)}n(oj,dj);function pj(a,b,c){dj.call(this,a,b,c)}n(pj,dj);function qj(a,b,c){dj.call(this,a,b,c)}n(qj,dj);function rj(a,b,c){dj.call(this,a,b,c)}n(rj,dj);function sj(a,b,c){dj.call(this,a,b,c)}n(sj,dj);function tj(a,b,c){M.call(this,a,b,c)}n(tj,M);tj.prototype.dataType="listing_menu";function uj(a,b,c){M.call(this,a,b,c)}n(uj,M);function vj(a){a=P(a,"type");return null!=a?a:wj};function xj(a,b,c){M.call(this,a,b,c)}n(xj,M);function yj(a,b,c){M.call(this,a,b,c)}n(yj,M);yj.prototype.getSelection=function(){return this.Xn};yj.prototype.getPosition=function(){var a=this.getSelection(),b={x:0,y:0};switch(P(this,"type")){case zj:b.x=a.x;b.y=a.y;break;case Aj:b.x=a.x+a.width;b.y=a.y;break;case Bj:b.x=a.x+a.width;b.y=a.y+a.height;break;case Cj:b.x=a.x,b.y=a.y+a.height}return b};function Dj(a,b,c){M.call(this,a,b,c)}n(Dj,M);Dj.prototype.dataType="tree_menu";function Ej(a,b,c){M.call(this,a,b,c)}n(Ej,M);Ej.prototype.dataType="tree_menu";function Fj(a,b,c){M.call(this,a,b,c)}n(Fj,M);Fj.prototype.Ea=function(a,b,c){var d=this;Wi(this).Ea(function(b,g,h,k){g=d.id?g[d.id]:g;a.call(c,b,g,h,k)},b)};function Gj(a,b,c,d){a.Ea(function(a,g,h){c.call(d,a,g?g[b]:null,h)},null)}function Hj(a,b,c,d){a.Ea(function(e,g){var h={changed:!1,ri:{}};g=gf(g,b,h);h.changed?Yh(Vi(a),a.id,h.ri,function(b,e,g){c&&c.call(d,b,e,g);a.notify("onUpdate","data_updated",null,!0)}):a.notify("onUpdateCancelled")})}
Fj.prototype.X=function(){var a=Vi(this);if(a instanceof Xh){var b=this.getId();$h(a,b,void 0,void 0)}else a["delete"](this.getId());this.vp=!0;Fj.m.X.call(this)};Fj.prototype.Dd=function(){var a=Wi(this),b=Vi(this);return a.Dd()||b.Dd()};function Q(a,b,c){return(c||a.dataType)+"."+b};function Ij(a,b,c){M.call(this,a,b,c)}n(Ij,Fj);function Jj(a,b){var c=P(a,"width");return null===c?null:"full"==c?parseInt(b.width-b.usedWidth,10)+"px":!0===ma(c)?c+"px":c}function Kj(a,b){var c=P(a,"height");return null===c?null:"full"==c?b.height===b.usedHeight?b.height:parseInt(b.height-b.usedHeight,10)+"px":!0===ma(c)?c+"px":c};function Lj(a,b,c){M.call(this,a,b,c);a=bf(r.ListMenu.defaultCss);O(this,"css",a)}n(Lj,Ij);Lj.prototype.dataType="listing_items";function Mj(a,b,c){M.call(this,a,b,c)}n(Mj,Ij);function Nj(a,b,c){M.call(this,a,b,c)}n(Nj,Mj);function Oj(a,b,c){M.call(this,a,b,c);null===P(this,"saveBeforeClose")&&O(this,"saveBeforeClose",!0)}n(Oj,Mj);function Pj(a,b,c){M.call(this,a,b,c);this.properties=bf(r.Popup.defaultProperties)}n(Pj,Mj);function Qj(a,b,c){M.call(this,a,b,c);this.properties=bf(r.Popup.defaultProperties)}n(Qj,Mj);function Rj(a,b,c){M.call(this,a,b,c)}n(Rj,Ij);function Sj(a,b,c){var d=bf(N(a,"selection"));0<=d.x&&d.x+d.width<=a.D.width&&(b-=d.se,0>b&&(b=0),b+d.width>a.D.width&&(b=a.D.width-d.width),d.x=b);0<=d.y&&d.y+d.height<=a.D.height&&(c-=d.te,0>c&&(c=0),c+d.height>a.D.height&&(c=a.D.height-d.height),d.y=c);Xi(a,"selection",d)}Rj.prototype.gb=function(){return P(this,"image")};function Tj(a,b,c){M.call(this,a,b,c);this.J={image:[Uj],file:[Vj],favicon:[Wj]}}n(Tj,Mj);function Xj(a,b){var c=null;z(a.J,function(a,e){-1<a.indexOf(b)&&(c=e)},a);return c};function Yj(a,b,c){M.call(this,a,b,c)}n(Yj,Mj);function Zj(a,b,c){Oj.call(this,a,b,c)}n(Zj,Oj);Zj.prototype.dataType="listing_items";function ak(a,b,c){M.call(this,a,b,c);this.properties={}}var bk;n(ak,Mj);ak.prototype.Oo=function(){return bk=!bk||bk<this.Ia()?this.Ia():bk+5};ak.prototype.To=function(){return bk=!bk||bk<this.Ia()?this.Ia():bk-5};ak.prototype.Ia=function(){return r.Popup.defaultZIndex};ak.prototype.ti=function(a){a=ak.m.ti.call(this,a);var b=bf(r.Popup.defaultProperties);df(a,b);return a};function ck(a,b,c){ak.call(this,a,b,c);this.left=this.top=0}n(ck,ak);ck.prototype.Ia=function(){return r.Bubble.defaultZIndex};function dk(a,b,c){ck.call(this,a,b,c);this.xh=!1;this.buttons=[];this.Ca=[]}n(dk,ck);f=dk.prototype;f.rd=null;f.ed=!1;f.Fh="";f.Oo=function(){return r.Toolbox.zIndex};f.To=function(){return r.Toolbox.zIndex};f.Nd=function(){return this.xh};function ek(a,b,c){M.call(this,a,b,c);a=bf(r.TreeMenu.defaultCss);df(a,P(this,"css"));O(this,"css",a);this.g={};this.P=[];this.xa=[];this.ue=null}n(ek,Ij);ek.prototype.Fn=function(){return{items:[],firstLevel:1}};function fk(a,b,c){M.call(this,a,b,c);this.ka=!1}n(fk,M);fk.prototype.Od=function(){return"left"==this.position||"right"==this.position};fk.prototype.zf=function(){return x.AddContentManager[this.ka?"innerFadeInTime":"fadeInTime"]};fk.prototype.Af=function(){return x.AddContentManager[this.ka?"innerFadeOutTime":"fadeOutTime"]};function gk(a,b,c){fk.call(this,a,b,c)}n(gk,fk);gk.prototype.zf=function(){return x.AddContentContainerManager[this.ka?"innerFadeInTime":"fadeInTime"]};gk.prototype.Af=function(){return x.AddContentContainerManager[this.ka?"innerFadeOutTime":"fadeOutTime"]};function hk(a,b,c){fk.call(this,a,b,c)}n(hk,fk);hk.prototype.zf=function(){return x.AddSectionManager[this.ka?"innerFadeInTime":"fadeInTime"]};hk.prototype.Af=function(){return x.AddSectionManager[this.ka?"innerFadeOutTime":"fadeOutTime"]};function ik(){K.call(this);this.init()}n(ik,K);ik.prototype.c={};ik.prototype.getName=function(a){return l(this.c[a])?this.c[a]:a};function jk(){ik.call(this)}n(jk,ik);jk.prototype.init=function(){this.c={"wnd.pc.TextBlock":"Basic","wnd.pc.ImageBlock":"Image","wnd.pc.PhotoGalleryBlock":"Photo gallery","wnd.pc.VideoBlock":"Video","wnd.pc.HrLineBlock":"Line","wnd.pc.MapBlock":"Map","wnd.pc.ButtonBlock":"Button","wnd.pc.HtmlBlock":"HTML","wnd.pc.FileBlock":"File","wnd.pc.BlogRecentPosts":"Recent Blog\u00a0Posts","dfc.form.contact":"Contact form","dfc.form.blank":"Blank form"}};function kk(){ik.call(this)}n(kk,ik);kk.prototype.init=function(){this.c={"wnd.pc.ShortTextField":"Short text","wnd.pc.LongTextField":"Long text","wnd.pc.RadioGroupField":"Single choice","wnd.pc.CheckboxGroupField":"Multiple choice","wnd.pc.SelectboxField":"Dropdown list","wnd.pc.EmailField":"Email","wnd.pc.FileUploadField":"File upload","wnd.pc.DateField":"Date","wnd.pc.PhoneField":"Phone","wnd.pc.NumberField":"Number","wnd.pc.PasswordField":"Password\n"}};function lk(){ik.call(this)}n(lk,ik);
lk.prototype.init=function(){this.c={header:"Header",master:"Master",footer:"Footer",blog:"Blog",blog_detail_header:"Blog detail header","default":"Blank",cta:"Heading with button",services:"Services",testimonials:"Testimonials",clients:"Logos",pricelist:"Pricelist",two_cols:"Two text columns",text_image:"Text and image",heading:"Heading",two_cols_image:"Two columns",three_cols_image:"Three columns",photogallery:"Photo gallery",contact:"Contact",products:"Products",newsletter:"Newsletter registration",
order:"Order form",reservation:"Reservation",blog_recent_posts:"Recent Blog\u00a0Posts",media:"Media"}};function mk(a,b,c){M.call(this,a,b,c)}n(mk,M);mk.prototype.active=!1;function nk(a,b,c){Oj.call(this,a,b,c)}n(nk,Oj);nk.prototype.dataType="listing_items";function ok(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(ok,Oj);ok.prototype.dataType=x.EditDefaultPageForm.DataType;function pk(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(pk,Oj);pk.prototype.dataType=x.EditEmailNotificationFormModel.DataType;function qk(a,b,c){Oj.call(this,a,b,c)}n(qk,Oj);qk.prototype.dataType=x.EditFieldSettingsForm.DataType;function rk(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(rk,Oj);rk.prototype.dataType=x.EditFormActionForm.DataType;function sk(a,b,c){Oj.call(this,a,b,c)}n(sk,Oj);sk.prototype.dataType=x.EditImageFormModel.DataType;function tk(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(tk,Oj);tk.prototype.dataType=x.EditLinkFormModel.DataType;function uk(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(uk,Oj);uk.prototype.dataType=x.EditMapFormModel.DataType;uk.prototype.yf=function(){var a="";return a=this.K()===x.EditMapFormModel.DataType?N(this,"address"):"12 Pike St, New York"};function vk(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(vk,Oj);vk.prototype.dataType=x.EditSelectboxFieldOptionsFormModel.DataType;vk.prototype.vi=function(a){a&&Yi(this,a,!0)};function wk(a,b,c){Oj.call(this,a,b,c)}n(wk,Oj);wk.prototype.dataType="content_items";function xk(a,b,c){Oj.call(this,a,b,c)}n(xk,Oj);xk.prototype.dataType="content_items";function yk(a,b,c){M.call(this,a,b,c)}n(yk,M);function zk(a,b,c){M.call(this,a,b,c)}n(zk,M);zk.prototype.active=!1;zk.prototype.selected=!1;function Ak(a,b,c){M.call(this,a,b,c)}n(Ak,zk);function Bk(a,b,c){M.call(this,a,b,c)}n(Bk,Ak);function Ck(a,b,c){Pj.call(this,a,b,c)}n(Ck,Pj);function Dk(a,b,c){Qj.call(this,a,b,c)}n(Dk,Qj);function Ek(a,b,c){c.id=c.properties.imageId;M.call(this,a,b,c)}n(Ek,Mj);function Fk(a,b,c){ak.call(this,a,b,c)}n(Fk,ak);function Gk(a,b,c){ak.call(this,a,b,c)}n(Gk,ak);function Hk(a,b,c){ck.call(this,a,b,c);a=t.page.langId;this.xc=null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[a]&&!t.listings.blog[a].removed}n(Hk,ck);function Ik(a,b,c){Hk.call(this,a,b,c)}n(Ik,Hk);function Jk(a,b,c){ak.call(this,a,b,c)}n(Jk,ak);function Kk(a,b,c){ak.call(this,a,b,c)}n(Kk,ak);function Lk(a){K.call(this);this.uri=a;this.c=null;this.h=!1;this.init()}n(Lk,K);Lk.prototype.init=function(){this.notify("onDataReady")};Lk.prototype.getData=function(){var a=this.rr();return{url:this.sr(),source:this.Oh(),thumbnail:this.Ql(),thumbnail_large:this.Mo(),video_id:this.Vf(),thumbnail_id:this.Vo(),width:a.width,height:a.height}};function Mk(a){return x.VideoUrlParser[a.Oh()].thumbnail};function Nk(a){Lk.call(this,a)}n(Nk,Lk);f=Nk.prototype;f.init=function(){if(!this.c){this.h=!0;var a=Mk(this)+this.Vf()+".json";Ok(a,m(this.Uz,this))}};f.Oh=function(){return Pk};f.Uz=function(a){this.h=!1;var b=a.target;"complete"===a.type&&Qk(b)&&(this.c=Rk(b)[0],this.notify("onDataReady"))};f.sr=function(){return x.VideoUrlParser[this.Oh()].url+this.Vf()};function Sk(a,b){var c="";null!=a.c&&(c=a.c[b]);return c}f.Ql=function(){return Sk(this,"thumbnail_medium")};
f.Mo=function(){return Sk(this,"thumbnail_large")};f.Vf=function(){return nh(this.uri.c.split("/")).trim()};f.Vo=function(){return Tk(this.Ql()).c.replace(/\/video\/(\d*)\_.*/,"$1")};f.rr=function(){var a=1,b=1;this.c&&(a=this.c.width,b=this.c.height);return new De(a,b)};function Uk(a){Lk.call(this,a)}n(Uk,Lk);f=Uk.prototype;f.Oh=function(){return Vk};f.sr=function(){var a="";null!=this.uri.h.get("list")&&(a="?list="+this.uri.h.get("list"));return x.VideoUrlParser[this.Oh()].url+this.Vf()+a};function Wk(a,b){var c=Mk(a),c=c+a.Vf()+"/";return c+b+".jpg"}f.Ql=function(){return Wk(this,"mqdefault")};f.Mo=function(){return Wk(this,"hqdefault")};f.Vf=function(){var a="";return a=this.uri.h.get("v")?this.uri.h.get("v"):this.uri.c.replace("/embed","").substr(1)};f.Vo=function(){return this.Vf()};
f.rr=function(){return new De(640,360)};function Xk(){K.call(this)}n(Xk,K);function Yk(a){Th.call(this,a)}n(Yk,Mi);Yk.prototype.Zi=function(a,b){var c=Yk.m.Zi.call(this,a,b);if("undefined"!=typeof b.parentId){var d=b.parentId,d=Vh(this).getData(d);if(b&&(b.before||b.after)){var e=d.content.indexOf(b.before?b.before:b.after);b.after&&e++;d.content.splice(e,0,a.id)}else"undefined"==typeof d.content&&(d.content=[]),d.content.push(a.id)}return c};
Yk.prototype.cj=function(a){var b=Vh(this).getData(a);if(b&&l(b.content)){var c=[];l(b.contentMap)?(z(b.content,function(a){c=Ah(c,a)}),Fh(c)):c=b.content;u(c,m(function(a){this["delete"](a)},this))}Yk.m.cj.call(this,a);(b=Zk(this,a))&&b.content&&(a=b.content.indexOf(a),b.content.splice(a,1))};function Zk(a,b){var c=Vh(a).getData(),d={},e=null,g;for(g in c)if(ia(c[g].content)&&(d=c[g].content,-1!=d.indexOf(b))){e=c[g];break}return e}Yk.prototype.kg=function(){Yk.m.kg.call(this)};
function $k(a,b,c){b=Zi(I.j(),b,c);"object"==typeof b.refs?a.refs=b.refs:"object"==typeof a.refs&&delete a.refs}Yk.prototype.wk=function(a,b,c){var d=c?c.parentId:null,e=c?c.before:null,g=c?c.after:null;d||e||g?(d?((b=Zk(this,a))&&b.content&&dg(b.content,a),d=Vh(this).getData(d)):d=Zk(this,a),e||g?(dg(d.content,a),e=d.content.indexOf(e?e:g),g&&e++,Dh(d.content,e,0,a)):("undefined"==typeof d.content&&(d.content=[]),d.content.push(a))):Yk.m.wk.call(this,a,b,c)};
Cg.j().register("wnd.pc.ContentItemDataObject",Yk);function al(a,b,c){M.call(this,a,b,c);this.na();this.xf={zIndex:null,isFixed:null}}n(al,Fj);f=al.prototype;f.dataType=x.ContentItemModel.DataType;f.na=function(){this.options={Oc:!1,ec:!1,mh:!1,Fd:!1,editable:!1,Dc:!1,Gd:!1,Vk:!1,Fg:!1,lj:!1}};f.move=function(a,b,c){var d=Vi(this);a={parentId:a};b&&c&&("right"==c||"bottom"==c?a.after=b:a.before=b);d.update(this.getId(),null,a)};f.getContext=function(){return this.getData().context};f.Tc=function(){return N(this,"variant")?N(this,"variant"):"default"};
f.We=function(){return this.ba()};f.getComputedStyle=function(a){return null!=this.xf[a]?this.xf[a]:null};f.Nd=function(){return this.getComputedStyle("isFixed")};function bl(a,b,c){M.call(this,a,b,c)}n(bl,M);bl.prototype.dataType="gui_pages";bl.prototype.$a=function(){};function cl(a,b,c){M.call(this,a,b,c)}n(cl,Mj);cl.prototype.dataType="tpl_page_templates";function dl(a,b,c){Oj.call(this,a,b,c)}n(dl,Oj);dl.prototype.dataType="gui_pages";function el(a,b,c){Oj.call(this,a,b,c);this.bd={Qn:"pageDetailBaseForm",Ki:"pageDetailAdvancedForm"}}n(el,Oj);el.prototype.dataType="gui_pages";function fl(a,b,c){M.call(this,a,b,c)}n(fl,Dj);fl.prototype.dataType="gui_pages_tree";function gl(a,b,c){M.call(this,a,b,c)}n(gl,Ej);gl.prototype.dataType="gui_pages_tree";function hl(a){return!!N(a,"sys_page")};function il(a,b,c){ek.call(this,a,b,c)}n(il,ek);il.prototype.dataType="gui_pages";
il.prototype.Fn=function(a,b){for(var c=[],d=[],e=0,g=b.length;e<g;e++){var h=parseInt(a[b[e]][Q(this,"parent_id")],10),k={id:parseInt(a[b[e]][Q(this,"id")],10),item_order:parseInt(a[b[e]][Q(this,"item_order")],10),parent_id:h,x:parseInt(a[b[e]][Q(this,"x")],10),identifier:"/"+a[b[e]][Q(this,"identifier")]+"/",name:a[b[e]][Q(this,"name")],publish_since:a[b[e]][Q(this,"publish_since")],publish_until:a[b[e]][Q(this,"publish_until")],page_template_id:parseInt(a[b[e]][Q(this,"page_template_id")],10),
lang_id:parseInt(a[b[e]][Q(this,"lang_id")],10),private_access:parseInt(a[b[e]][Q(this,"private_access")],10),show_in_map:parseInt(a[b[e]][Q(this,"show_in_map")],10),show_in_menu:parseInt(a[b[e]][Q(this,"show_in_menu")],10),sys_page:parseInt(a[b[e]][Q(this,"sys_page")],10)};k.sys_page&&!F(b,h)?d.push(k):c.push(k)}c=Bh(c,d);return{items:c,firstLevel:c[0].x+1,rootId:c[0].id}};function jl(a,b,c){Oj.call(this,a,b,c)}n(jl,Oj);jl.prototype.dataType="server_projects";function kl(a,b,c){Oj.call(this,a,b,c)}n(kl,Oj);kl.prototype.dataType="server_projects";function ll(a,b,c){Oj.call(this,a,b,c)}n(ll,Oj);ll.prototype.dataType=r.FeLanguages.DataType;function ml(a,b,c){dj.call(this,a,b,c)}n(ml,fj);ml.prototype.fh=function(a,b){var c={};u(b.order,function(b){b=a[b];c[b.identifier]=b.name},this);O(this,"values",c)};function nl(a,b,c){Oj.call(this,a,b,c)}n(nl,Oj);nl.prototype.dataType=r.FeLanguages.DataType;function ol(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b};function pl(a,b){switch(b){case 1:return 0!=a%4||0==a%100&&0!=a%400?28:29;case 5:case 8:case 10:case 3:return 30}return 31}function ql(a,b,c,d,e,g){ka(a)?(this.l=a==rl?b:0,this.A=a==sl?b:0,this.c=a==tl?b:0,this.h=a==ul?b:0,this.g=a==vl?b:0,this.o=a==wl?b:0):(this.l=a||0,this.A=b||0,this.c=c||0,this.h=d||0,this.g=e||0,this.o=g||0)}ql.prototype.equals=function(a){return a.l==this.l&&a.A==this.A&&a.c==this.c&&a.h==this.h&&a.g==this.g&&a.o==this.o};
ql.prototype.clone=function(){return new ql(this.l,this.A,this.c,this.h,this.g,this.o)};var rl="y",sl="m",tl="d",ul="h",vl="n",wl="s";ql.prototype.add=function(a){this.l+=a.l;this.A+=a.A;this.c+=a.c;this.h+=a.h;this.g+=a.g;this.o+=a.o};
function xl(a,b,c){ma(a)?(this.c=yl(a,b||0,c||1),zl(this,c||1)):oa(a)?(this.c=yl(a.getFullYear(),a.getMonth(),a.getDate()),zl(this,a.getDate())):(this.c=new Date(wa()),a=this.c.getDate(),this.c.setHours(0),this.c.setMinutes(0),this.c.setSeconds(0),this.c.setMilliseconds(0),zl(this,a))}function yl(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}f=xl.prototype;f.He=ge.wb;f.Ih=ge.xb;f.clone=function(){var a=new xl(this.c);a.He=this.He;a.Ih=this.Ih;return a};
f.getFullYear=function(){return this.c.getFullYear()};f.getMonth=function(){return this.c.getMonth()};f.getDate=function(){return this.c.getDate()};f.getTime=function(){return this.c.getTime()};f.getDay=function(){return this.c.getDay()};f.getUTCFullYear=function(){return this.c.getUTCFullYear()};f.getUTCMonth=function(){return this.c.getUTCMonth()};f.getUTCDate=function(){return this.c.getUTCDate()};f.getUTCHours=function(){return this.c.getUTCHours()};f.getUTCMinutes=function(){return this.c.getUTCMinutes()};
f.getTimezoneOffset=function(){return this.c.getTimezoneOffset()};function Al(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+hh(c,2)+":"+hh(b,2)}return a}
f.add=function(a){if(a.l||a.A){var b=this.getMonth()+a.A+12*a.l,c=this.getFullYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d=Math.min(pl(c,b),this.getDate());this.c.setDate(1);this.c.setFullYear(c);this.c.setMonth(b);this.c.setDate(d)}a.c&&(a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.c),this.c.setDate(1),this.c.setFullYear(a.getFullYear()),this.c.setMonth(a.getMonth()),this.c.setDate(a.getDate()),zl(this,a.getDate()))};
f.Ij=function(a,b){return[this.getFullYear(),hh(this.getMonth()+1,2),hh(this.getDate(),2)].join(a?"-":"")+(b?Al(this):"")};f.equals=function(a){return!(!a||this.getFullYear()!=a.getFullYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};f.toString=function(){return this.Ij()};function zl(a,b){a.getDate()!=b&&a.c.setUTCHours(a.c.getUTCHours()+(a.getDate()<b?1:-1))}f.valueOf=function(){return this.c.valueOf()};
function Bl(a,b,c,d,e,g,h){this.c=ma(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a&&a.getTime?a.getTime():wa())}n(Bl,xl);f=Bl.prototype;f.getHours=function(){return this.c.getHours()};f.getMinutes=function(){return this.c.getMinutes()};f.getSeconds=function(){return this.c.getSeconds()};f.getUTCHours=function(){return this.c.getUTCHours()};f.getUTCMinutes=function(){return this.c.getUTCMinutes()};
f.add=function(a){xl.prototype.add.call(this,a);a.h&&this.c.setUTCHours(this.c.getUTCHours()+a.h);a.g&&this.c.setUTCMinutes(this.c.getUTCMinutes()+a.g);a.o&&this.c.setUTCSeconds(this.c.getUTCSeconds()+a.o)};f.Ij=function(a,b){var c=xl.prototype.Ij.call(this,a);return a?c+" "+hh(this.getHours(),2)+":"+hh(this.getMinutes(),2)+":"+hh(this.getSeconds(),2)+(b?Al(this):""):c+"T"+hh(this.getHours(),2)+hh(this.getMinutes(),2)+hh(this.getSeconds(),2)+(b?Al(this):"")};
f.equals=function(a){return this.getTime()==a.getTime()};f.toString=function(){return this.Ij()};f.clone=function(){var a=new Bl(this.c);a.He=this.He;a.Ih=this.Ih;return a};function Cl(a){if(a.classList)return a.classList;a=a.className;return ka(a)&&a.match(/\S+/g)||[]}function Dl(a,b){return a.classList?a.classList.contains(b):F(Cl(a),b)}function El(a,b){a.classList?a.classList.add(b):Dl(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Fl(a,b){if(a.classList)u(b,function(b){El(a,b)});else{var c={};u(Cl(a),function(a){c[a]=!0});u(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Gl(a,b){a.classList?a.classList.remove(b):Dl(a,b)&&(a.className=rh(Cl(a),function(a){return a!=b}).join(" "))}function Hl(a,b){a.classList?u(b,function(b){Gl(a,b)}):a.className=rh(Cl(a),function(a){return!F(b,a)}).join(" ")}function R(a,b,c){c?El(a,b):Gl(a,b)};function Il(a){this.src=a;this.c={};this.h=0}Il.prototype.add=function(a,b,c,d,e){var g=a.toString();a=this.c[g];a||(a=this.c[g]=[],this.h++);var h=Jl(a,b,d,e);-1<h?(b=a[h],c||(b.Pi=!1)):(b=new be(b,this.src,g,!!d,e),b.Pi=c,a.push(b));return b};Il.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.c))return!1;var e=this.c[a];b=Jl(e,b,c,d);return-1<b?(ce(e[b]),zh(e,b),0==e.length&&(delete this.c[a],this.h--),!0):!1};
function Kl(a,b){var c=b.type;c in a.c&&dg(a.c[c],b)&&(ce(b),0==a.c[c].length&&(delete a.c[c],a.h--))}Il.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.c)if(!a||c==a){for(var d=this.c[c],e=0;e<d.length;e++)++b,ce(d[e]);delete this.c[c];this.h--}return b};function Ll(a,b,c,d,e){a=a.c[b.toString()];b=-1;a&&(b=Jl(a,c,d,e));return-1<b?a[b]:null}function Jl(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.jh&&g.listener==b&&g.Ti==!!c&&g.Lj==d)return e}return-1};function Ml(a){return ah(Sg(a.replace(Nl,function(a,c){return Ol.test(c)?"":" "}).replace(/[\t\n ]+/g," ")))}var Ol=/^(?:abbr|acronym|address|b|em|i|small|strong|su[bp]|u)$/i,Nl=/<[!\/]?([a-z0-9]+)([\/ ][^>]*)?>/gi;function Pl(a,b,c){if(!0===(null!=c.properties.defaultValue)){var d=c.properties,e=c.properties.defaultValue;!0===/^\/.*\/$/.test(e)?e=e.slice(1,-1):ka(e)&&0===e.indexOf("http://")&&(e=e.slice(7));d.defaultValue=e}dj.call(this,a,b,c);this.J=this.Xa=0;this.S=!1}n(Pl,fj);
Pl.prototype.fh=function(a,b,c){var d=c+".",e=null!=P(this,"values")?P(this,"values"):{},g={};u(b.order,function(b){b=a[b];var k=b[d+"link"],p=Ml(b[d+"name"]);"listing_items"===c&&(k=t.listingsPrefix+b[d+"identifier"]+"/");t.page.langId==b[d+"lang_id"]?e[k]=p:g[k]=p},this);df(e,g);O(this,"values",e)};Pl.prototype.Bf=function(){L.j().get("server_projects").Ea(m(this.Ae,this),null,this)};Pl.prototype.Ae=function(a,b){this.S="MEMBER_LOGIN"===b["server_projects.private_access_type"];Ql(this)};
function Ql(a){a.J=0;var b=[{datatype:"gui_pages",filter:Rl(a),orderBy:r.LinkFormItem.dataSettings.orderBy},{datatype:"listing_items"}];a.Xa=b.length;O(a,"values",null);u(b,function(a){L.j().get(a.datatype,{filter:a.filter,orderBy:a.orderBy}).Ea(m(this.qd,this,a.datatype),null)},a)}
function Rl(a){var b=[{prefix:"",key:"gui_pages.sys_page",operator:"=",value:0,suffix:""}],c=Sl(a);D(c)||b.push({prefix:"OR",key:"gui_pages.id",operator:"IN",value:c,suffix:""});a=P(a,"dataSettings");null!=a&&null!=a.filter&&(b=a.filter);return b}function Sl(a){var b=[];a.S&&z(Ri.j().c,function(a){Zf(a)&&(b=Ah(b,Zf(a)))},a);return b}Pl.prototype.qd=function(a,b,c,d,e){this.J++;this.fh(c,e,a);this.Xa==this.J&&this.notify("onLoadAutocomplete")};function Tl(){}function Ul(a){if("number"==typeof a){var b=new Tl;b.h=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",hh(c,2));c=d.join("")}b.A=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=Vl(a);b.o=[c,c];b.c={YB:a,En:a};b.g=[];return b}b=new Tl;b.A=a.id;b.h=-a.std_offset;b.o=a.names;b.c=a.names_ext;b.g=a.transitions;return b}
function Vl(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(hh(Math.floor(a/60)%100,2),":",hh(a%60,2));return b.join("")}function Wl(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.g.length&&c>=a.g[d];)d+=2;return 0==d?0:a.g[d-1]};function Xl(a,b){this.h=[];this.c=b||ge;"number"==typeof a?Yl(this,a):Zl(this,a)}var $l=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/];function am(a){return a.getHours?a.getHours():0}
function Zl(a,b){for(bm&&(b=b.replace(/\u200f/g,""));b;)for(var c=0;c<$l.length;++c){var d=b.match($l[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.h.push({text:d,type:c});break}}}
Xl.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-(b.h-Wl(b,a))):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));for(var c=[],g=0;g<this.h.length;++g){var h=this.h[g].text;1==this.h[g].type?c.push(cm(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function Yl(a,b){var c;if(4>b)c=a.c.vb[b];else if(8>b)c=a.c.Db[b-4];else if(12>b)c=a.c.Lb[b-8],c=c.replace("{1}",a.c.vb[b-8]),c=c.replace("{0}",a.c.Db[b-8]);else{Yl(a,10);return}Zl(a,c)}function dm(a,b){var c;c=String(b);var d=a.c||ge;if(void 0!==d.Tr){for(var e=[],g=0;g<c.length;g++){var h=c.charCodeAt(g);e.push(48<=h&&57>=h?String.fromCharCode(d.Tr+h-48):c.charAt(g))}c=e.join("")}return c}var bm=!1;
function em(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function cm(a,b,c,d,e,g){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.c.Mb[c]:a.c.Nb[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),dm(a,hh(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.c.Pb[c];break a;case 4:h=a.c.Ob[c];break a;case 3:h=a.c.Rb[c];break a;default:h=dm(a,hh(c+1,h))}return h;case "k":return em(e),dm(a,hh(am(e)||24,h));case "S":return dm(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?hh(0,h-3):""));case "E":return c=
d.getDay(),4<=h?a.c.Xb[c]:a.c.Tb[c];case "a":return em(e),h=am(e),a.c.Kb[12<=h&&24>h?1:0];case "h":return em(e),dm(a,hh(am(e)%12||12,h));case "K":return em(e),dm(a,hh(am(e)%12,h));case "H":return em(e),dm(a,hh(am(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.c.Cb[c];break a;case 4:h=a.c.Wb[c];break a;case 3:h=a.c.yb[c];break a;default:h=dm(a,hh(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.c.Ub[c];break a;case 4:h=a.c.ob[c];break a;case 3:h=a.c.Vb[c];break a;default:h=dm(a,hh(c+
1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.c.Sb[c]:a.c.Qb[c];case "d":return dm(a,hh(d.getDate(),h));case "m":return em(e),dm(a,hh(e.getMinutes(),h));case "s":return em(e),dm(a,hh(e.getSeconds(),h));case "v":return h=g||Ul(c.getTimezoneOffset()),h.A;case "V":return a=g||Ul(c.getTimezoneOffset()),2>=h?a.A:0<Wl(a,c)?l(a.c.Or)?a.c.Or:a.c.DST_GENERIC_LOCATION:l(a.c.En)?a.c.En:a.c.STD_GENERIC_LOCATION;case "w":return c=a.c.xb,e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),
b=a.c.wb||0,c=e.valueOf()+864E5*(((l(c)?c:3)-b+7)%7-((e.getDay()+6)%7-b+7)%7),dm(a,hh(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=g||Ul(c.getTimezoneOffset()),4>h?a.o[0<Wl(a,c)?2:0]:a.o[0<Wl(a,c)?3:1];case "Z":return e=g||Ul(c.getTimezoneOffset()),4>h?(h=-(e.h-Wl(e,c)),a=[0>h?"-":"+"],h=Math.abs(h),a.push(hh(Math.floor(h/60)%100,2),hh(h%60,2)),h=a.join("")):h=dm(a,Vl(e.h-Wl(e,c))),h;default:return""}};var fm;a:{var gm=ca.navigator;if(gm){var hm=gm.userAgent;if(hm){fm=hm;break a}}fm=""}function im(a){return-1!=fm.indexOf(a)};function jm(){return im("Opera")||im("OPR")}function km(){return(im("Chrome")||im("CriOS"))&&!jm()&&!im("Edge")};function lm(){return im("iPhone")&&!im("iPod")&&!im("iPad")};function mm(a,b,c){M.call(this,a,b,c)}n(mm,M);mm.prototype.Hc=function(){return"bottom"==this.position||"top"==this.position};mm.prototype.Od=function(){return"left"==this.position||"right"==this.position};
mm.prototype.Ve=function(a,b,c){var d,e,g,h,k,p=a.id+"_"+b.id+(c?"_"+c.id:""),w=P(this,"stripeCoords");w[p]?(b=w[p].srcElCoord,d=w[p].srcElMargin,h=w[p].width,k=w[p].height):(b=S.Le(a,b),d=S.Ng(a),e=S.oa(a),h=e.width,k=e.height,c&&(g=S.oa(c),this.Hc()?h=g.width:k=g.height),w[p]={srcElCoord:b,srcElMargin:d,srcElSize:e,sizeElSize:g,width:h,height:k});Ng(I.j(),a.id)&&nm(I.j().get(a.id))&&(h+=d.left+d.right,k+=d.top+d.bottom,b=new T(b.x-d.left,b.y-d.top));switch(this.position){case "top":this.A=new T(b.x,
b.y);this.M=new T(b.x+h,b.y);break;case "right":this.A=new T(b.x+h,b.y);this.M=new T(b.x+h,b.y+k);break;case "bottom":this.A=new T(b.x,b.y+k);this.M=new T(b.x+h,b.y+k);break;case "left":this.A=new T(b.x,b.y),this.M=new T(b.x,b.y+k)}};
function om(a){var b=r.DropStripe.DefaultHorizOffset,c=r.DropStripe.DefaultVertOffset;a.Hc()&&(c=r.DropStripe.HorizStripeVertOffset);a.Od()&&(b=r.DropStripe.VertStripeHorizOffset);a.h&&delete a.h;a.h=new pm(a.A.x-b>>0||0,a.A.y-c>>0||0,a.M.x-a.A.x+2*b>>0||0,a.M.y-a.A.y+2*c>>0||0)}function qm(a){a.zIndex=a.Hc()?r.DropStripe.ZIndex:r.DropStripe.ZIndex+1}
function rm(a,b,c){var d=b.id+"_"+c.id,e=P(a,"dragAreaBoxRect");if(e[d])a.U=e[d];else{c=S.Le(b,c);b=S.oa(b);var g=r.DropStripe.DragAreaOffset;a.U=new pm(c.x-g,c.y-g,b.width+2*g,b.height+2*g);e[d]=a.U}};function sm(a,b,c){M.call(this,a,b,c)}n(sm,mm);function tm(a){var b=um(a);if(!b.length)throw Error(a+" is not a valid RGB color");return b}var vm=/#(.)(.)(.)/;function wm(a){if(!xm.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(vm,"#$1$1$2$2$3$3"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function ym(a,b,c){a=Number(a);b=Number(b);c=Number(c);if(a!=(a&255)||b!=(b&255)||c!=(c&255))throw Error('"('+a+","+b+","+c+'") is not a valid RGB color');a=zm(a.toString(16));b=zm(b.toString(16));c=zm(c.toString(16));return"#"+a+b+c}function Am(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var xm=/^#(?:[0-9a-f]{3}){1,2}$/i,Bm=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function um(a){var b=a.match(Bm);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]}function zm(a){return 1==a.length?"0"+a:a}function Cm(a){return"#"==a.charAt(0)?a:"#"+a};function Dm(a){var b={};a=String(a);var c=Cm(a);if(Em.test(c))return b.Nj=Fm(c),b.type="hex",b;var d;a:{var e=a.match(Gm);if(e){var c=Number(e[1]),g=Number(e[2]);d=Number(e[3]);e=Number(e[4]);if(0<=c&&255>=c&&0<=g&&255>=g&&0<=d&&255>=d&&0<=e&&1>=e){d=[c,g,d,e];break a}}d=[]}if(d.length){a=d[0];c=d[1];g=d[2];d=d[3];e=Math.floor(255*d);if(isNaN(e)||0>e||255<e)throw Error('"('+a+","+c+","+g+","+d+'") is not a valid RGBA color');d=zm(e.toString(16));a=ym(a,c,g)+d;b.Nj=a;b.type="rgba";return b}a:{if(e=
a.match(Hm))if(c=Number(e[1]),g=Number(e[2]),d=Number(e[3]),e=Number(e[4]),0<=c&&360>=c&&0<=g&&100>=g&&0<=d&&100>=d&&0<=e&&1>=e){e=[c,g,d,e];break a}e=[]}if(e.length){c=e[0];g=e[1];d=e[2];a=e[3];e=Math.floor(255*a);if(isNaN(e)||0>e||255<e)throw Error('"('+c+","+g+","+d+","+a+'") is not a valid HSLA color');a=zm(e.toString(16));g=g/100;d=d/100;var h=e=0,k=0,c=c/360;if(0==g)e=h=k=255*d;else var p=k=0,p=.5>d?d*(1+g):d+g-g*d,k=2*d-p,e=255*Am(k,p,c+1/3),h=255*Am(k,p,c),k=255*Am(k,p,c-1/3);c=[Math.round(e),
Math.round(h),Math.round(k)];c=ym(c[0],c[1],c[2]);b.Nj=c+a;b.type="hsla";return b}throw Error(a+" is not a valid color string");}function Im(a,b,c){if(Em.test(a))return Fm(Cm(a)).substring(b,c);throw Error(a+" is not a valid 8-hex color string");}var Jm=/#(.)(.)(.)(.)/;function Fm(a){if(!Em.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(Jm,"#$1$1$2$2$3$3$4$4"));return a.toLowerCase()}
function Km(a,b,c,d){if(isNaN(a)||0>a||255<a||isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(d)||0>d||1<d)throw Error('"('+a+","+b+","+c+","+d+')" is not a valid RGBA color');a=[a,b,c,d];b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"}var Em=/^#(?:[0-9a-f]{4}){1,2}$/i,Gm=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,Hm=/^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i;var Lm="StopIteration"in ca?ca.StopIteration:{message:"StopIteration",stack:""};function Mm(){}Mm.prototype.next=function(){throw Lm;};Mm.prototype.Lk=function(){return this};function Nm(a){if(a instanceof Mm)return a;if("function"==typeof a.Lk)return a.Lk(!1);if(ja(a)){var b=0,c=new Mm;c.next=function(){for(;;){if(b>=a.length)throw Lm;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Om(a,b,c){if(ja(a))try{u(a,b,c)}catch(d){if(d!==Lm)throw d;}else{a=Nm(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==Lm)throw d;}}};function Pm(a,b){this.h=a;this.c=b}var Qm=new xl(0,0,1),Rm=new xl(9999,11,31);Pm.prototype.contains=function(a){return a.valueOf()>=this.h.valueOf()&&a.valueOf()<=this.c.valueOf()};function T(a,b){this.x=l(a)?a:0;this.y=l(b)?b:0}f=T.prototype;f.clone=function(){return new T(this.x,this.y)};function Sm(a,b){return new T(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof T?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ma(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=ma(b)?b:a;this.x*=a;this.y*=c;return this};function Tm(){this.h=null;this.o=this.A=0;this.g=this.c=this.l=null}f=Tm.prototype;f.add=function(a,b,c){this.h=Um(a);this.o=this.A=0;this.l=null;this.c=b;this.g=c;Vm(this.h,"touchstart",m(this.oy,this));Vm(this.h,"touchmove",m(this.ny,this));Vm(this.h,"touchend",m(this.my,this))};
f.oy=function(a){var b=a.c.targetTouches[0];if(null!==b){var c=b.pageX,b=b.pageY;null===this.c.l?this.c.l=new T(c,b):(this.c.l.x=c,this.c.l.y=b)}this.c.he(a);a=this.g;a.h=[];for(var c=a.c.length,b=[],d=null;c--;)d=a.c[c],"object"===typeof d&&"none"!=d.style.display&&(d={au:c,size:S.oa(d),offset:S.Le(d,document.documentElement)},b.push(d));a.h=b};
f.ny=function(a){a.preventDefault();a.stopPropagation();var b=a.c.targetTouches[0];if(null!=b){var c=b.pageX,d=b.pageY;null===this.c.l?this.c.l=new T(c,d):(this.c.l.x=c,this.c.l.y=d);this.c.Vi(c,d);Wm(this.c,b);b=Da(this.g,c,d);this.l!==b&&(a.tk=this.l,this.c.ej(a),this.l=b,this.A=c,this.o=d,a.tk=b,this.c.Ag(a))}};f.my=function(a){Ea(this.g,this.A,this.o);var b=Da(this.g,this.A,this.o);a.tk=b;this.c.Fe(a);null!==b&&this.c.ye(a)};
f.getPosition=function(){return{x:parseInt(this.h.style.left||0,10),y:parseInt(this.h.style.top||0,10)}};function Xm(){K.call(this);this.h=new Tm;this.c=new Ca}n(Xm,K);function Ym(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=Ym.prototype;f.Ma=function(){return this.right-this.left};f.getHeight=function(){return this.bottom-this.top};f.clone=function(){return new Ym(this.top,this.right,this.bottom,this.left)};f.contains=function(a){return this&&a?a instanceof Ym?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof T?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ma(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=ma(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function pm(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=pm.prototype;f.clone=function(){return new pm(this.left,this.top,this.width,this.height)};function Zm(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),g=Math.min(a.top+a.height,b.top+b.height);if(e<=g)return a.left=c,a.top=e,a.width=d-c,a.height=g-e,!0}return!1}
function $m(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),g=Math.min(a.top+a.height,b.top+b.height);if(e<=g)return new pm(c,e,d-c,g-e)}return null}
f.difference=function(a){var b=$m(this,a);if(b&&b.height&&b.width){var b=[],c=this.top,d=this.height,e=this.left+this.width,g=this.top+this.height,h=a.left+a.width,k=a.top+a.height;a.top>this.top&&(b.push(new pm(this.left,this.top,this.width,a.top-this.top)),c=a.top,d-=a.top-this.top);k<g&&(b.push(new pm(this.left,k,this.width,g-k)),d=k-c);a.left>this.left&&b.push(new pm(this.left,c,a.left-this.left,d));h<e&&b.push(new pm(h,c,e-h,d));a=b}else a=[this.clone()];return a};
f.contains=function(a){return a instanceof pm?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};f.oa=function(){return new De(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof T?(this.left+=a.x,this.top+=a.y):(this.left+=a,ma(b)&&(this.top+=b));return this};
f.scale=function(a,b){var c=ma(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function an(a,b,c,d,e,g){K.call(this);this.c=a;this.h=b;this.g=c;this.G=d;this.l=!0===e;this.o=g?g:null;this.A=null;bn(this)}n(an,K);f=an.prototype;f.B=function(){return Um(this.G)};f.getPosition=function(){return this.g};f.Bj=function(){var a=x.AddContentManager.maxDistance;this.l&&(a=x.AddContentManager.maxInnerDistance);return a};f.Nl=function(){return x.AddContentManager.minDistance};
function cn(a){var b=S.oa(a.B()),c=0;if("top"===a.g||"bottom"===a.g)c=b.height/100*a.El();else if("left"===a.g||"right"===a.g)c=b.width/100*a.El();return parseInt(c,10)}f.El=function(){return x.AddContentManager.defaultDistance};
function bn(a,b){if("top"==a.g||"bottom"==a.g){var c=a.Bj(),d=a.Nl();a.h.top<a.c.top&&(a.c.height=a.c.height+a.c.top-a.h.top,a.c.top=a.h.top);if(!a.l){var e=a.h.top-a.c.top,g=a.c.height-e,h=cn(a);c>h&&d<h&&(0<e&&e>h&&(a.c.height=g+h,a.c.top=a.h.top-h,e=h),0<g&&g>h&&(a.c.height=e+h));a.c.top<a.h.top-c&&(a.c.height-=a.h.top-a.c.top-c,a.c.top=a.h.top-c);a.c.top+a.c.height>a.h.top+c&&(a.c.height=a.h.top-a.c.top+c);0<a.c.top-a.h.top&&a.c.top<a.h.top-d&&(a.c.height=a.c.height+d+a.c.top-a.h.top,a.c.top=
a.h.top-d);a.c.top+a.c.height>a.h.top+c&&(a.c.height=a.h.top-a.c.top+c)}b&&(a.c.height-=b);a.o&&(c=a.o.c,c=c.top+c.height-a.c.top)&&(c/=2,a.c.top+=c,a.c.height-=c,bn(a.o,c))}else c=a.Bj(),d=a.Nl(),e=a.h.left-a.c.left,g=a.c.width-e,h=cn(a),c>h&&d<h&&(0<e&&e>h&&(a.c.width=g+h,a.c.left=a.h.left-h,e=h),0<g&&g>h&&(a.c.width=e+h)),a.c.left<a.h.left-c&&(a.c.width-=a.h.left-a.c.left-c,0>a.c.width&&(a.c.width=2*c),a.c.left=a.h.left-c),a.c.left+a.c.width>a.h.left+c&&(a.c.width=a.h.left-a.c.left+c),a.h.left<
a.c.left&&(a.c.width=a.c.width+a.c.left-a.h.left,a.c.left=a.h.left),0<a.c.left-a.h.left&&a.c.left<a.h.left-d&&(a.c.width=a.c.width+d+a.c.left-a.h.left,a.c.left=a.h.left-d),a.c.left+a.c.width>a.h.left+c&&(a.c.width=a.h.left-a.c.left+c)};function dn(a,b,c,d,e,g){an.call(this,a,b,c,d,e,g)}n(dn,an);dn.prototype.Nl=function(){return x.AddContentContainerManager[this.Xc()].minDistance};dn.prototype.El=function(){return x.AddContentContainerManager[this.Xc()].defaultDistance};dn.prototype.Bj=function(){return x.AddContentContainerManager[this.Xc()].maxDistance};dn.prototype.Xc=function(){var a="horizontal";if("left"==this.getPosition()||"right"==this.getPosition())a="vertical";return a};function en(a,b,c,d,e,g){an.call(this,a,b,c,d,e,g)}n(en,an);en.prototype.Bj=function(){return x.AddSectionManager.maxDistance};var fn;function gn(){}n(gn,Me);function hn(a){return(a=Oe(a))?new ActiveXObject(a):new XMLHttpRequest}function Oe(a){if(!a.h&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.h=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.h}fn=new gn;function jn(a){var b=a.lastIndexOf("/")+1;a=a.slice(b).replace(/\.+/g,".");b=a.lastIndexOf(".");return 0>=b?"":a.substr(b+1)};function kn(){this.h="";this.c=ln}var ln={};function mn(){this.h="";this.c=nn}mn.prototype.Xc=function(){return 1};var nn={};function on(){this.c=pn}on.prototype.Xc=function(){return 1};var pn={};function qn(){this.h="";this.g=rn;this.c=null}qn.prototype.Xc=function(){return this.c};var rn={};function sn(a){var b=new qn;b.h=a;b.c=0}sn("<!DOCTYPE html>");sn("");sn("<br>");var tn={},un={},vn={},wn={},xn={};function yn(){throw Error("Do not instantiate directly");}yn.prototype.Ee=null;yn.prototype.getContent=function(){return this.content};yn.prototype.toString=function(){return this.content};function zn(){yn.call(this)}n(zn,yn);function An(a,b){this.h={};this.c=[];this.A=this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)Bn(this,arguments[d],arguments[d+1])}else if(a){a instanceof An?(c=a.yd(),d=a.mc()):(c=Na(a),d=We(a));for(var e=0;e<c.length;e++)Bn(this,c[e],d[e])}}f=An.prototype;f.hd=function(){return this.g};f.mc=function(){Cn(this);for(var a=[],b=0;b<this.c.length;b++)a.push(this.h[this.c[b]]);return a};f.yd=function(){Cn(this);return this.c.concat()};
f.equals=function(a,b){if(this===a)return!0;if(this.g!=a.hd())return!1;var c=b||Dn;Cn(this);for(var d,e=0;d=this.c[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Dn(a,b){return a===b}f.isEmpty=function(){return 0==this.g};f.clear=function(){this.h={};this.A=this.g=this.c.length=0};f.remove=function(a){return En(this.h,a)?(delete this.h[a],this.g--,this.A++,this.c.length>2*this.g&&Cn(this),!0):!1};
function Cn(a){if(a.g!=a.c.length){for(var b=0,c=0;b<a.c.length;){var d=a.c[b];En(a.h,d)&&(a.c[c++]=d);b++}a.c.length=c}if(a.g!=a.c.length){for(var e={},c=b=0;b<a.c.length;)d=a.c[b],En(e,d)||(a.c[c++]=d,e[d]=1),b++;a.c.length=c}}f.get=function(a,b){return En(this.h,a)?this.h[a]:b};function Bn(a,b,c){En(a.h,b)||(a.g++,a.c.push(b),a.A++);a.h[b]=c}f.forEach=function(a,b){for(var c=this.yd(),d=0;d<c.length;d++){var e=c[d],g=this.get(e);a.call(b,g,e,this)}};f.clone=function(){return new An(this)};
f.Lk=function(a){Cn(this);var b=0,c=this.A,d=this,e=new Mm;e.next=function(){if(c!=d.A)throw Error("The map has changed since the iterator was created");if(b>=d.c.length)throw Lm;var e=d.c[b++];return a?e:d.h[e]};return e};function En(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Fn(){this.c=[];this.h=[]}function Gn(){var a=Hn;D(a.c)&&(a.c=a.h,a.c.reverse(),a.h=[]);a.c.pop()}f=Fn.prototype;f.hd=function(){return this.c.length+this.h.length};f.isEmpty=function(){return D(this.c)&&D(this.h)};f.clear=function(){this.c=[];this.h=[]};f.contains=function(a){return F(this.c,a)||F(this.h,a)};f.remove=function(a){var b;b=this.c;var c=ph(b,a);0<=c?(zh(b,c),b=!0):b=!1;return b||dg(this.h,a)};
f.mc=function(){for(var a=[],b=this.c.length-1;0<=b;--b)a.push(this.c[b]);for(var c=this.h.length,b=0;b<c;++b)a.push(this.h[b]);return a};function In(a){if(a.mc&&"function"==typeof a.mc)return a.mc();if(ka(a))return a.split("");if(ja(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return We(a)}function Jn(a){if(a.yd&&"function"==typeof a.yd)return a.yd();if(!a.mc||"function"!=typeof a.mc){if(ja(a)||ka(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Na(a)}}
function Kn(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ja(a)||ka(a))u(a,b,c);else for(var d=Jn(a),e=In(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)};function Ln(a,b){this.c=a||[];this.A=!b}Ln.prototype.ik=function(a,b,c){if(this.A){var d=this.c,e=Mn(a,b,d);0==e.length&&(e=Nn(a,b,d));b=e}else b=this.h(a,b);c(a,b)};Ln.prototype.h=function(a,b){return Mn(a,b,this.c)};function Mn(a,b,c){var d=[];if(""!=a){a=fh(a);a=new RegExp("(^|\\W+)"+a,"i");for(var e=0;e<c.length&&d.length<b;e++){var g=c[e];String(g).match(a)&&d.push(g)}}return d}
function Nn(a,b,c){for(var d=[],e=0;e<c.length;e++){var g=c[e],h=a.toLowerCase(),k=String(g).toLowerCase(),p=0;if(-1!=k.indexOf(h))p=parseInt((k.indexOf(h)/4).toString(),10);else for(var w=h.split(""),v=-1,C=10,G=0,J;J=w[G];G++)J=k.indexOf(J),J>v?(v=J-v-1,v>C-5&&(v=C-5),p+=v,v=J):(p+=C,C+=5);p<6*h.length&&d.push({cy:g,rq:p,index:e})}d.sort(function(a,b){var c=a.rq-b.rq;return 0!=c?c:a.index-b.index});a=[];for(G=0;G<b&&G<d.length;G++)a.push(d[G].cy);return a};function On(a,b){this.c=[];Ln.call(this,a,b)}n(On,Ln);On.prototype.h=function(a,b){b=this.c.length;return""==a?this.c:On.m.h.call(this,a,b)};On.prototype.ik=function(a,b,c,d,e){e=e||!1;!1===e&&r.Autocomplete.minTokenLength>a.length?c(a,[]):(e&&(a=""),On.m.ik.call(this,a,b,c,d))};function Pn(){}ea(Pn);Pn.prototype.c=0;function Qn(a){return":"+(a.c++).toString(36)};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Sn(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=null,h=null;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];b(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};function Tn(a,b){this.g=this.M=this.o="";this.G=null;this.l=this.c="";this.A=!1;var c;a instanceof Tn?(this.A=l(b)?b:a.A,Un(this,a.o),this.M=a.M,this.g=a.g,Vn(this,a.G),this.c=a.c,Wn(this,a.h.clone()),this.l=a.l):a&&(c=String(a).match(Rn))?(this.A=!!b,Un(this,c[1]||"",!0),this.M=Xn(c[2]||""),this.g=Xn(c[3]||"",!0),Vn(this,c[4]),this.c=Xn(c[5]||"",!0),Wn(this,c[6]||"",!0),this.l=Xn(c[7]||"")):(this.A=!!b,this.h=new Yn(null,0,this.A))}
Tn.prototype.toString=function(){var a=[],b=this.o;b&&a.push(Zn(b,$n,!0),":");var c=this.g;if(c||"file"==b)a.push("//"),(b=this.M)&&a.push(Zn(b,$n,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.G,null!=c&&a.push(":",String(c));if(c=this.c)this.g&&"/"!=c.charAt(0)&&a.push("/"),a.push(Zn(c,"/"==c.charAt(0)?ao:bo,!0));(c=this.h.toString())&&a.push("?",c);(c=this.l)&&a.push("#",Zn(c,co));return a.join("")};Tn.prototype.clone=function(){return new Tn(this)};
function Un(a,b,c){a.o=c?Xn(b,!0):b;a.o&&(a.o=a.o.replace(/:$/,""))}function Vn(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.G=b}else a.G=null}function Wn(a,b,c){b instanceof Yn?(a.h=b,eo(a.h,a.A)):(c||(b=Zn(b,fo)),a.h=new Yn(b,0,a.A))}function go(a,b,c){a=a.h;ho(a);a.g=null;b=io(a,b);jo(a,b)&&(a.h=a.h-a.c.get(b).length);Bn(a.c,b,[c]);a.h=a.h+1}function Tk(a){return a instanceof Tn?a.clone():new Tn(a,void 0)}
function Xn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Zn(a,b,c){return ka(a)?(a=encodeURI(a).replace(b,ko),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ko(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $n=/[#\/\?@]/g,bo=/[\#\?:]/g,ao=/[\#\?]/g,fo=/[\#\?@]/g,co=/#/g;function Yn(a,b,c){this.h=this.c=null;this.g=a||null;this.A=!!c}
function ho(a){a.c||(a.c=new An,a.h=0,a.g&&Sn(a.g,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}f=Yn.prototype;f.hd=function(){ho(this);return this.h};f.add=function(a,b){ho(this);this.g=null;a=io(this,a);var c=this.c.get(a);c||Bn(this.c,a,c=[]);c.push(b);this.h=this.h+1;return this};f.remove=function(a){ho(this);a=io(this,a);return En(this.c.h,a)?(this.g=null,this.h=this.h-this.c.get(a).length,this.c.remove(a)):!1};f.clear=function(){this.c=this.g=null;this.h=0};
f.isEmpty=function(){ho(this);return 0==this.h};function jo(a,b){ho(a);b=io(a,b);return En(a.c.h,b)}f.yd=function(){ho(this);for(var a=this.c.mc(),b=this.c.yd(),c=[],d=0;d<b.length;d++)for(var e=a[d],g=0;g<e.length;g++)c.push(b[d]);return c};f.mc=function(a){ho(this);var b=[];if(ka(a))jo(this,a)&&(b=Ah(b,this.c.get(io(this,a))));else{a=this.c.mc();for(var c=0;c<a.length;c++)b=Ah(b,a[c])}return b};f.get=function(a,b){var c=a?this.mc(a):[];return 0<c.length?String(c[0]):b};
function lo(a,b,c){a.remove(b);0<c.length&&(a.g=null,Bn(a.c,io(a,b),fg(c)),a.h=a.h+c.length)}f.toString=function(){if(this.g)return this.g;if(!this.c)return"";for(var a=[],b=this.c.yd(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.mc(d),g=0;g<d.length;g++){var h=e;""!==d[g]&&(h+="="+encodeURIComponent(String(d[g])));a.push(h)}return this.g=a.join("&")};f.clone=function(){var a=new Yn;a.g=this.g;this.c&&(a.c=this.c.clone(),a.h=this.h);return a};
function io(a,b){var c=String(b);a.A&&(c=c.toLowerCase());return c}function eo(a,b){b&&!a.A&&(ho(a),a.g=null,a.c.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),lo(this,e,a))},a));a.A=b};var mo={NONE:0,KB:1,TB:2};function no(a){a=oo(a);return t["static"]+a}function po(a,b,c){switch(b){case "filesystem_files":!0===La(q.FilesystemPreviewSize,c)&&(a=a.split("/"),a=a[0]+"/"+c+"/"+a[1]);c=t.filesPath+encodeURI(a);break;case "static_server":a&&!qo(a)&&!0===La(q.FilesystemPreviewSize,c)&&(a=a.split("/"),a="/"+a[1]+"/"+a[2]+"/"+c+"/"+a[3]);a=oo(a);c=t.staticFiles+a;break;case "my_videos":c=a;break;default:throw new Pa("Unknown dataType: "+b);}return c}
function oo(a){var b=L.j().get("project_info").getData("project_hash");b&&(a+="?ph="+b);return a}function qo(a){a=new Tn(a);return"svg"==jn(a.c)}function ro(){var a=t.licenceLevel,b=[];z(mo,function(c){a?c>=a&&b.push(c):b.push(c)});return b}function so(a){return/\/files\/\w{2}\/\w{3}(\/\d+)?\/\w{6}\.\w+/.test(a.toString())}function to(a){return a.o+"://"+a.g+"/"==t.filesPath};function uo(){A.call(this)}n(uo,Tf);uo.prototype.c=function(a,b,c){b=uo.m.c.call(this,a,b,c);c=["www.youtube.com","youtube.com","youtu.be","www.vimeo.com","vimeo.com"];var d=Tk(a);return this.h=b&&c.some(function(a){return d.g===a})};gg.j().register("wnd.ui.VideoValidator",uo);function vo(){A.call(this);this.h=this.c=null;this.g=[];this.A={};wo(this)}n(vo,A);ea(vo);vo.prototype.hasFeature=function(a){return l(this.h[a])&&this.h[a]};
function wo(a){if(null===a.c){var b=L.j().get("project_info").getData();l(b.packagesInfo)&&u(b.packagesInfo,function(a){this.A[a.identifier]=a;this.g.push(a.identifier);a.identifier===b.package_identifier&&(this.c=a,this.c.packageValidity=b.packageValidity,this.c.packageSubscrPaymentDay=b.packageSubscrPaymentDay,this.c.packageExpiryStatus=b.packageExpiryStatus)},a);l(b.packageFeatures)&&(a.h=b.packageFeatures)}}vo.prototype.Sg=function(){return null===this.c?!0:"free"===this.c.identifier};
function xo(a,b,c){a=new Tn(t.urlPriceList);switch(b){case "customize_footer":b="remove_branding";break;case "form_enabled_upload":case "form_no_limit":b="forms";break;case "premium_upload":b=null}null!=b&&go(a,"feature",b);l(c)||go(a,"ref",t.keenIo.refs[c]);return a.toString()};function yo(a,b,c){Oj.call(this,a,b,c)}n(yo,Oj);yo.prototype.dataType=x.EditHtmlFormModel.DataType;function zo(a,b,c){Oj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(zo,Oj);zo.prototype.dataType=x.EditVideoFormModel.DataType;function Ao(a){var b="";a.K()==x.EditVideoFormModel.DataType&&(b=N(a,"originalUrl"));return b};var Bo=jm(),Co=im("Trident")||im("MSIE"),Do=im("Edge"),Eo=Do||Co,Fo=im("Gecko")&&!(eh(fm,"WebKit")&&!im("Edge"))&&!(im("Trident")||im("MSIE"))&&!im("Edge"),Go=eh(fm,"WebKit")&&!im("Edge");Go&&im("Mobile");var Ho=im("Macintosh");im("Windows");im("Linux")||im("CrOS");var Io=ca.navigator||null;Io&&(Io.appVersion||"").indexOf("X11");im("Android");lm();im("iPad");function Jo(){var a=ca.document;return a?a.documentMode:void 0}var Ko;
a:{var Lo="",Mo=function(){var a=fm;if(Fo)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Do)return/Edge\/([\d\.]+)/.exec(a);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Go)return/WebKit\/(\S+)/.exec(a);if(Bo)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Mo&&(Lo=Mo?Mo[1]:"");if(Co){var No=Jo();if(null!=No&&No>parseFloat(Lo)){Ko=String(No);break a}}Ko=Lo}var Oo={};
function Po(a){var b;if(!(b=Oo[a])){b=0;for(var c=Sg(String(Ko)).split("."),d=Sg(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",p=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var v=p.exec(h)||["","",""],C=w.exec(k)||["","",""];if(0==v[0].length&&0==C[0].length)break;b=ih(0==v[1].length?0:parseInt(v[1],10),0==C[1].length?0:parseInt(C[1],10))||ih(0==v[2].length,0==C[2].length)||ih(v[2],C[2])}while(0==b)}b=Oo[a]=0<=b}return b}
function Qo(a){return Number(Ro)>=a}var So=ca.document,Ro=So&&Co?Jo()||("CSS1Compat"==So.compatMode?parseInt(Ko,10):5):void 0;var To=!Co||Qo(9),Uo=!Fo&&!Co||Co&&Qo(9)||Fo&&Po("1.9.1"),Vo=Co&&!Po("9"),Wo=Co||Bo||Go;function Xo(a){return a?new Yo(Zo(a)):Xd||(Xd=new Yo)}function Um(a){return ka(a)?document.getElementById(a):a}function $o(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):ap(document,"*",a,b)}function bp(a,b){var c=b||document,d=null;c.getElementsByClassName?d=c.getElementsByClassName(a)[0]:c.querySelectorAll&&c.querySelector?d=c.querySelector("."+a):d=ap(document,"*",a,b)[0];return d||null}
function ap(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=e=0;h=a[g];g++)b=h.className,"function"==typeof b.split&&F(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d}return a}
function cp(a,b){z(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:dp.hasOwnProperty(d)?a.setAttribute(dp[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var dp={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ep(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new De(a.clientWidth,a.clientHeight)}function fp(a){var b=gp(a);a=hp(a);return Co&&Po("10")&&a.pageYOffset!=b.scrollTop?new T(b.scrollLeft,b.scrollTop):new T(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function gp(a){return a.scrollingElement?a.scrollingElement:Go||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function hp(a){return a.parentWindow||a.defaultView}
function ip(a,b,c){return jp(document,arguments)}function jp(a,b){var c=b[0],d=b[1];if(!To&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Tg(d.name),'"');if(d.type){c.push(' type="',Tg(d.type),'"');var e={};df(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(ka(d)?c.className=d:ia(d)?c.className=d.join(" "):cp(c,d));2<b.length&&kp(a,c,b,2);return c}
function kp(a,b,c,d){function e(c){c&&b.appendChild(ka(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];!ja(g)||oa(g)&&0<g.nodeType?e(g):u(lp(g)?fg(g):g,e)}}function mp(a){return document.createElement(a)}function np(a,b){a.appendChild(b)}function op(a,b){kp(Zo(a),a,arguments,1)}function pp(a){for(var b;b=a.firstChild;)a.removeChild(b)}function qp(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function rp(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}
function sp(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function tp(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function up(a){return Uo&&void 0!=a.children?a.children:rh(a.childNodes,function(a){return 1==a.nodeType})}function vp(a){return l(a.firstElementChild)?a.firstElementChild:wp(a.firstChild,!0)}function xp(a){return l(a.previousElementSibling)?a.previousElementSibling:wp(a.previousSibling,!1)}
function wp(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function yp(a){return oa(a)&&1==a.nodeType}function zp(a){var b;if(Wo&&!(Co&&Po("9")&&!Po("10")&&ca.SVGElement&&a instanceof ca.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return yp(b)?b:null}
function Ap(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Zo(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Bp(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else pp(a),a.appendChild(Zo(a).createTextNode(String(b)))}var Cp={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Dp={IMG:" ",BR:"\n"};
function Ep(a,b,c){if(!(a.nodeName in Cp))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Dp)b.push(Dp[a.nodeName]);else for(a=a.firstChild;a;)Ep(a,b,c),a=a.nextSibling}function lp(a){if(a&&"number"==typeof a.length){if(oa(a))return"function"==typeof a.item||"string"==typeof a.item;if(na(a))return"function"==typeof a.item}return!1}function Fp(a,b){for(var c=0;a&&5>=c;){if(b(a))return a;a=a.parentNode;c++}return null}
function Yo(a){this.c=a||ca.document||document}f=Yo.prototype;f.getElement=function(a){return ka(a)?this.c.getElementById(a):a};f.Ph=function(a,b,c){return jp(this.c,arguments)};f.createElement=function(a){return this.c.createElement(a)};function Gp(a){return"CSS1Compat"==a.c.compatMode}function Hp(a){return fp(a.c)}f.appendChild=np;f.It=pp;f.Jt=sp;f.contains=Ap;function Ip(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Jp(a,b,c){ia(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Qd||(Qd={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Qd,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function Kp(a,b){var c="";b&&(c=b.id);Jp(a,"activedescendant",c)};function Lp(a){var b=0,c=0;if(Mp(a))b=a.selectionStart,c=-1;else if(Co){var d=Np(a),e=d[0],d=d[1];if(e.inRange(d)){e.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=e.text;for(c=!1;!c;)0==e.compareEndPoints("StartToEnd",e)?c=!0:(e.moveEnd("character",-1),e.text==a?b+="\r\n":c=!0);e=[b.length,-1];return e}b=e.text.length;c=-1}}return[b,c]}
function Np(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Op(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function Mp(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Pp(){return Go?"Webkit":Fo?"Moz":Co?"ms":Bo?"O":null};var Qp=!Co||Qo(9),Rp=!Co||Qo(9),Sp=Co&&!Po("9"),Tp=!Go||Po("528"),Up=Fo&&Po("1.9b")||Co&&Po("8")||Bo&&Po("9.5")||Go&&Po("528"),Vp=Fo&&!Po("8")||Co&&!Po("9");var Wp="ontouchstart"in ca||!!(ca.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!ca.navigator||!ca.navigator.msMaxTouchPoints);!Wp||!ga(navigator.userAgent.match(/Android/))||ga(navigator.userAgent.match(/Chrome/))&&ga(navigator.userAgent.match(/Firefox/))||(Wp=!1);
var Xp=null!==navigator.userAgent.match(/Android|iPhone|iPad|iPod|BB10|BlackBerry|Windows Phone|IEMobile|Opera Mini/i),Yp=null!==navigator.userAgent.match(/Chrome/)&&null===navigator.userAgent.match(/Edge\/[0-9]{2,}/),Zp=null!==navigator.userAgent.match(/Firefox/),$p=null!==navigator.userAgent.match(/Safari/)&&null===navigator.userAgent.match(/Chrome/),aq=null!==navigator.userAgent.match(/MSIE /)||null!==navigator.userAgent.match(/Trident/),bq=null!==navigator.userAgent.match(/Edge\/[0-9]{2,}/),cq=
!1,dq=!0,U="click",eq="mousedown",fq="mouseup",gq="mouseout",hq="mousemove";Wp&&(U="touchend",eq="touchstart",hq="touchmove",fq=gq="touchend");function iq(a,b){Yd.call(this,a?a.type:"");this.G=this.currentTarget=this.target=null;this.A=this.keyCode=this.clientY=this.clientX=0;this.l=this.o=this.h=this.ctrlKey=!1;this.c=this.state=null;a&&this.init(a,b)}n(iq,Yd);var jq=[1,4,2];
iq.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;e?Fo&&(Qg(e,"nodeName")||(e=null)):"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.G=e;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY);this.keyCode=
a.keyCode||0;this.A=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.h=a.altKey;this.o=a.shiftKey;this.l=a.metaKey;this.state=a.state;this.c=a;a.defaultPrevented&&this.preventDefault()};function kq(a){return Qp?0==a.c.button:"click"==a.type?!0:!!(a.c.button&jq[0])}iq.prototype.stopPropagation=function(){iq.m.stopPropagation.call(this);this.c.stopPropagation?this.c.stopPropagation():this.c.cancelBubble=!0};
iq.prototype.preventDefault=function(){iq.m.preventDefault.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Sp)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};iq.prototype.M=function(){return this.c};var lq="closure_lm_"+(1E6*Math.random()|0),mq={},nq=0;function Vm(a,b,c,d,e){if(ia(b)){for(var g=0;g<b.length;g++)Vm(a,b[g],c,d,e);return null}c=oq(c);return $d(a)?a.H(b,c,d,e):pq(a,b,c,!1,d,e)}
function pq(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var h=!!e,k=qq(a);k||(a[lq]=k=new Il(a));c=k.add(b,c,d,e,g);if(c.c)return c;d=rq();c.c=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(sq(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");nq++;return c}
function rq(){var a=tq,b=Rp?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function uq(a,b,c,d,e){if(ia(b))for(var g=0;g<b.length;g++)uq(a,b[g],c,d,e);else c=oq(c),$d(a)?a.M.add(String(b),c,!0,d,e):pq(a,b,c,!0,d,e)}function vq(a,b,c,d,e){if(ia(b))for(var g=0;g<b.length;g++)vq(a,b[g],c,d,e);else c=oq(c),$d(a)?a.Ac(b,c,d,e):a&&(a=qq(a))&&(b=Ll(a,b,c,!!d,e))&&wq(b)}
function wq(a){if(!ma(a)&&a&&!a.jh){var b=a.src;if($d(b))Kl(b.M,a);else{var c=a.type,d=a.c;b.removeEventListener?b.removeEventListener(c,d,a.Ti):b.detachEvent&&b.detachEvent(sq(c),d);nq--;(c=qq(b))?(Kl(c,a),0==c.h&&(c.src=null,b[lq]=null)):ce(a)}}}function sq(a){return a in mq?mq[a]:mq[a]="on"+a}function xq(a,b,c,d){var e=!0;if(a=qq(a))if(b=a.c[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.Ti==c&&!g.jh&&(g=yq(g,d),e=e&&!1!==g)}return e}
function yq(a,b){var c=a.listener,d=a.Lj||a.src;a.Pi&&wq(a);return c.call(d,b)}
function tq(a,b){if(a.jh)return!0;if(!Rp){var c;if(!(c=b))a:{c=["window","event"];for(var d=ca,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new iq(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(p){g=!0}if(g||void 0==e.returnValue)e.returnValue=!0}e=[];for(g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,h=e.length-1;!c.g&&0<=h;h--){c.currentTarget=e[h];var k=xq(e[h],g,!0,c),d=d&&k}for(h=0;!c.g&&h<
e.length;h++)c.currentTarget=e[h],k=xq(e[h],g,!1,c),d=d&&k}return d}return yq(a,new iq(b,this))}function qq(a){a=a[lq];return a instanceof Il?a:null}var zq="__closure_events_fn_"+(1E9*Math.random()>>>0);function oq(a){if(na(a))return a;a[zq]||(a[zq]=function(b){return a.handleEvent(b)});return a[zq]};function Aq(a,b,c){al.call(this,a,b,c)}n(Aq,al);Aq.prototype.dataType=x.ContentBlock.DataType;Aq.prototype.na=function(){Aq.m.na.call(this);this.options.Oc=!0;this.options.Dc=!0};function Bq(a,b){var c=P(a,"contentMap"),d;if(c){d=c.parent;var e=a.ba(),c=c.identifier,g=!1,g=l(g)?g:null;d=null!=Qe.blockSettings&&null!=Qe.blockSettings[d]&&null!=Qe.blockSettings[d][e]?Qe.blockSettings[d][e]:{};d=b?null!=d[c]&&null!=d[c][b]?d[c][b]:g:null!=d[c]?d[c]:g}else d=!1;return d};function Cq(a,b,c){al.call(this,a,b,c)}n(Cq,Aq);function Dq(a,b,c){al.call(this,a,b,c)}n(Dq,Aq);Dq.prototype.na=function(){Dq.m.na.call(this);this.options.Oc=!1;this.options.ec=!1;this.options.Fd=!1;this.options.Dc=!1};Dq.prototype.Ff=null;
function Eq(a,b,c){a.Ff={};L.j().get("gui_pages",Fq()).Ea(function(d,e,g,h){d=h.order;g=Xf(Ui(Ri.j()));if(g=e[g]){g=bf(g);g["gui_pages.x"]=4;g["gui_pages.parent_id"]=1;h={children:[]};for(var k={1:h},p=null,w=h.children,v=1,C={},G=[],J=0;J<d.length;J++){var ba=e[d[J]],Sa=ba["gui_pages.id"],ac=ba["gui_pages.parent_id"]==g["gui_pages.id"]?1:ba["gui_pages.parent_id"],Nb=ba["gui_pages.x"];Sa==g["gui_pages.id"]&&(Nb=g["gui_pages.x"]);0==ba["gui_pages.show_in_menu"]||l(C[ac])?C[Sa]=!0:1!=ba["gui_pages.sys_page"]||
F(d,ba["gui_pages.parent_id"])?(null===p&&(p=Nb),Nb>p?(w=k[ac].children,v++):Nb<p&&(w=k[ac].children,v-=p-Nb),k[Sa]={id:Sa,link:"/"+ba["gui_pages.identifier"]+"/",name:ba["gui_pages.name"],active:Sa==t.page.id,activePath:!1,level:v,children:[],parentId:ac,homepage:Sa==g["gui_pages.id"]},w.push(k[Sa]),p=Nb):G.push(ba)}Gq(a,G,w,k);delete k[1];if(l(k[t.page.id])){e=k[t.page.id];do{if(e.id==g["gui_pages.id"])break;e.activePath=!0;if(1==e.parentId)break;e=k[e.parentId]}while(e)}a.Ff={ry:h.children,it:k}}b.call(c)},
null,a)}function Fq(){var a=[{prefix:"",key:"gui_pages.lang_id",operator:"=",value:parseInt(t.page.langId,10),suffix:"AND"}];Ch(a,Nd.PagesAdmin.dataSettings.filter);return{filter:a,orderBy:Nd.PagesAdmin.dataSettings.orderBy}}function Gq(a,b,c,d){u(b,function(a){c=d[1].children;var b=a["gui_pages.id"];d[b]={id:b,link:"/"+a["gui_pages.identifier"]+"/",name:a["gui_pages.name"],active:b==t.page.id,activePath:!1,level:1,children:[],parentId:1,homepage:!1};c.push(d[b])},a)};function Hq(a,b,c){al.call(this,a,b,c)}n(Hq,Aq);f=Hq.prototype;f.gr=!0;f.Dk="";f.Sj=function(){return this.gr};f.Rm=function(a){this.gr=a};f.Pm=function(a){this.Dk=a};f.zj=function(){return this.Dk};function Iq(a,b,c){al.call(this,a,b,c);this.Xa=x.ResizableBlock.minWidth;this.qd=x.ResizableBlock.minHeight;this.$l=x.ResizableBlock.maxHeight}n(Iq,Aq);f=Iq.prototype;f.na=function(){Iq.m.na.call(this);this.options.editable=!0;this.options.mh=!0};f.Mm=function(a){this.J=a};f.Kg=function(){return this.J};function Jq(a){return Math.round((a.Hn.bottom-a.Hn.top)*a.$l/100)}
f.Kf=function(a,b){var c=a,d=this.sh,d=d.left+d.right+this.wa.width;b&&(c=b*this.wa.width/this.wa.height);this.Xa>c&&(c=this.Xa);c<d?this.w={left:(d-c)/2/d*100,right:(d-c)/2/d*100}:this.w={left:0,right:0};return!0};f.Bh=function(a,b,c){var d=Jq(this);a=a?a:this.J.width;b=b?b:this.J.height;c&&b>d&&(b=d);this.T=parseFloat((b/a*100).toFixed(2));this.T<this.qd&&(this.T=this.qd);return this.T};
f.vi=function(a){!0===this.options.mh&&(a||(a={}),a.style||(a={style:{}}),null!=this.w&&(a.style.margin={left:this.w.left,right:this.w.right}),null!=this.T&&(a.style.paddingBottom=this.T));Iq.m.vi.call(this,a)};function Kq(a){var b=a.wa,c=b.width,d=b.height;Jq(a)<d&&(d=Jq(a),c=d*b.width/b.height);a.Kf(c,d)};function Lq(a,b,c){Iq.call(this,a,b,c)}n(Lq,Iq);function Mq(a,b,c){Iq.call(this,a,b,c)}n(Mq,Lq);Mq.prototype.na=function(){Mq.m.na.call(this);this.options.mh=!1};function Nq(a,b,c){Iq.call(this,a,b,c)}n(Nq,Lq);Nq.prototype.yf=function(){return N(this,"address")};function Oq(a,b,c){al.call(this,a,b,c)}n(Oq,Aq);Oq.prototype.na=function(){Oq.m.na.call(this);this.options.Oc=!1;this.options.Dc=!1};function Pq(a,b,c){al.call(this,a,b,c)}n(Pq,Aq);function Qq(a,b,c){Iq.call(this,a,b,c)}n(Qq,Lq);function Rq(a){Sd.call(this);this.h=a;this.c={}}n(Rq,Sd);var Sq=[];f=Rq.prototype;f.H=function(a,b,c,d){ia(b)||(b&&(Sq[0]=b.toString()),b=Sq);for(var e=0;e<b.length;e++){var g=Vm(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!g)break;this.c[g.key]=g}return this};
f.Ac=function(a,b,c,d,e){if(ia(b))for(var g=0;g<b.length;g++)this.Ac(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.h||this,c=oq(c),d=!!d,b=$d(a)?Ll(a.M,String(b),c,d,e):a?(a=qq(a))?Ll(a,b,c,d,e):null:null,b&&(wq(b),delete this.c[b.key]);return this};f.removeAll=function(){z(this.c,function(a,b){this.c.hasOwnProperty(b)&&wq(a)},this);this.c={}};f.X=function(){Rq.m.X.call(this);this.removeAll()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Tq(){A.call(this);this.c={};this.A={};this.g=new Rq(this);this.h={}}n(Tq,A);ea(Tq);function Uq(a,b,c,d,e,g,h){h&&!0===Vq(a,b,c)&&(g=0);b=po(b,c,g);Wq(a,b,"static_server"===c,d,e,g)}
function Wq(a,b,c,d,e,g){var h=a.c[b];if(null!=h&&!0===h.complete)null!=d&&a.o(h.src,d);else{var k;k=b;c&&(a.h[b]||(a.h[b]=1),k+=(0>k.indexOf("?")?"?":"&")+"t="+a.h[b]);if(!h){var p=new Tn(k),h=new Image;h.id=Math.random().toString(36).substring(7);if(to(p)||/^https:\/\/s3\.amazonaws\.com\/feather\-client\-files\-aviary\-.+$/.test(p.toString())||so(p)&&g)h.crossOrigin="anonymous";h.src=k;a.c[b]=h}!0===(null!=d)&&(k=m(a.o,a,k,d,e),a.g.H(h,"load",k),c&&(b=m(a.l,a,b,d,e,g),a.g.H(h,"error",b)),l(e)&&
(null!=a.A[e]&&a.g.Ac.apply(a.g,a.A[e]),a.A[e]=[h,"load",k]))}}function Vq(a,b,c,d){b=po(b,c,d);return null!=a.c[b]&&!0===a.c[b].complete}Tq.prototype.o=function(a,b,c){b(a);null!=c&&(this.g.Ac.apply(this.g,this.A[c]),this.A[c]=null)};
Tq.prototype.l=function(a,b,c,d){new Pa("Image "+a+"?t="+this.h[a]+" was not loaded.");if(1==this.h[a]){var e=this.h,g=window.location.href+(new Date).toDateString();if(null===Ga){for(var h,k=[],p=0;256>p;p++){h=p;for(var w=0;8>w;w++)h=h&1?3988292384^h>>>1:h>>>1;k[p]=h>>>0}Ga=k}h=-1;for(k=0;k<g.length;k++)h=h>>>8^Ga[(h^g.charCodeAt(k))&255];e[a]=(h^-1)>>>0;delete this.c[a];Wq(this,a,!0,b,c,d)}};function Xq(a,b,c,d){if(!Vq(a,b,c,d))return null;b=po(b,c,d);return a.c[b]}
function Yq(a,b,c,d){return(a=Xq(a,b,c,d))?a.src:null}function Zq(a,b,c){b=new Tn(b);Wq(a,b.toString(),!0,c,void 0)};function $q(){Kf.call(this);this.A="experimental-webgl";new Rq(this)}n($q,Kf);f=$q.prototype;f.sn=function(){if(null===this.c){var a=Ke.get("webglSupported");if(l(a))this.c="true"===a;else{a=new Image;a.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=";try{this.Tg(a),this.c=!0}catch(b){new Pa("WebGl is not supported! "+b),this.c=!1}Ie(Ke,"webglSupported",this.c.toString(),-1,"/")}}return this.c};
f.Tg=function(a){this.canvas||(this.canvas=Aa.canvas());a=this.canvas.fd(a);this.canvas.draw(a)};f.Sn=function(a){this.canvas.mi(a);this.canvas.update()};f.Tl=function(a,b){this.canvas.Oj(0,a);b=b||0;this.canvas.Oi(b,b||0);this.canvas.update()};f.uq=function(a){this.canvas.oh(a);this.canvas.update()};function ar(){A.call(this)}n(ar,A);ea(ar);ar.prototype.get=function(){if(!this.Wd){var a=new $q;if(!a.sn()&&(a=new Lf,!a.sn()))throw new Pa("ImageFilter is not supported");this.Wd=a}return this.Wd};function br(a,b,c){K.call(this);this.A=a;this.G=b;this.g=c;this.o=this.h=null;this.l=Tq.j();this.c=null;return this}n(br,K);var cr={},dr={GB:"fx-blur-light",HB:"fx-blur-strong",LB:"fx-grayscale",MB:"fx-grayscale-dark",XB:"fx-sepia"};
function er(a,b){var c;c=q.FilesystemPreviewSize.small;c=a.g+"@"+a.A+(c?"#"+c:"");(c=l(cr.brightness)&&l(cr.brightness[c])?cr.brightness[c]:null)?b.call(a,c):Uq(a.l,a.G,a.g,m(a.M,a,b,q.FilesystemPreviewSize.small),q.ImageTools.identifier+q.FilesystemPreviewSize.small+a.A,q.FilesystemPreviewSize.small)}br.prototype.w=function(a,b,c,d){"success"===c&&null!=d[a]&&(a=parseFloat(d[a]["my_videos.brightness"]),ma(a)&&b.call(this,a))};
br.prototype.M=function(a,b){if("my_videos"===this.g){var c=bf(r.MediaListVideos[fr].collectionSettings);c.filter=[{key:"my_videos.id",operator:"=",value:this.A,suffix:"",prefix:""}];var d=new hi("loadMyVideos",1);gr(Qh.j(),d);L.j().get("my_videos",c).Ea(m(this.w,this,this.A,a),d,this)}else{this.h=Xq(this.l,this.G,this.g,q.FilesystemPreviewSize.small);null===this.h?c=null:(this.o=ip("canvas",{width:this.h.width,height:this.h.height}),c=this.o.getContext("2d"),c.drawImage(this.h,0,0),c=c.getImageData(0,
0,this.o.width,this.o.height).data);if(null===c)c=null;else{for(var e=d=0,g=0,h=c.length;g<h;g+=4)e=Math.floor((c[g]+c[g+1]+c[g+2])/3),d+=e;c=Math.floor(d/(this.h.width*this.h.height))/255;c=parseFloat(c.toFixed(2))}c&&(d=this.g+"@"+this.A+(b?"#"+b:""),l(cr.brightness)||(cr.brightness={}),cr.brightness[d]=c,a.call(this,c))}};function hr(a,b){var c=b>a;return 2>b/a&&2>a/b?c?" wnd-full-img-portrait":" wnd-full-img-landscape":c?" wnd-img-portrait":" wnd-img-landscape"}
function ir(a,b,c,d){a.c||(a.c=ar.j().get());var e=Xq(a.l,a.G,a.g,d);d="";if(e.complete){var g=null,h=r.ImageTools.Filters;switch(b){case "fx-grayscale":g=a.c;b=h[b].amount;g.Tg(e);g.Tl(b,void 0,void 0);g=g.canvas;break;case "fx-grayscale-dark":g=a.c;a=h[b].amount;var k=h[b].brightness;b=h[b].contrast;g.Tg(e);g.Tl(a,k,b);g=g.canvas;break;case "fx-blur-light":g=a.c.blur(e,h[b].radius);break;case "fx-blur-strong":g=a.c.blur(e,h[b].radius);break;case "fx-sepia":g=a.c.oh(e,h[b].amount)}null!==g&&($p?
(e=ip("canvas",{width:g.width,height:g.height}),b=e.getContext("2d"),b.drawImage(g,0,0),d=e.toDataURL(c),b.clearRect(0,0,e.width,e.height),e.remove()):d=g.toDataURL(c))}return d}function jr(a,b){var c="square";a>b?a/b>q.ImageTools.orientationRatio&&(c="landscape"):b/a>q.ImageTools.orientationRatio&&(c="portrait");return c};function kr(){K.call(this);this.h={};this.g={};this.G=null;this.A={};this.l=this.o=null;Vm(document.body,hq,m(this.pw,this));Vm(window,"scroll",m(this.iB,this));this.init()}n(kr,K);ea(kr);var lr={EB:"addContent",WB:"sectionToolbox"};f=kr.prototype;f.init=function(){z(lr,function(a){this.A[a]=!0},this)};
f.Ka=function(a,b,c,d,e,g){var h=this.getId(a,b);if(!this.h[h]){this.h[h]={group:b,rect:a,callbacks:{},fg:e?e:0,fixed:!!g};b=r.PositionManager.verticalSegmentDimension;if(!this.c)for(this.c=[],e=S.oa(document.body),e=mr(e.height),g=0;g<=e;g+=b)this.c[g]=[];e=mr(parseInt(a.top,10));a=mr(parseInt(a.top+a.height,10));this.c[e]||(this.c[e]=[]);this.c[e].push(h);for(g=e+b;g<a;)this.c[g]||(this.c[g]=[]),this.c[g].push(h),g+=b;e!==a&&(this.c[a]||(this.c[a]=[]),this.c[a].push(h))}this.h[h].callbacks[c]||
(this.h[h].callbacks[c]=d)};f.getId=function(a,b){for(var c=b+a.left+a.top+a.width+a.height,d=0,e=0;e<c.length;++e)d=31*d+c.charCodeAt(e)>>>0;return d};f.reset=function(a){a?(z(this.h,function(b,c){b.group==a&&delete this.h[c]},this),this.g[a]&&delete this.g[a]):(this.h={},this.g={});this.c=null};function mr(a){var b=r.PositionManager.verticalSegmentDimension;return(a/b>>0)*b}f.pw=function(a){var b={},c=nr(this,a,!1);df(b,c);a=nr(this,a,!0);df(b,a);or(this,b)};
function nr(a,b,c){var d={},e=null,g=pr(a,b,c);b=mr(g.y);u(a.c[b]?a.c[b]:[],function(a){var b=this.h[a];if(c===b.fixed&&qr(this,b.group)&&b.rect.contains(g)){d[b.group]||(d[b.group]=[]);d[b.group].push(a);this.g[b.group]||(this.g[b.group]=[]);if(rr(this,b.group,a)){var p=this.h[a];if(p){var w=p.callbacks.mouseover;na(w)&&w.call()&&this.g[p.group].push(a)}}e=b.callbacks[hq];na(e)&&e.call()}},a);return d}
function rr(a,b,c){var d=F(a.g[b],c),e=!d;if("addContent"===b){var g=a.h[c];u(a.g[b],function(a){var b=this.h[a];d||(e=b.fg<g.fg?sr(this,a):!1)},a)}return e}function or(a,b){z(a.g,function(a,d){u(a,function(a){!qr(this,d)||b[d]&&F(b[d],a)||sr(this,a)},this)},a)}f.iB=function(){this.o=S.Zb(document)};function pr(a,b,c){a.o||(a.o=S.Zb(document));var d=b.clientX;b=b.clientY;c||(d+=a.o.x,c=b+a.o.y,a.G||(a.G=S.Ng(document.body)),b=c-a.G.top);a.l=new T(d,b);return a.l}
function tr(a){!0!==cq&&z(lr,function(a){this.A[a]=!0},a)}f.pause=function(a,b){a?(this.A[a]=!1,b&&ur(this,a)):z(lr,function(a){this.A[a]=!1;b&&ur(this,a)},this)};function ur(a,b){var c=a.g[b];ia(c)&&u(c,function(a){sr(this,a)},a)}function qr(a,b){var c=a.A[b];if(c&&"addContent"==b){var d=E.j();d.h&&(c=vr(d),c=1==c.length&&c[0]instanceof wr)}return c}function sr(a,b){var c=a.h[b];if(!c)return!1;var d=!1,e=c.callbacks[gq];na(e)&&e.call()&&(dg(a.g[c.group],b),d=!0);return d};function xr(){Sd.call(this);this.M=new Il(this);this.Na=this;this.U=null}n(xr,Sd);xr.prototype[Zd]=!0;f=xr.prototype;f.pk=function(a){this.U=a};f.removeEventListener=function(a,b,c,d){vq(this,a,b,c,d)};
function yr(a,b){var c,d=a.U;if(d)for(c=[];d;d=d.U)c.push(d);var d=a.Na,e=b,g=e.type||e;if(ka(e))e=new Yd(e,d);else if(e instanceof Yd)e.target=e.target||d;else{var h=e,e=new Yd(g,d);df(e,h)}var h=!0,k;if(c)for(var p=c.length-1;!e.g&&0<=p;p--)k=e.currentTarget=c[p],h=zr(k,g,!0,e)&&h;e.g||(k=e.currentTarget=d,h=zr(k,g,!0,e)&&h,e.g||(h=zr(k,g,!1,e)&&h));if(c)for(p=0;!e.g&&p<c.length;p++)k=e.currentTarget=c[p],h=zr(k,g,!1,e)&&h;return h}
f.X=function(){xr.m.X.call(this);this.removeAllListeners();this.U=null};f.H=function(a,b,c,d){return this.M.add(String(a),b,!1,c,d)};f.Ac=function(a,b,c,d){return this.M.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.M?this.M.removeAll(a):0};function zr(a,b,c,d){b=a.M.c[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.jh&&h.Ti==c){var k=h.listener,p=h.Lj||h.src;h.Pi&&Kl(a.M,h);e=!1!==k.call(p,d)&&e}}return e&&0!=d.pq};function Ar(a,b,c,d,e){if(!(Co||Do||Go&&Po("525")))return!0;if(Ho&&e)return Br(a);if(e&&!d)return!1;ma(b)&&(b=Cr(b));if(!c&&(17==b||18==b||Ho&&91==b))return!1;if((Go||Do)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Co&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(Go||Do)}return Br(a)}
function Br(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(Go||Do)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Cr(a){if(Fo)a=Dr(a);else if(Ho&&Go)a:switch(a){case 93:a=91;break a}return a}
function Dr(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Er(a,b){xr.call(this);a&&Fr(this,a,b)}n(Er,xr);f=Er.prototype;f.Pg=null;f.Uj=null;f.am=null;f.Vj=null;f.Ed=-1;f.hf=-1;f.Wk=!1;
var Gr={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Hr={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ir=Co||Do||Go&&Po("525"),Jr=Ho&&Fo;f=Er.prototype;
f.Ot=function(a){if(Go||Do)if(17==this.Ed&&!a.ctrlKey||18==this.Ed&&!a.h||Ho&&91==this.Ed&&!a.l)this.hf=this.Ed=-1;-1==this.Ed&&(a.ctrlKey&&17!=a.keyCode?this.Ed=17:a.h&&18!=a.keyCode?this.Ed=18:a.l&&91!=a.keyCode&&(this.Ed=91));Ir&&!Ar(a.keyCode,this.Ed,a.o,a.ctrlKey,a.h)?this.handleEvent(a):(this.hf=Cr(a.keyCode),Jr&&(this.Wk=a.h))};f.Qt=function(a){this.hf=this.Ed=-1;this.Wk=a.h};
f.handleEvent=function(a){var b=a.c,c,d,e=b.altKey;Co&&"keypress"==a.type?(c=this.hf,d=13!=c&&27!=c?b.keyCode:0):(Go||Do)&&"keypress"==a.type?(c=this.hf,d=0<=b.charCode&&63232>b.charCode&&Br(c)?b.charCode:0):Bo&&!Go?(c=this.hf,d=Br(c)?b.keyCode:0):(c=b.keyCode||this.hf,d=b.charCode||0,Jr&&(e=this.Wk),Ho&&63==d&&224==c&&(c=191));var g=c=Cr(c),h=b.keyIdentifier;c?63232<=c&&c in Gr?g=Gr[c]:25==c&&a.o&&(g=9):h&&h in Hr&&(g=Hr[h]);a=g==this.Ed;this.Ed=g;b=new Kr(g,d,a,b);b.h=e;yr(this,b)};
f.getElement=function(){return this.Pg};function Fr(a,b,c){a.Vj&&Lr(a);a.Pg=b;a.Uj=Vm(a.Pg,"keypress",a,c);a.am=Vm(a.Pg,"keydown",a.Ot,c,a);a.Vj=Vm(a.Pg,"keyup",a.Qt,c,a)}function Lr(a){a.Uj&&(wq(a.Uj),wq(a.am),wq(a.Vj),a.Uj=null,a.am=null,a.Vj=null);a.Pg=null;a.Ed=-1;a.hf=-1}f.X=function(){Er.m.X.call(this);Lr(this)};function Kr(a,b,c,d){iq.call(this,d);this.type="key";this.keyCode=a;this.A=b;this.repeat=c}n(Kr,iq);function Mr(){K.call(this);this.c=t.aviary;this.l=this.g=null;this.A=this.o=!1;this.h=this.Wd=null;this.G=new Rq(this);if(this.o)this.xr();else{var a=mp("script");a.src=this.c.domain+this.c.library;document.head.appendChild(a);Vm(document.head,"DOMNodeInserted",m(this.On,this));Vm(a,"load",m(this.xr,this))}}n(Mr,K);ea(Mr);f=Mr.prototype;f.close=function(){this.Wd.close()};
f.Iw=function(){El(Um(this.c.undoId),this.c.historyDeletedClass);El(Um(this.c.redoId),this.c.historyDeletedClass);this.h=new Er(document.body);this.G.H(this.h,"key",this.oA);this.G.H(this.getElement(),U,m(this.pA,this));this.A=!0;this.notify("onOpen")};f.qA=function(){this.A=!1;null!==this.h&&(this.h.dispose(),this.h=null,this.notify("onClose"))};f.Nw=function(a,b){this.g=a;this.l=b;this.notify("onSave",this.g,this.l)};f.oA=function(a){switch(a.keyCode){case 27:this.A&&this.close()}};
f.pA=function(a){a.stopPropagation();a.preventDefault()};f.getElement=function(){return Um(this.c.id)};f.xr=function(){null!=window.AV&&(this.c.settings.onLoad=m(this.lw,this),this.Wd=new window.AV.Feather(this.c.settings))};f.lw=function(){this.o=!0;vq(document.head,"DOMNodeInserted",m(this.On,this));this.notify("onLoad")};f.On=function(a){null!=a.target&&"SCRIPT"===a.target.tagName&&0===a.target.src.indexOf(this.c.domain)&&"text/javascript"===a.target.type&&Vm(a.target,"load",m(this.et,this))};
f.et=function(){null!=window.AV&&z({Overlays:"Overlays",Scenery:"Scenery",Portrait:"Portrait",Food:"Food",Signature:"Signature",Classic:"Classic",Back:"Back",Original:"Original",Boom:"Boom",Square:"Square",Blemish:"Blemish"},function(a,b){window.AV.languageStrings[b]=a},this)};Co&&Po(8);function Nr(){xr.call(this);this.nc=Or;this.w=this.g=null}n(Nr,xr);var Or=0;Nr.prototype.cg=function(){this.ge("begin")};Nr.prototype.$g=function(){this.ge("end")};Nr.prototype.ge=function(a){yr(this,a)};function Pr(a,b){xr.call(this);this.c=new Rq(this);var c=a;b&&(c=Zo(a));this.c.H(c,"dragenter",this.tv);c!=a&&this.c.H(c,"dragover",this.uv);this.c.H(a,"dragover",this.Cv);this.c.H(a,"drop",this.Dv)}n(Pr,xr);f=Pr.prototype;f.Gh=!1;f.X=function(){Pr.m.X.call(this);this.c.dispose()};f.tv=function(a){var b=a.c.dataTransfer;(this.Gh=!(!b||!(b.types&&(F(b.types,"Files")||F(b.types,"public.file-url"))||b.files&&0<b.files.length)))&&a.preventDefault()};
f.uv=function(a){this.Gh&&(a.preventDefault(),a.c.dataTransfer.dropEffect="none")};f.Cv=function(a){if(this.Gh){a.preventDefault();a.stopPropagation();a=a.c.dataTransfer;try{a.effectAllowed="all"}catch(b){}a.dropEffect="copy"}};f.Dv=function(a){this.Gh&&(a.preventDefault(),a.stopPropagation(),a=new iq(a.c),a.type="drop",yr(this,a))};function Qr(a,b,c){a.innerHTML=Rr(b(c||Sr,void 0,void 0))}function Tr(a,b,c,d){a:if(a=a(b||Sr,void 0,c),d=(d||Xo()).createElement("DIV"),a=Rr(a),d.innerHTML=a,1==d.childNodes.length&&(a=d.firstChild,1==a.nodeType)){d=a;break a}return d}function Rr(a){if(!oa(a))return String(a);if(a instanceof yn){if(a.de===tn)return a.getContent();if(a.de===xn)return Tg(a.getContent())}return"zSoyz"}var Sr={};function Ur(a,b){return null!=a&&a.de===b}function Vr(a){if(null!=a)switch(a.Ee){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Wr(){yn.call(this)}n(Wr,yn);Wr.prototype.de=tn;function V(a){if(null==a||a.de!==tn)if(a instanceof qn){var b=W,c;a instanceof qn&&a.constructor===qn&&a.g===rn?c=a.h:(fa(a),c="type_error:SafeHtml");a=b(c,a.Xc())}else a=W(Tg(String(String(a))),Vr(a));return a}function Xr(){yn.call(this)}n(Xr,yn);Xr.prototype.de={};Xr.prototype.Ee=1;
function Yr(){yn.call(this)}n(Yr,yn);Yr.prototype.de=un;Yr.prototype.Ee=1;function Zr(){yn.call(this)}n(Zr,yn);Zr.prototype.de=vn;Zr.prototype.Ee=1;function $r(){yn.call(this)}n($r,yn);$r.prototype.de={};$r.prototype.Ee=1;function as(){yn.call(this)}n(as,yn);as.prototype.de=wn;as.prototype.Ee=1;function bs(a,b){this.content=String(a);this.Ee=null!=b?b:null}n(bs,zn);bs.prototype.de=xn;function cs(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a){return new b(String(a))}}
var W=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){var e=new b(String(a));void 0!==d&&(e.Ee=d);return e}}(Wr);cs(Xr);var ds=cs(Yr);cs(Zr);var es=cs($r),fs=cs(as);function gs(a,b){return Tr(a,b,void 0,new Yo(void 0))}function hs(a){return(a=String(a))?new bs(a,void 0):""}var X=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){var e=String(a);if(!e)return"";e=new b(e);void 0!==d&&(e.Ee=d);return e}}(Wr);
function is(a){return a.replace(/<\//g,"<\\/").replace(/\]\]>/g,"]]\\>")}function Y(a){Ur(a,tn)?(a=a.getContent(),a=String(a).replace(js,"").replace(ks,"&lt;"),a=String(a).replace(ls,ms)):a=Tg(String(a));return a}
function ns(a){Ur(a,un)||Ur(a,vn)?a=String(a).replace(os,ps):a instanceof mn?(a instanceof mn&&a.constructor===mn&&a.c===nn?a=a.h:(fa(a),a="type_error:SafeUrl"),a=String(a).replace(os,ps)):a instanceof on?(a instanceof on&&a.constructor===on&&a.c===pn?a="":(fa(a),a="type_error:TrustedResourceUrl"),a=String(a).replace(os,ps)):(a=String(a),a=qs.test(a)?a.replace(os,ps):"#zSoyz");return a}
function rs(a){Ur(a,wn)?a=is(a.getContent()):null==a?a="":a instanceof kn?(a instanceof kn&&a.constructor===kn&&a.c===ln?a=a.h:(fa(a),a="type_error:SafeStyle"),a=is(a)):(a=String(a),a=ss.test(a)?a:"zSoyz");return a}function ts(a){var b;b=String(a).replace(/(\r\n|\r|\n)/g,"<br>");return Ur(a,tn)?W(b,Vr(a)):b}
var us={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ms(a){return us[a]}
var vs={"\x00":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\x0B":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","\u0085":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"};function ws(a){return vs[a]}
var xs={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",
")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB",
"\uff3d":"%EF%BC%BD"};function ps(a){return xs[a]}
var ls=/[\x00\x22\x27\x3c\x3e]/g,ys=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,os=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,ss=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|(?:rgb|hsl)a?\([0-9.%,\u0020]+\)|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,qs=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,zs=
/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,js=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,ks=/</g;function As(a){var b=a.id;return W('<div id="'+Y(a.border)+'" class="wnd-add-content-container-border"></div><div id="'+Y(b)+'" class="wnd-add-content-container-btn-area"><div class="wnd-add-content-container-btn"></div></div>')};function Bs(a){var b=a.id;return W('<div id="'+Y(a.border)+'" class="wnd-add-content-border"></div><div id="'+Y(b)+'" class="wnd-add-content-btn-area"><div class="wnd-add-content-btn"></div></div>')};function Cs(a){var b=a.title;return W('<div class="wnd-page-template"><i><img src="'+Y(ns(a.src))+'" alt="'+Y(b)+'"></i><u>'+V(b)+"</u></div>")};function Ds(a){var b=a.id;return W('<div id="'+Y(a.border)+'" class="wnd-add-section-border"></div><div id="'+Y(b)+'" class="wnd-add-section-btn-area"><div class="wnd-add-section-btn"></div></div>')};function Es(a){var b=a.yk,c=!!a.hasFeature;a=a.Qq;var d;d='<div class="wnd-popup-header wnd-ps-subtitle"><h2>Backup and Recovery</h2></div><div class="wnd-ps-backup-and-recovery"><b>Online Backup and Recovery</b><i>Upgrading to Premium Services allows you to create online backups and recover your website at any time.</i>';d=c?d+('<a href="'+Y(ns(a))+'" target="_blank" class="wnd-ps-get-premium">Manage backups</a>'):d+('<a href="'+Y(ns(b))+'" target="_blank" class="wnd-ps-get-premium">Upgrade your plan</a>');
return W(d+"</div>")};function Fs(){return W('<div class="wnd-popup-controls-left"></div>')}function Gs(){return W('<div class="wnd-popup-controls-right"></div>')}
function Hs(a){var b=a.control,c=a.uri,d=a.text,e=a.target,g=a.za;a="";switch(oa(b)?b.toString():b){case "Submit":g="";g=d?g+V(d):g+"OK";a+=Is({za:"submit",control:b,text:X(g),uri:c,target:e});break;case "Delete":a+=Is({za:"delete",control:b,text:X("Delete")});break;case "DeleteLanguage":a+=Is({za:"delete",control:b,text:X("Delete language")});break;case "ConfirmDelete":a+=Is({za:"submit",control:b,text:X("Delete")});break;case "ConfirmDisableMemberLogin":a+=Is({za:"submit",control:b,text:X("Disable membership")});
break;case "SaveEdit":a+=Is({za:"submit",control:b,text:X("Save and edit")});break;case "Cancel":a+=Is({za:"close",control:b,text:X("Cancel")});break;case "Close":a+=Is({za:"close",control:b,text:X("Close")});break;case "ImageList":a+=Is({za:"exists",control:b,text:X("Image gallery")});break;case "FileList":a+=Is({za:"exists",control:b,text:X("Use existing file")});break;case "Create":a+=Is({za:"submit",control:b,text:X("Create")});break;case "Choose":a+=Is({za:"submit",control:b,text:X("Choose")});
break;case "Upgrade":g="";g=d?g+V(d):g+"Upgrade your plan";d=a;a=X(g);b=W('<a class="wnd-ctrl-type-'+Y("submit")+'" data-wnd_content_button="'+Y(b)+'" href="'+Y(ns(c))+'"'+(e?' target="'+Y(e)+'"':"")+">"+V(a)+"</a>");a=d+b;break;case "SaveAnyway":a+=Is({za:"submit",control:b,text:X("Save")});break;case "Reload":a+=Is({za:g?g:"close",control:b,text:X("Reload")});break;case "Login":a+=Is({za:"submit",control:b,text:X("Log in")});break;case "Publish":a+=Is({za:"close",control:b,text:X("Publish")});break;
case "Continue":a+=Is({za:"submit",control:b,text:X("Continue")});break;case "TryForFree":a+=Is({za:"submit",control:b,text:X("Try it for free")})}return W(a)}function Is(a){var b=a.control,c=a.text;return W('<b class="wnd-ctrl-type-'+Y(a.za)+'" data-wnd_content_button="'+Y(b)+'">'+V(c)+"</b>")};function Js(a){return W('<div class="wnd-page-name-readonly">'+V(a.name)+"</div>")};function Ks(){return W('<div class="wnd-bubble"></div>')}function Ls(){return W('<i class="wnd-bubble-arrow"></i>')};function Ms(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.type;a=a.disabled;return W('<div class="wnd-form-item-button"><button'+(c?' name="'+Y(c)+'"':"")+(b?' id="'+Y(b)+'"':"")+(g?' type="'+Y(g)+'"':"")+(a?' disabled="disabled"':"")+(d?' value="'+Y(d)+'"':"")+">"+V(e)+"</button></div>")};function Ns(a){var b=a.yy,c=a.wy,d=a.xy,e=!!a.Wx;a=""+('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Domains</h2></div><div class="wnd-ps-domains"><b>Upgrade to a professional domain name</b><i>Site address: <strong>'+V(a.Ix)+'</strong></i><a href="'+Y(ns(c))+'" target="_blank" class="wnd-ps-get-premium">Register new domain</a><u>or ');a=e?a+('<a href="'+Y(ns(b))+'" target="_blank">Manage domains</a>'):a+('<a href="'+Y(ns(d))+'" target="_blank">use existing domain</a>');return W(a+"</u></div>")}
;function Os(a){var b=W,c;c=a.la;a=a.text;var d="";switch(oa(c)?c.toString():c){case "special":d+=V(a);break;default:d+="This function has not been activated"}c=W(d);return b('<div class="wnd-base wnd-dd-placeholder-in">'+c+"</div>")};function Ps(a){return W('<div class="wnd-dropdown-toggle" unselectable="on"><b>'+V(a.title)+"</b></div>")}function Qs(){return W('<div class="wnd-dropdown-arrow"></div>')};function Rs(){return W('<div class="wnd-form-hint wnd-selectbox-option">Tip: Enter one option per line.</div>')};function Ss(a){var b=a.yk,c=a.zy;a=!!a.hasFeature;var d;d='<div class="wnd-popup-header wnd-ps-subtitle"><h2>Email accounts</h2></div><div class="wnd-ps-email-accounts"><b>Get your own email address</b><i>Upgrading to Premium Services allows you to create email accounts for your website.</i>';d=a?d+('<a href="'+Y(ns(c))+'" target="_blank" class="wnd-ps-get-premium">Manage email accounts</a>'):d+('<a href="'+Y(ns(b))+'" target="_blank" class="wnd-ps-get-premium">Upgrade your plan</a>');return W(d+
"</div>")};function Ts(){return W("")}function Us(a){var b=a.text;a=a.vd;a="<div"+(a?' class="'+Y(a)+'"':"")+">";Ur(b,xn)&&(b.getContent(),b="zSoyz");return a+b+"</div>"}function Vs(a){var b=a.Ie,c=a.label;return W(0==a.oc&&c?Ws(a)+'<label for="'+Y(b)+'">'+V(c)+"</label>"+Xs(a):"")}function Ws(a){a=a||{};return W(a.fc?'<i class="wnd-form-item-icon"></i>':"")}function Xs(a){a=a||{};a=a.rb;return W(a?'<i class="wnd-form-item-tooltip"><u>'+ts(V(a))+"</u></i>":"")}
function Ys(a){var b=a.name,c=a.id,d=a.value,e=a.className,g=a.checked,h=a.disabled,k=a.Kq,p=a.lq,w=a.placeholder,v=a.maxLength,C=a.min,G=a.max,J=a.step,ba=a.accept,Sa=a.multiple;return W('<input type="'+Y(a.type)+'"'+(b?' name="'+Y(b)+'"':"")+(c?' id="'+Y(c)+'"':"")+(null!=d?' value="'+Y(d)+'"':"")+(e?' class="'+Y(e)+'"':"")+(g?' checked="checked"':"")+(h?' disabled="disabled"':"")+(k?' tabindex="'+Y(k)+'"':"")+(p?' readonly="readonly"':"")+(w?' placeholder="'+Y(w)+'"':"")+(v?' maxlength="'+Y(v)+
'"':"")+(C?' min="'+Y(C)+'"':"")+(G?' max="'+Y(G)+'"':"")+(J?' step="'+Y(J)+'"':"")+(ba?' accept="'+Y(ba)+'"':"")+(Sa?' multiple="multiple"':"")+">")};function Zs(a){var b=a.id,c=a.text,d=a.label,e=a.oc,g=a.disabled,h=a.readOnly,k=a.placeholder,p=a.rb,w=a.fc;return W('<div class="wnd-form-ac">'+Ys({type:hs("text"),name:a.name,Kq:hs("-1"),lq:!0,className:hs("wnd-form-ac-control"),value:a.value})+Vs({oc:e,Ie:b,label:d,rb:p,fc:w})+'<div class="wnd-form-ac-select">'+Ys({type:hs("text"),id:b,text:c,disabled:g,readOnly:h,placeholder:k})+"<i></i></div></div>")};function $s(a){var b=a.id,c=a.label,d=a.oc,e=a.rb,g=a.fc,h=a.hint;return W('<div class="wnd-form-checkbox">'+Ys({type:hs("checkbox"),name:a.name,id:b,value:a.value,checked:a.checked,disabled:a.disabled})+"<i><i></i></i>"+Vs({Ie:b,label:c,oc:d,rb:e,fc:g})+"</div>"+(h?'<div class="wnd-form-item-hint">'+V(h)+"</div>":""))};function at(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.oc,h=a.disabled,k=a.hint,p=a.css,w=a.maxLength,v=a.rb;a=a.fc;return W('<div class="wnd-form-short-text'+(p?" "+Y(p):"")+'">'+Vs({Ie:b,label:e,oc:g,rb:v,fc:a})+Ys({type:hs("text"),name:c,id:b,value:d,disabled:h,maxLength:w})+(k?'<div class="wnd-form-hint">'+V(k)+"</div>":"")+"</div>")};function bt(a){var b=a.id,c=a.name,d=a.rl,e=a.value,g=a.label;return W('<div class="wnd-form-favicon"><div class="wnd-adv-fieldset-legend">'+Ws(a)+'<div class="wnd-adv-fieldset-legend-text">'+V(g)+': <i class="wnd-form-favicon-value"></i></div><div class="wnd-adv-fieldset-edit-button">'+V(d)+"</div></div>"+Ys({type:hs("hidden"),name:c,id:b,value:e})+"</div>")};function ct(a){a=a||{};var b=a.id,c=a.css;return W("<fieldset"+(b?' id="'+Y(b)+'"':"")+(c?' class="'+Y(c)+'"':"")+">"+dt(a)+"</fieldset>")}function dt(a){a=a||{};var b=a.ag,c=a.vd;return W(b?"<legend"+(c?' class="'+Y(c)+'"':"")+">"+V(b)+Xs(a)+"</legend>":"")};function et(a){var b=a.ag,c=a.css,d=a.rb;return W('<fieldset class="wnd-adv-fieldset wnd-adv-with-arrow'+(c?" "+Y(c):"")+'"><div class="wnd-adv-fieldset-legend">'+Ws(a)+dt({vd:"wnd-adv-fieldset-legend-text",ag:b,rb:d})+"</div>"+ft(a)+"</fieldset>")}
function ft(a){a=a||{};a=a.$x;var b='<div class="wnd-adv-fieldset-edit"><div class="wnd-adv-fieldset-area'+(a?" wnd-adv-with-save":"")+'"><div class="wnd-adv-fieldset-content"></div>';a&&(b+='<b class="wnd-ctrl-type-submit">Save</b>');return W(b+"</div></div>")};function gt(a){a=a||{};var b=a.method;a=a.us;return W("<form"+(b?' method="'+Y(b)+'"':"")+(a?' class="'+Y(a)+'"':"")+">"+Ys({type:hs("submit"),Kq:hs("-1")})+"</form>")};function ht(a){var b=a.ux,c=!!a.ks,d=a.By,e=a.Dy,g=a.Cy,h=!!a.Sg,k=a.Jx,p=a.by,w=a.gs,v=a.vy,C=!!a.du,G=a.vx,J=a.wx,ba=a.ey;a=""+('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Account overview</h2></div><div class="wnd-ps-general"><div class="wnd-ps-general-package"><div class="wnd-ps-general-package-info"><i>Your Webnode plan</i><b>'+V(b)+"</b>");c&&(a+='<a href="'+Y(ns(d))+'" target="_blank">',a=(h?a+"Choose your plan":a+"Upgrade your plan")+"</a>");a+='</div></div><div class="wnd-ps-general-bandwith"><p><b>Storage</b><s class="wnd-storagebar'+
(k.storage.percentage>p?" wnd-storagebar-limit":"")+'"><u style="width:'+Y(rs(k.storage.percentage))+'%;"></u></s><a href="'+Y(ns(e))+'" target="_blank">Buy more</a><i>'+V(k.storage.actualMB)+" MB out of ";a=0==k.storage.limitGB?a+(V(k.storage.limitMB)+" MB"):a+(V(k.storage.limitGB)+" GB");a+='</i></p><p><b>Bandwidth</b><s class="wnd-storagebar'+(k.bandwidth.percentage>w?" wnd-storagebar-limit":"")+'"><u style="width:'+Y(rs(k.bandwidth.percentage))+'%;"></u></s><a href="'+Y(ns(g))+'" target="_blank">Buy more</a><i>';
a=100>k.bandwidth.percentage?a+(V(k.bandwidth.actualMB)+" MB"):a+(V(k.bandwidth.actualGB)+" GB");a+=" out of ";a=k.bandwidth.limitGB?a+(V(k.bandwidth.limitGB)+" GB"):a+"Unlimited";a+="</i></p></div></div>";h?(v="Become a "+('<a href="'+Y(ns(d))+'" target="_blank">Premium user</a> and receive priority support, password protection, backup and recovery, email services and much more!'),a+='<div class="wnd-ps-general-support">'+v+"</div>"):(a+='<div class="wnd-ps-general-support"><p>',C?(G="Warning: Your Premium services will expire on "+
(V(J)+". To keep your website online including all the Premium functions, renew the services as soon as possible."),a+='<b class="wnd-ps-package-expire">'+G+"</b>"):(b="Premium Package <strong>"+(V(b)+"</strong>"),G="Valid from "+(V(G)+(" to "+V(J))),a+=b+" - "+G),ba&&(ba="Your subscription will automatically renew on <strong>"+(V(ba)+"</strong>."),a+="<br>"+ba),a+='</p><p><a href="'+Y(ns(v))+'" target="_blank">Active Services and Billing</a></p></div>');return W(a)};function it(a){return W(Ys({type:hs("hidden"),name:a.name,id:a.id,value:a.value}))};function jt(){return W('<div class="wnd-empty-placeholder"><p><strong>HTML code</strong><br />The content of this block cannot be displayed due to security reasons. The inserted HTML widget is visible on the published version of your website.</p></div>')};function kt(a){var b=a.link,c=a.description,d=a.Un,e=a.Vh;a=a.vd;var g="";switch(oa(d)?d.toString():d){case "Edit":d=g;b=lt({control:"Edit",link:b,description:c,Vh:e,vd:a});c=X("Replace");c=W('<b class="wnd-ctrl-type-submit" data-wnd_content_button="'+Y("Edit")+'">'+V(c)+"</b>");g=d+(b+c);break;case "Rotate":g+=lt({control:"Rotate",link:b,description:c,disabled:!0,Vh:e,vd:a})}return W(g)}
function lt(a){var b=a.control,c=a.link,d=a.description,e=a.vd;return W('<div class="wnd-image-list-box'+(a.disabled?" disabled":"")+(a.Vh?" preview-svg":"")+'"><div class="wnd-image-list-cell'+(e?" "+Y(e):"")+'" data-wnd_content_button="'+Y(b)+'"><img src="'+Y(ns(c))+'" alt="'+Y(d)+'"></div></div>')};function mt(a){var b=a.type,c=a.zx;a=a.yx;var d="";switch(oa(b)?b.toString():b){case "notEnoughStorage":d+=nt({title:X("Warning: Storage almost full!")});break;case "notPublished":d+=nt({title:X("Publish Changes")})+ot({text:X("Click here to publish all changes.")});break;case "changeLanguage":d+=ot({text:X("<strong>Tip:</strong> You are able to switch between and edit language versions here.")});break;default:d+=(c?nt({title:c}):"")+(a?ot({text:a}):"")}return W(d)}
function nt(a){return W('<div class="wnd-title">'+V(a.title)+"</div>")}function ot(a){return W('<div class="wnd-text">'+V(a.text)+"</div>")}function pt(a){return W("<b>"+V(a.lu)+"</b>")};function qt(a){var b=a.ag,c=a.css,d=a.rl,b='<fieldset class="wnd-adv-fieldset'+(c?" "+Y(c):"")+'"><div class="wnd-adv-fieldset-legend">'+Ws(a)+dt({vd:"wnd-adv-fieldset-legend-text wnd-dynamic-text",ag:X(V(b)+"<i>: <strong></strong></i>")})+'<div class="wnd-adv-fieldset-edit-button">',b=d?b+V(d):b+"Edit",b=b+("</div></div>"+ft(a)+"</fieldset>");return W(b)};function rt(a){var b=a.Rx,c=a.Bg,d=a.Ni;a=""+st(a);for(var e=d.length,g=0;g<e;g++){var h=d[g];a+=0==g?tt({nd:"block_"+g,Ni:h,Bg:c}):tt({nd:"block_"+g,Ni:h})}c=b.length;for(d=0;d<c;d++){e=b[d];h="section_"+d;g="";if(e){for(var g=g+('<div class="wnd-insert-block" data-wnd_insert_block="'+Y(h)+'" style="display:none;">'),h=e.length,k=0;k<h;k++)var p=e[k],g=g+ut({za:"section-"+p.za,Vd:p.Vd,af:p.af,Td:p.Td});g+="</div>"}e=W(g);a=a+e}return W(a)}
function vt(){return W('<i class="wnd-insert-arrow"></i>')}
function st(a){a=a.Te;var b="";if(a){for(var b=b+'<div class="wnd-insert-switch">',c=a.length,d=0;d<c;d++)var e=a[d],g=e.nd,h=e.Jq,e=e.jy,e=W('<b class="wnd-insert-switcher'+(e?" "+Y(e):"")+'" data-wnd_insert_switch="'+Y(g)+"_"+Y(h)+'"></b>'),b=b+e;b+='</div><div class="wnd-insert-head">';c=a.length;for(d=0;d<c;d++){g=a[d];e=g.nd;g=g.Jq;g='<h2 data-wnd_insert_title="'+Y(e)+"_"+Y(g)+'">';switch(oa(e)?e.toString():e){case "section":g+="Add section";break;case "form-field":g+="Add form item";break;default:g+=
"Add content"}g+="</h2>";e=W(g);b=b+e}b+="</div>"}return W(b)}function tt(a){null==a.Bg||ia(a.Bg);var b=a.Bg,c=a.Ni,d=a.nd;a="";if(c){a+='<div class="wnd-insert-block" data-wnd_insert_block="'+Y(d)+'" style="display:none;">';for(var d=c.length,e=0;e<d;e++){var g=c[e];a+=ut({za:g.za,Vd:g.Vd,af:g.af,Td:g.Td})}if(b)for(c=b.length,d=0;d<c;d++)e=b[d],a+=ut({za:e.za,Vd:e.Vd,af:e.af,Td:e.Td});a+="</div>"}return W(a)}
function ut(a){var b=a.Vd,c=a.Td,d=a.af;a=a.za;return W('<b class="wnd-insert-button'+(a?" type-"+Y(a):"")+'" data-wnd_insert_type="'+Y(b)+'"'+(d?'data-wnd_insert_content_identifier="'+Y(d)+'"':"")+"><i>"+ts(V(c))+"</i></b>")};function wt(a){var b=a.jt,c=""+st(a);a=b.length;for(var d=0;d<a;d++){var e;e=b[d];for(var g='<div class="wnd-insert-block" data-wnd_insert_block="'+Y("form-field_"+d)+'" style="display:none;">',h=e.length,k=0;k<h;k++)var p=e[k],g=g+ut({za:p.za,Vd:p.Vd,Td:p.Td});g+="</div>";e=W(g);c=c+e}return W(c)};function xt(a){var b=a.name;return W('<div class="wnd-language-switcher flag flag-'+Y(a.identifier)+'">'+V(b)+"</div>")}function yt(){return W('<div class="wnd-language-form-item-container"></div>')};function zt(a){return W('<div  class="'+Y(a.css)+'"></div>')}
function At(a){a=a||{};var b=a.id,c=a.css,d=a.style,e=W,b="<div "+(b?' id="'+Y(b)+'"':"")+(c?' class="'+Y(c)+'"':"")+(d?' style="'+Y(rs(d))+'"':"")+">",c=a,d=c.ll,g=c.name;a=W;var d='<div class="'+Y(c.cssText)+'" title="'+Y(g)+'"><u><span>'+V(g)+'</span></u><i class="'+Y(d)+'"></i>',g=c.id,h=c.kl,k=c.Qs,c=c.hC,c=W((c?'<div id="'+Y(g)+'_dd_top" class="'+Y(h)+'"></div>':"")+(c?'<div id="'+Y(g)+'_dd_bottom" class="'+Y(k)+'"></div>':""));a=a(d+c+"</div>");return e(b+a+"</div>")}
function Bt(a){var b=a.value,c=a.placeholder,d=a.maxLength;return W('<div class="'+Y(a.css)+'"><form>'+Ys({type:hs("text"),value:b,placeholder:c,maxLength:d})+"</form></div>")};function Ct(a){a=a||{};a=a.buttons;var b;b='<div class="wnd-popup-controls"><div class="wnd-popup-controls-left"><b class="wnd-ctrl-type-delete">';b=a&&a["delete"]?b+V(a["delete"]):b+"Delete";b+='</b><b class="wnd-ctrl-type-edit">';b=a&&a.Wc?b+V(a.Wc):b+"Edit item";return W(b+'</b></div><div class="wnd-popup-controls-right"><b class="wnd-ctrl-type-close">Close</b></div></div>')}function Dt(a){return W('<div class="wnd-empty-content">'+V(a.text)+"</div>")};function Et(a){a=""+('<div class="wnd-empty-placeholder"><p><strong>Blog</strong><br />'+V(a.text)+"</p></div>");return W(a)};function Ft(a){var b=a.type,c="";switch(oa(b)?b.toString():b){case "default":case "popup":case "section":case "container":case "wnd-block":b=c;a=a||{};a=a.text;a=W('<div class="wnd-spinner">'+(a?"<i>"+V(a)+"</i>":"")+"<b></b><b></b><b></b></div>");c=b+a;break;case "icon":case "upload":b=c,a=a||{},a=a.className,a=W('<u class="wnd-wheel'+(a?" "+Y(a):"")+'"><i></i><i></i></u>'),c=b+a}return W(c)};function Gt(a){a=a||{};var b=a.title,c=a.fy;null==a.Te||ia(a.Te);var d=a.Te,e=a.Aa,b=""+(b?W("<h2>"+V(a.title)+"</h2>"):"");a=c?W("<h3>"+V(a.fy)+"</h3>"):"";b=b+a;if(d)for(a=d.length,c=0;c<a;c++){var g;g=d[c];var h="";switch(oa(g)?g.toString():g){case "UploadImage":h+=Ht({za:"back",uc:g,text:X("Upload image"),dataType:"wnd_content_switch"});break;case "UploadFile":h+=Ht({za:"back",uc:g,text:X("Upload file"),dataType:"wnd_content_switch"});break;case "PhotoGalleryList":h+=Ht({za:"back",uc:g,text:X("Gallery"),
dataType:"wnd_content_switch"});break;case "addImages":h+=Ht({za:"button add",uc:g,text:X("Upload images"),dataType:"wnd_content_switch"});break;case "pm-add-page":h+=Ht({za:"button add",uc:g,text:X("Add page"),dataType:"wnd_content_switch"});break;case "pm-patterns":h+=Ht({za:"back",uc:g,text:X("Select page layout"),dataType:"wnd_content_switch"});break;case "mediaUploadImage":h+=Ht({za:"button add",uc:"myImages",text:X("Upload image"),dataType:"wnd_media_upload"});break;case "mediaUploadFavicon":h+=
Ht({za:"button add",uc:"myFavicons",text:X("Upload favicon"),dataType:"wnd_media_upload"});break;case "mediaUploadFile":h+=Ht({za:"button add",uc:"myFiles",text:X("Upload file"),dataType:"wnd_media_upload"});break;case "mediaUploadVideo":h+=Ht({za:"button add",uc:"myVideos",text:X("Add a video"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticImage":h+=Ht({za:"button add",uc:"publicImages",text:X("Upload Public Photo"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticIcon":h+=
Ht({za:"button add",uc:"publicIcons",text:X("Upload Icon"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticPattern":h+=Ht({za:"button add",uc:"patterns",text:X("Upload Pattern"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticVideo":h+=Ht({za:"button add",uc:"videos",text:X("Upload Video"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticFavicon":h+=Ht({za:"button add",uc:"publicFavicons",text:X("Upload Public Favicon"),dataType:"wnd_media_upload"});break;case "SectionEditDefault":case "LayoutEditDefault":h+=
Ht({za:"back",uc:g,text:X("Back"),dataType:"wnd_content_switch"});break;case "pm-language-switcher":h+=Ht({za:"dropdown",uc:g,text:X(""),dataType:"wnd_content_switch"});break;case "blogAddArticle":h+=Ht({za:"button add",uc:g,text:X("Add a new post"),dataType:"wnd_content_switch"})}g=W(h);b=b+g}d=b;e?(e=""+('<b class="wnd-content-switcher wnd-loading upload">Uploading...'+Ft({type:"upload"})+"</b>"),e=W(e)):e="";return W(d+e)}
function Ht(a){var b=a.uc,c=a.text,d=a.dataType;a='<b class="wnd-content-switcher wnd-type-'+Y(a.za)+'"';switch(oa(d)?d.toString():d){case "wnd_content_switch":a+='data-wnd_content_switch="'+Y(b)+'"';break;case "wnd_media_upload":a+='data-wnd_media_upload="'+Y(b)+'"'}a+=">"+V(c)+"</b>";return W(a)};function It(a){a=a||{};var b=a.type,c=a.title;null==a.text||ia(a.text);var d=a.text,c=W("<i></i>")+'<div class="wnd-info-context">'+(c?Jt({od:c}):"");if(b){b=a;a=b.type;var e=b.xx,b="";switch(oa(a)?a.toString():a){case "publishedPage":b+=Jt({od:X("Website was published!")})+Kt({textContent:X("The live version is available here:")})+Kt({textContent:X('<a target="_new" onclick="this.href=\''+Y(String(e.uri).replace(ys,ws))+"';\">"+V(e.link)+"</a><u></u>"),vd:"wnd-info-published-link"});break;case "waiting":b+=
Ft({type:"default"});break;case "removeWebnodeAds":b+=Jt({od:X("Remove Webnode Ads")})+Kt({textContent:X("Only Premium Users with Standard or Profi Packages are able to edit the footer.")});break;case "notEnoughStorage":b+=Jt({od:X("Not enough storage")})+Kt({textContent:X("Files cannot be uploaded because there is not enough storage available.")});break;case "multilanguage":b+=Jt({od:X("Launch your website in another language")})+Kt({textContent:X("Allow visitors to view your site in their own language. Activate a Standard or Profi Premium Package and make your business truly global!")});
break;case "multilanguage_upgrade":b+=Jt({od:X("Add more languages to your website!")})+Kt({textContent:X("Activate a Profi Premium Plan to add an unlimited number of languages to your website.")});break;case "premiumUpload":b+=Jt({od:X("The file could not be uploaded")})+Kt({textContent:X("Purchase a Mini, Standard or Profi Premium Plan to upload files of any size and type.")});break;case "premiumFormItemsLimit":b+=Jt({od:X("You have reached the limit of 5 fields in a form!")})+Kt({textContent:X("You are able to create a form with a maximum of 5 fields with a free account. Add more fields by purchasing a Mini, Standard or Profi Premium Plan.")});
break;case "premiumFormUploadField":b+=Jt({od:X("Enable the option to upload files in your forms")})+Kt({textContent:X("Uploading a file is not available with your current plan. To enable this field, please purchase a Mini, Standard or Profi Premium Plan.")});break;case "searchIndex":b+=Jt({od:X("Enable search engine indexing for your website")})+Kt({textContent:X("Purchase a Mini, Standard or Profi Premium Plan to let your website be shown in Google search results.")});break;case "premiumAnalytics":b+=
Jt({od:X("Connect your Google Analytics account")})+Kt({textContent:X("Activate a Standard or Profi Premium Package to analyze the traffic on your website with Google Analytics.")});break;case "premiumFavicon":b+=Jt({od:X("Add your own favicon")})+Kt({textContent:X("Activate a Standard or Profi Premium Package to add your own image to the browser tab. Choose from dozens of icons prepared by our designers or upload your own.")});break;case "headerFooterCode":b+=Jt({od:X("Editing your website's header and footer HTML is a Premium Feature")})+
Kt({textContent:X("Activate a Standard or Profi Premium Package to add HTML code to your website's header and footer for advanced analytics or other functions.")});break;case "longPageContent":a="The most recent changes could not be saved because there is too much content on the page. The page will be reloaded and the new content will be discarded. If you have any questions, please contact our customer support at "+('<a href="mailto:'+Y(e.uri)+'">'+(V(e.link)+"</a>.")),b+=Jt({od:X("Changes have not been saved")})+
Kt({textContent:X(""+a)})}a=W(b)}else a="";c=c+a;if(d)for(a=d.length,b=0;b<a;b++)c+=Kt({textContent:X(""+V(d[b]))});return W(c+"</div>")}function Jt(a){return W('<div class="wnd-info-title">'+V(a.od)+"</div>")}function Kt(a){var b=a.textContent;a=a.vd;return W('<div class="wnd-info-text'+(a?" "+Y(a):"")+'">'+V(b)+"</div>")};function Lt(a){var b=a.id,c=a.name,d=a.value,e=a.placeholder,g=a.maxLength,h=a.disabled,k=W;a='<div class="wnd-form-long-text">'+Vs({Ie:b,label:a.label,oc:a.oc,rb:a.rb,fc:a.fc})+'<textarea name="'+Y(c)+'" id="'+Y(b)+'"'+(e?' placeholder="'+Y(e)+'"':"")+(g?' maxlength="'+Y(g)+'"':"")+(h?' disabled="disabled"':"")+">";d?Ur(d,tn)?(d=d.getContent(),d=String(d).replace(ls,ms)):d=Tg(String(d)):d="";return k(a+d+"</textarea></div>")};function Mt(a){return W('<div class="'+Y(a.css)+' wnd-clearfix"></div>')}
function Nt(a){var b=a.Sm,c=a.name,d=a.xl,e=a.backgroundColor,g=W,d='<div class="wnd-media-item '+Y(a.css)+'" data-wnd_media_file="'+Y(d)+'" id="'+Y(d)+'_item">';if(1==b)var b=a.height,h=a.width,b=W('<i><img src="'+Y(ns(a.Bx))+'" alt=""'+(b?' height="'+Y(b)+'"':"")+(h?' width="'+Y(h)+'"':"")+"></i>");else b="";c=d+b+(c?V(c):"");e?(a=a||{},a=W('<i style="background-color:'+Y(rs(a.backgroundColor))+';"></i>')):a="";return g(c+a+"</div>")}
function Ot(){return W('<div class="wnd-media-empty"><p>There are no items to show in this view</p></div>')}function Pt(){return W('<div class="wnd-media-low-resolution"><p>Resolution of this image is too low.</p></div>')}function Qt(){return W('<div class="wnd-media-item-toolbox-switcher"><i></i></div>')};function Rt(){return W('<ul><li data-wnd_media_type="myFiles">My files</li><li data-wnd_media_type="myFavicons">My icons</li><li data-wnd_media_type="myImages">My images</li><li data-wnd_media_type="myVideos">My videos</li><li data-wnd_media_type="publicImages">Images</li><li data-wnd_media_type="videos">Videos</li><li data-wnd_media_type="patterns">Patterns</li><li data-wnd_media_type="solidColors">Solid colors</li><li data-wnd_media_type="publicIcons">Icons</li><li data-wnd_media_type="publicFavicons">Free icons</li></ul>')}
;function St(a){var b=a.email;a=a.Kx;b='<div class="wnd-my-projects"><b title="'+Y(b)+'">'+V(b)+"</b>";a&&(b+='<a href="'+Y(ns(a))+'" class="wnd-ctrl-type-submit">My projects</a>');return W(b+"</div>")};function Tt(){return W('<div class="wnd-remove-option"></div>')};function Ut(){return W('<div class="wnd-add-option"><span>Add Option</span></div>')};function Vt(a){var b=a.type,c=W,d,e="";switch(oa(d=a.type)?d.toString():d){case "pageDetailBaseForm":e+=" basic";break;case "pageDetailAdvancedForm":e+=" advanced"}d=W(e);var b='<div class="wnd-page-edit-switcher'+Y(d)+'" data-wnd_content_switch="'+Y(b)+'">',g;d="";switch(oa(g=a.type)?g.toString():g){case "pageDetailBaseForm":d+="Basic page settings";break;case "pageDetailAdvancedForm":d+="SEO page settings"}a=W(d);return c(b+a+"</div>")}
function Wt(){return W('<div class="wnd-popup-controls"><div class="wnd-popup-controls-left"><b class="wnd-ctrl-type-delete">Delete page</b></div><div class="wnd-popup-controls-right"><b class="wnd-ctrl-type-close">Close</b></div></div>')}function Xt(a){a=""+('<span class="wnd-go-to-page"> (<a href="'+Y(ns(a.href))+'">Edit page</a>)</span>');return W(a)};function Yt(){return W('<div class="wnd-popup" unselectable="on"></div>')};function Zt(){return W('<div class="wnd-activation-area"><div class="wnd-activation-icon"><i></i></div><div class="wnd-activation-content"><b>Protect your private pages, blog posts or photos</b><i>Take full advantage of Membership Registration with a Standard or Profi Premium Plan.</i><ul><li>Share content only with your family and friends or create members-only areas for your clients.</li><li>Private pages are visible only to approved site members.</li><li>Allow your visitors to register directly on your website and manage registrations with ease.</li></ul></div></div>')}
;function $t(a){var b=a.type,c=a.href;a='<div class="wnd-go-to-site"><span>';switch(oa(b)?b.toString():b){case "gui_pages":b="This page is now visible only to registered site members. You can add, approve and block members "+('<a href="'+Y(ns(c))+'" target="_blank">here</a>.');a+=b;break;case "listing_items":b="Your blog post is now visible only to registered site members. You can add, approve and block members "+('<a href="'+Y(ns(c))+'" target="_blank">here</a>.'),a+=b}return W(a+"</span></div>")}
;function au(a){var b=a.id,c=a.label,d=a.oc,e=a.rb,g=a.fc,h=a.hint,k=a.mu;return W('<div class="wnd-form-item-short-text">'+Ys({type:hs("radio"),name:a.name,value:a.value,id:b,disabled:a.disabled,checked:a.checked})+Vs({Ie:b,oc:d,label:c,rb:e,fc:g})+(h?'<div class="wnd-form-hint">'+V(h)+" "+(k?'<a href="'+Y(ns(k.link))+'" target="_blank">'+V(k.text)+"</a>":"")+"</div>":"")+"</div>")};function bu(a){var b=a.id,c=a.name,d=a.value,e=a.options,g=a.disabled,h=a.className;a='<div class="wnd-form-item-select">'+Vs({Ie:b,label:a.label,oc:a.oc,rb:a.rb,fc:a.fc})+'<select name="'+Y(c)+'" id="'+Y(b)+'"'+(h?' class="'+Y(h)+'"':"")+(g?' disabled="disabled"':"")+">";b=e.length;for(c=0;c<b;c++)g=e[c],a+='<option value="'+Y(g.value)+'"'+(g.value==d?' selected="selected"':"")+(g.style?' style="'+Y(rs(g.style))+'"':"")+">"+V(g.label)+"</option>";return W(a+"</select></div>")};function cu(a){var b="";a="Uploading file "+V(a.filename);return W(b+('<div class="wnd-progress-area"><p>'+a+"</p></div>"))}function du(){return W('<b class="wnd-progressbar"><i></i></b>')}function eu(){return W('<b class="wnd-loadingbar"><i>.</i><i>.</i><i>.</i></b>')};function fu(){return W('<div class="wnd-ps-list"></div>')}function gu(a){var b=a.name;return W('<div class="wnd-ps-list-item" data-wnd_settings_type="'+Y(a.hm)+'">'+V(b)+"</div>")};function hu(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.oc,h=a.disabled,k=a.placeholder,p=a.hint,w=a.css,v=a.maxLength,C=a.rb;a=a.fc;return W('<div class="wnd-form-short-text'+(w?" "+Y(w):"")+'">'+Vs({Ie:b,label:e,oc:g,rb:C,fc:a})+Ys({type:hs("text"),name:c,id:b,value:d,disabled:h,placeholder:k,maxLength:v})+(p?'<div class="wnd-form-hint">'+V(p)+"</div>":"")+"</div>")};function iu(a){var b=a.id,c=a.name,d=a.value,e=a.min,g=a.max,h=a.step,k=a.disabled;return W('<div class="wnd-form-item-slide">'+Vs({Ie:b,label:a.label,oc:a.oc,rb:a.rb,fc:a.fc})+'<div class="wnd-form-item-slide-box"><div class="wnd-form-item-slide-output"><output for="'+Y(b)+'">'+(d?V(d):"")+"</output></div>"+Ys({type:hs("range"),name:c,id:b,min:e,max:g,step:h,value:d,disabled:k})+"</div></div>")};function ju(a){return W('<div class="wnd-switcher-title">'+V(a.title)+"</div>")}function ku(){return W('<div class="wnd-switcher-items"></div>')}function lu(){return W('<div class="wnd-switcher-paginate"><i class="wnd-change-page wnd-prev"></i><div class="wnd-switcher-paginate-items"></div><i class="wnd-change-page wnd-next"></i></div>')}
function mu(a){var b=a.tp,c=a.style,d=a.title,e=a.jl,g=a.zo,h=a.text,k=a.Ap,p=a.mp,w=W,e='<span class="wnd-switcher-item'+(e?" "+Y(e):""),v;v=a||{};v=W((v.selected?" selected":"")+(v.gy?" variant-icon":"")+(v.Ap?" number-series":""));b=e+Y(v)+'"'+(c?'style="'+Y(rs(nu(a)))+'" ':"")+(d?'title="'+Y(d)+'" ':"")+'data-wnd_switch_item="'+Y(b)+'">';g?(c=a||{},g=c.kt,c=c.oj,g=W("<b"+(g?' class="'+Y(g)+'"':"")+(c?' style="'+Y(rs(nu({style:c})))+'"':"")+"></b>")):g="";h=b+g+(h?V(h):"")+(k?"<u>"+V(k)+"</u>":
"");p?(a=a||{},a=a.mp,a=W('<img src="'+Y(ns(a.src))+'" width="'+Y(a.width)+'" height="'+Y(a.height)+'" alt="">')):a="";return w(h+a+"</span>")}
function nu(a){a=a||{};a=a.style;var b=a.Vl?"background-image: url("+ns(a.Vl)+");":"",c;a.np?(c=String(a.np),c=zs.test(c)?c:"data:image/gif;base64,zSoyz",c="background-image: url("+ns(ds(c))+");"):c="";return fs(b+c+(a.color?"background-color: "+rs(a.color)+";":"")+(a.repeat?"background-repeat:repeat; background-size:auto;":"")+(a.top?"background-position: 0 -"+rs(a.top)+"px; background-size: 100% auto;":"")+(a.left?"background-position: -"+rs(a.left)+"px 0; background-size: auto 100%;":""))}
function ou(a){var b=a.next;return W('<div class="wnd-switcher-more-items'+(b?" wnd-with-next":"")+'"><a>'+V(a.name)+"</a>"+(b?"<i>"+V(b)+"</i>":"")+"</div>")};function pu(a){var b=a.ag,c=a.css,d=a.rb;return W('<fieldset class="wnd-adv-fieldset wnd-adv-with-switch'+(c?" "+Y(c):"")+'"><div class="wnd-adv-fieldset-legend">'+Ws(a)+dt({vd:"wnd-adv-fieldset-legend-text",ag:b,rb:d})+'<div class="wnd-adv-fieldset-switch"><i><i></i></i></div></div>'+ft(a)+"</fieldset>")};function qu(){return W('<div class="wnd-toolbox"></div>')}function ru(){return W('<i class="wnd-toolbox-arrow"></i>')}function su(){return W('<div class="wnd-toolbox-expanded-area"></div>')}function tu(){return W('<div class="wnd-toolbox-buttons"></div>')}function uu(a){var b=a.icon,c=a.name,d=a.title;return W('<b class="'+Y(a.className)+'"'+(d?' title="'+Y(d)+'"':"")+">"+(b?"<i></i>":"")+(c?"<u>"+V(c)+"</u>":"")+"</b>")}function vu(){return W('<div class="wnd-toolbox-special-actions"></div>')}
function wu(a){var b,c='<i class="wnd-tbx-button confirm">';switch(oa(b=a.Ds)?b.toString():b){case "remove":c+="Are you sure? <a>Delete</a>";break;case "remove-form-confirm":c+="Remove the form? <a>Delete</a>"}return W(c+"</i>")}function xu(){return W('<div class="wnd-toolbox-subgroup"></div>')};var yu={Mq:function(a){return W("<div "+yu.Hg(a)+"></div>")},hu:function(a){return W("<div "+yu.Hg(a)+">"+yu.iu(a)+yu.vt(a)+"</div>")},iu:function(a){var b=a.ll,c=a.name;return W('<div class="'+Y(a.cssText)+'"><u><span>'+V(c)+'</span></u><i class="'+Y(b)+'"></i></div>')},gu:function(a){return W("<div "+yu.Hg(a)+"></div>")},Hg:function(a){a=a||{};var b=a.id,c=a.css;a=a.style;return es((b?' id="'+Y(b)+'"':"")+(c?' class="'+Y(c)+'"':"")+(a?' style="'+Y(rs(a))+'"':""))},vt:function(a){var b=a.kl;return W('<div id="'+
Y(a.id)+'_dd_top" class="'+Y(b)+'"></div>')},Zt:function(a){a=a||{};a=a.url;var b;b='<div class="wnd-tree-pages-help">Change the order of pages by dragging a page up or down. Create subpages by dragging a page to the right. ';a&&(b+='<a href="'+Y(ns(a))+'" target="_blank">More information</a>.');return W(b+"</div>")},FC:function(a){return W(Bt(a))}};function zu(a){var b=a.multiple,c=a.xl,d=a.wl,e=a.accept;a='<form enctype="multipart/form-data" method="post" class="wnd-upload-form"><div class="wnd-upload-drag-area'+(a.nu?" new-gallery":"")+'">';switch(oa(d)?d.toString():d){case "image":d="";a+=Au({name:X(b?d+"Upload images":d+"Upload image"),description:X("Click here or drag and drop to upload images")});break;case "favicon":a+=Au({name:X("Upload favicon"),description:X("Click here or drag and drop to upload favicon")});break;case "file":a+=Au({name:X("Upload file"),
description:X("Click here or drag and drop to upload files")})}a+=Ys({type:hs("file"),name:hs("file"),xl:c,accept:e,multiple:b})+"</div></form>";return W(a)}function Au(a){return W("<b>"+V(a.name)+"</b>")};function Bu(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.oc,h=a.disabled,k=a.placeholder,p=a.hint,w=a.css,v=a.rb;a=a.fc;b=""+('<div class="wnd-form-upload'+(w?" "+Y(w):"")+'">'+Vs({oc:g,Ie:b,label:e,rb:v,fc:a})+Ys({type:hs("file"),name:c,id:b,className:hs("wnd-form-upload-control"),value:d,disabled:h,placeholder:k})+'<div class="wnd-form-upload-visual">'+Ys({type:hs("text"),lq:!0,className:hs("wnd-form-upload-text"),value:d,placeholder:k})+'<b class="wnd-ctrl-type-submit">Choose a file</b></div>'+
(p?'<div class="wnd-form-hint">'+V(p)+"</div>":"")+"</div>");return W(b)};function Cu(a){a=""+('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Website Editors</h2></div><div class="wnd-ps-website-editors"><b>Cooperate with other users</b><i>Invite someone to collaborate with you on your website. Edit your website and keep your content up-to-date together.</i><a href="'+Y(ns(a.Ay))+'" target="_blank" class="wnd-ps-get-premium">Invite collaborator</a></div>');return W(a)};function Du(){return W('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Website language</h2></div>')}function Eu(){return W('<div class="wnd-add-new-language">Add new language</div>')};function Fu(a){var b=a.link;a=""+('<div class="wnd-welcome-title">Welcome!</div><div class="wnd-welcome-text">Congratulations, your website was successfully configured. You can start editing now.</div><div class="wnd-welcome-text">Address of your website:<br><a href="'+Y(ns(a.uri))+'" target="_blank">'+V(b)+'</a></div><a class="wnd-start-button">Start editing</a>');return W(a)};function Qe(){}Qe.map=null;Qe.styles=null;Qe.formatters=null;Qe.blockSettings=null;Qe.variantSettings=null;Qe.mapStyles=null;Qe.colorSets=null;function Gu(a,b){if(null===b||"undefined"===typeof b)b={};var c="render_"+a.replace(/\./g,"_"),d=l(b.variant)?b.variant:"default";return Qe.hasOwnProperty(c)?Qe[c](b,d):""}xa("wnd.tpl.T",Qe);function Hu(a){var b="";z(a,function(a,d){la(a)?!0===a&&(b+=" "+Iu(d)):b+=" "+Iu(d)+'="'+Iu(a)+'"'});return b}xa("wnd.tpl.T.as",Hu);
function Ju(a,b){if(""==b)return a;b=fh(b);return a.replace(new RegExp("^"+b+"+|"+b+"+$","g"),"")}xa("wnd.tpl.T.a",function(a,b,c,d,e){a=e(a);a=Ju(a,c);return""===a?"":" "+Iu(b)+'="'+Iu(a)+'"'});xa("wnd.tpl.T.aV",function(a,b,c){a=c(a);a=Ju(a,b);return""===a?"":Iu(b)+Iu(a)});function Iu(a){a=Tg(""+a);return a=a.replace(/&#39;/g,"'")}xa("wnd.tpl.T.e",Iu);xa("wnd.tpl.T.j",function(a,b){var c=b?b:"";return ia(a)?a.join(c):a});
xa("wnd.tpl.T.i",function(a,b){ia(a)||(a=[]);for(var c="",d=0;d<a.length;d++)c+=b(a[d]);return c});
xa("wnd.tpl.T.eD",function(a,b,c,d){var e=!a;ja(a)?e=D(a):oa(a)&&(e=Ye(a));switch(c){case "wnd.pc.PhotoGalleryBlock":b=function(){return W('<div class="wnd-empty-placeholder"><p><strong>Photo Gallery</strong><br />No images were found in this photo gallery.</p></div>')};break;case "wnd.pc.ListingZone":case "wnd.pc.BlogZone":b=function(){var a="";l(d)&&("notExists"==d.placeholderType?(a=""+Et({text:X('You have no blog posts. Get started by adding a "Blog" page.')}),a=W(a)):"noItems"==d.placeholderType&&
(a=""+Et({text:X("You have no blog posts yet. Create one by clicking \u201cAdd blog post.\u201d")}),a=W(a)));return a}}return Ku(e,b)});function Ku(a,b){return a?b():""}xa("wnd.tpl.T.c",Ku);xa("wnd.tpl.T.mL",function(a,b,c){if(!oa(a)||Ye(a))return"";z(a,function(a){a.callback=b});l(c)&&null!==c?c.level+=1:c={level:1,active:!1,activePath:!1};c.items=We(a);return b(c)});
xa("wnd.tpl.T.mC",function(a,b,c,d,e){switch(b){case "active":return a.active?"wnd-active":"";case "activePath":return a.activePath?"wnd-active-path":"";case "hasChildren":return 0<a.children.length?"wnd-with-submenu":"";case "level":switch(c=Sg(c),d=parseInt(d,10),e){case ">":return a.level>d?c:"";case "<":return a.level<d?c:"";default:return a.level==d?c:""}case "homepage":return a.homepage?"wnd-homepage":"";default:return""}});
function Lu(a){var b="";z(a,function(a,d){b+=Mu(d)+":"+a+";"});return b}function Mu(a){a=a.match(/([A-Z][A-Z0-9]*(?=$|[A-Z][a-z0-9])|[A-Za-z][a-z0-9]+)/g);a=a.map(function(a){return a.toLowerCase()});return a.join("-")}Qe.variants=null;function Nu(a){var b=["default"];l(Qe.variants[a])&&(b=Ah(b,Qe.variants[a]));return b}xa("wnd.tpl.T.cI",function(a,b,c){return'<div id="'+Ou(b,c,a["contentElement.attributes"].id)+'"></div>'});
function Ou(a,b,c){return"contentElements_"+a.replace(/\./g,"_")+"_"+c+"_"+b}function Pu(a,b,c){b=b&&!Ye(b)?b:{};b="<"+a+Hu(b);b+=">";c&&(b+=c,b+="</"+a+">");return b}xa("wnd.tpl.T.t",function(a){return l(t.labels[a])?t.labels[a]:""});var Qu={"default":"wnd.pc.Section",master:"wnd.pc.MasterSection",header:"wnd.pc.HeaderSection",footer:"wnd.pc.FooterSection"};
xa("wnd.tpl.T.gc",function(a){switch(a){case "wnd-cms":return"wnd-cms";case "wnd-multilang":return Mh.project_info.isMultilanguage?"wnd-multilang":"";case "wnd-fonts-fallback":return Ru()?"wnd-fonts-fallback":"";default:return""}});var Su=[],Tu={effects:"fx-none fx-blur-light fx-blur-strong fx-grayscale fx-grayscale-dark fx-sepia".split(" "),overlays:[],position:["bgpos-top-center","bgpos-center-center","bgpos-bottom-center"],attachment:["bgatt-scroll","bgatt-parallax","bgatt-fixed"]};
function Uu(a){switch(a){case "effects":return"effect";case "overlays":return"overlay";case "position":return"position";case "attachment":return"attachment";default:return"color"}}function Vu(a){F(Su,a)||(null!=a.background&&z(Tu,function(b,c){if(null!=a.background[c]){var d={};u(b,function(a){d[a]={type:Uu(c),system:!0}});df(d,a.background[c]);a.background[c]=d}}),Su.push(a))}Qe.im=Qe.c;Qe.is=Qe.A;Qe.iS=Qe.g;Qe.iM=Qe.h;var Wu=!1,Xu=!1;function Yu(){Xu||(na(Qe.im)&&Qe.im(),Xu=!0)}var Zu=!1;
function $u(){Zu||(Yu(),na(Qe.iS)&&Qe.iS(),Zu=!0)}var av=!1;function bv(){av||(Yu(),na(Qe.iM)&&Qe.iM(),av=!0)}function Ru(){return t.isFontsFallbackEnable}
function cv(a,b,c,d){Wu||(Yu(),na(Qe.is)&&Qe.is(),$u(),bv(),Wu=!0);switch(c){case "section":c=dv(d);null===c?(new Pa("Section #"+d+" does not exist"),d=Qe.styles):d=c.styles;break;case "microTemplate":c=ev(d);null===c?(new Pa("MicroTemplate #"+d+" does not exist"),d=Qe.styles):d=c.styles;break;default:d=Qe.styles}Vu(d);return a?l(d[a])?b?l(d[a][b])?d[a][b]:null:d[a]:null:d}
function fv(){var a=cv("font"),b=[],c=[],d=null,e=!1;z(a,function(a){d=a.lang;null!=d?(F(d,t.frontendLanguage)&&(c.push(a),e=!0),F(d,"all")&&(c.push(a),b.push(a))):b.push(a)},this);return e?c:b}Qe.sections=null;Qe.layouts=null;function gv(){var a;$u();return(a=l(a)?a:!0)?Pe(function(a){return 1==a.show}):Qe.sections}function dv(a){$u();return l(Qe.sections[a])?Qe.sections[a]:null}
function hv(a){var b;b=l(b)?b:!0;var c=dv(a);if(b&&!c.showVariants)a=["default"];else{if(b=dv(a)){switch(b.type){case "master":case "footer":case "header":b=b.type;break;default:b="default"}b=l(Qu[b])?Qu[b]:null}else b=null;a=Nu(b+"_"+a)}return a}function iv(a,b,c){return cv(b,c,"section",a)}Qe.microTemplates=null;function ev(a){bv();return l(Qe.microTemplates[a])?Qe.microTemplates[a]:null}
function jv(a,b){a:{var c=a;if(ka(c)){if(!Ng(I.j(),c)){a=null;break a}c=I.j().get(c)}a=c}c=null;if(!0===(null!=kv(a))){var d,e=kv(a);d=lv(e);e=e.f.getStyle("colorScheme");d=!0===(null!=d)&&!0===(null!=d[e])?d[e]:null;null!=d&&null!=d[b]&&(c=d[b]);oa(c)&&Ye(c)&&(c=null)}null===c&&(d=L.j().get(Fa.PageStyles.dataType).getData("colorScheme"),d=l(Qe.styles.colorScheme[d])?Qe.styles.colorScheme[d]:null,null!=d&&null!=d[b]&&(c=d[b]),oa(c)&&Ye(c)&&(c=null));return c}
function mv(a){return l(Qe.layouts[a])?Qe.layouts[a]:null}function nv(a,b,c){return"position"===a?"bgpos-center-center":(b=cv("defaultBackground","defaults",b,c))&&null!=b[a]?b[a]:null}function ov(a,b,c){b=cv("defaultBackground","colorSchemeMap",b,c);if(!ia(b)||D(b))return"";var d;ma(a)?d=pv(b,a):d=xh(b,function(a){return a["default"]});return d?d["class"]:null}function pv(a,b){0>b&&(b=0);1<b&&(b=1);var c=1,d=nh(a);u(a,function(a){var g=Math.abs(a.brightness-b);g<c&&(c=g,d=a)});return d}
function qv(a,b,c){b=cv("defaultBackground","colorSchemeMap",b,c);return!ia(b)||D(b)?!1:null!==xh(b,function(b){return b["class"]==a})}function rv(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);b.dispatchEvent(c)}function sv(){return Na(Qe.colorSets)};function tv(a,b,c){M.call(this,a,b,c)}n(tv,Mj);function uv(a,b,c){al.call(this,a,b,c)}n(uv,al);uv.prototype.J="";uv.prototype.Tc=function(){var a=Wi(this).getData(this.J);return l(a.variant)?a.variant:"default"};uv.prototype.Il=function(){var a=N(this,"image");return jr(parseInt(a.width,10),parseInt(a.height,10))};function vv(a){a||(a="CreateBlogRecentPostsRequest");Hg.call(this,a);df(this.data,{variant:"default"})}n(vv,Hg);vv.prototype.getType=function(){return x.CreateBlogRecentPostsServerRequest.type};function wv(a){a||(a="CreateFormFieldRequest");Hg.call(this,a);df(this.data,{field:null,variant:"default"})}n(wv,Hg);wv.prototype.getType=function(){return x.CreateFormFieldServerRequest.type};function xv(a){a||(a="CreateFormRequest");Hg.call(this,a);df(this.data,{form:null,variant:"default"})}n(xv,Hg);xv.prototype.getType=function(){return x.CreateFormServerRequest.type};function yv(a){a||(a="CreateSectionRequest");Hg.call(this,a);df(this.data,{section:null,variant:"default",colorSchemes:[]})}n(yv,Hg);yv.prototype.getType=function(){return x.CreateSectionServerRequest.type};function zv(a,b,c){M.call(this,a,b,c);this.J=this.S=null;this.S=P(this,"showType")}n(zv,Mj);function Av(a,b){var c=Od.SettingsMenu.settingsItems[b||a.S]||[];La(t.visibleRelease,"blog")&&a.xc()||dg(c,"wnd.ps.BlogSettings");return c}zv.prototype.xc=function(){var a=t.page.langId;return null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[a]&&!t.listings.blog[a].removed};function Bv(a){null===a.J&&(a.J=Av(a,void 0)[0]);return a.J};var S={setStyle:function(a,b,c){if(ka(b))S.zq(a,c,b);else for(var d in b)S.zq(a,b[d],d)},zq:function(a,b,c){(c=S.Xo(a,c))&&(a.style[c]=b)},Hq:{},Xo:function(a,b){var c=S.Hq[b];if(!c){var d=jh(b),c=d;void 0===a.style[d]&&(d=Pp()+lh(d),void 0!==a.style[d]&&(c=d));S.Hq[b]=c}return c},Gt:function(a,b){var c=jh(b);return void 0===a.style[c]&&(c=Pp()+lh(c),void 0!==a.style[c])?(Go?"-webkit":Fo?"-moz":Co?"-ms":Bo?"-o":null)+"-"+b:b},getStyle:function(a,b){var c=a.style[jh(b)];return"undefined"!==typeof c?
c:a.style[S.Xo(a,b)]||""},getComputedStyle:function(a,b){var c=Zo(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""},rj:function(a,b){return a.currentStyle?a.currentStyle[b]:null},cc:function(a,b){return S.getComputedStyle(a,b)||S.rj(a,b)||a.style&&a.style[b]},iC:function(a){return S.cc(a,"boxSizing")||S.cc(a,"MozBoxSizing")||S.cc(a,"WebkitBoxSizing")||null},Bl:function(a){return S.cc(a,"position")},getBackgroundColor:function(a){return S.cc(a,
"backgroundColor")},tt:function(a){return S.cc(a,"overflowX")},kC:function(a){return S.cc(a,"overflowY")},Go:function(a){return S.cc(a,"zIndex")},lC:function(a){return S.cc(a,"textAlign")},jC:function(a){return S.cc(a,"cursor")},ut:function(a){var b=S.Gt(a,"transform");return S.cc(a,b)||S.cc(a,"transform")},setPosition:function(a,b,c){var d;b instanceof T?(d=b.x,b=b.y):(d=b,b=c);a.style.left=S.Cj(d,!1);a.style.top=S.Cj(b,!1)},getPosition:function(a){return new T(a.offsetLeft,a.offsetTop)},st:function(a){a=
a?Zo(a):document;return!Co||Qo(9)||Gp(Xo(a))?a.documentElement:a.body},Zb:function(a){var b=a.body;a=a.documentElement;return new T(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)},qj:function(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}Co&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},Bt:function(a){if(Co&&!Qo(8))return a.offsetParent;var b=
Zo(a),c=S.cc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=S.cc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null},df:function(a){for(var b=new Ym(0,Infinity,Infinity,0),c=Xo(a),d=c.c.body,e=c.c.documentElement,g=gp(c.c);a=S.Bt(a);)if(!(Co&&0==a.clientWidth||Go&&0==a.clientHeight&&
a==d)&&a!=d&&a!=e&&"visible"!=S.cc(a,"overflow")){var h=S.wc(a),k=S.rt(a);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=ep(hp(c.c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null},Cl:function(a,b,c){var d=
b||gp(document),e=S.wc(a),g=S.wc(d),h=S.Qf(d);d==gp(document)?(b=e.x-d.scrollLeft,e=e.y-d.scrollTop,Co&&!Qo(10)&&(b+=h.left,e+=h.top)):(b=e.x-g.x-h.left,e=e.y-g.y-h.top);h=d.clientWidth-a.offsetWidth;a=d.clientHeight-a.offsetHeight;g=d.scrollLeft;d=d.scrollTop;c?(g+=b-h/2,d+=e-a/2):(g+=Math.min(b,Math.max(b-h,0)),d+=Math.min(e,Math.max(e-a,0)));return new T(g,d)},Qx:function(a,b,c){b=b||gp(document);a=S.Cl(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y},rt:function(a){return new T(a.clientLeft,a.clientTop)},
wc:function(a){var b=Zo(a),c=new T(0,0),d=S.st(b);if(a==d)return c;a=S.qj(a);b=Hp(Xo(b));c.x=a.left+b.x;c.y=a.top+b.y;return c},rC:function(a){return S.wc(a).x},sC:function(a){return S.wc(a).y},yt:function(a,b){var c=new T(0,0),d;d=(d=Zo(a))?hp(d):window;if(!Qg(d,"parent"))return c;var e=a;do{var g=d==b?S.wc(e):S.Fo(e);c.x+=g.x;c.y+=g.y}while(d&&d!=b&&d!=d.parent&&(e=d.frameElement)&&(d=d.parent));return c},qy:function(a,b,c){if(b.c!=c.c){var d=b.c.body;c=S.yt(d,hp(c.c));c=Sm(c,S.wc(d));!Co||Qo(9)||
Gp(b)||(c=Sm(c,Hp(b)));a.left+=c.x;a.top+=c.y}},Le:function(a,b){var c=S.Jg(a),d=S.Jg(b);return new T(c.x-d.x,c.y-d.y)},Fo:function(a){a=S.qj(a);return new T(a.left,a.top)},Jg:function(a){if(1==a.nodeType)return S.Fo(a);a=a.changedTouches?a.changedTouches[0]:a;return new T(a.clientX,a.clientY)},IC:function(a,b,c){var d=S.wc(a);b instanceof T&&(c=b.y,b=b.x);S.setPosition(a,a.offsetLeft+(b-d.x),a.offsetTop+(Number(c)-d.y))},setSize:function(a,b,c){if(b instanceof De)c=b.height,b=b.width;else if(void 0==
c)throw Error("missing height argument");S.setWidth(a,b);S.setHeight(a,c)},Cj:function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a},setHeight:function(a,b){a.style.height=S.Cj(b,!0)},setWidth:function(a,b){a.style.width=S.Cj(b,!0)},oa:function(a){return S.vo(S.Ft,a)},vo:function(a,b){if("none"!=S.cc(b,"display"))return a(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h=a(b);c.display=d;c.position=g;c.visibility=
e;return h},Ft:function(a){var b=a.offsetWidth,c=a.offsetHeight,d=Go&&!b&&!c;return l(b)&&!d||!a.getBoundingClientRect?new De(b,c):(a=S.qj(a),new De(a.right-a.left,a.bottom-a.top))},uC:function(a){if(!a.getBoundingClientRect)return null;a=S.vo(S.qj,a);return new De(a.right-a.left,a.bottom-a.top)},getBounds:function(a){var b=S.wc(a);a=S.oa(a);return new pm(b.x,b.y,a.width,a.height)},PC:function(a){return jh(String(a))},QC:function(a){return kh(a)},getOpacity:function(a){var b=a.style;a="";"opacity"in
b?a=b.opacity:"MozOpacity"in b?a=b.MozOpacity:"filter"in b&&(b=b.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(a=String(b[1]/100));return""==a?a:Number(a)},setOpacity:function(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")},LC:function(a,b){var c=a.style;Co&&!Po("8")?c.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+b+'", sizingMethod="crop")':(c.backgroundImage="url("+b+")",c.backgroundPosition=
"top left",c.backgroundRepeat="no-repeat")},dC:function(a){a=a.style;"filter"in a?a.filter="":a.backgroundImage="none"},MC:function(a,b){S.aa(a,b)},aa:function(a,b){a.style.display=b?"":"none"},Uh:function(a){return"none"!=a.style.display},wC:function(a,b){var c=Xo(b),d=null,e=c.c;Co&&e.createStyleSheet?(d=e.createStyleSheet(),S.Aq(d,a)):(e=ap(c.c,"HEAD",void 0,void 0)[0],e||(d=ap(c.c,"BODY",void 0,void 0)[0],e=c.Ph("HEAD"),d.parentNode.insertBefore(e,d)),d=c.Ph("STYLE"),S.Aq(d,a),c.appendChild(e,
d));return d},SC:function(a){sp(a.ownerNode||a.owningElement||a)},Aq:function(a,b){Co&&l(a.cssText)?a.cssText=b:a.innerHTML=b},JC:function(a){a=a.style;Co&&!Po("8")?(a.whiteSpace="pre",a.wordWrap="break-word"):a.whiteSpace=Fo?"-moz-pre-wrap":"pre-wrap"},HC:function(a){a=a.style;a.position="relative";Co&&!Po("8")?(a.zoom="1",a.display="inline"):a.display="inline-block"},gf:function(a){return"rtl"==S.cc(a,"direction")}};S.bn=Fo?"MozUserSelect":Go||Do?"WebkitUserSelect":null;
S.xC=function(a){return S.bn?"none"==a.style[S.bn].toLowerCase():Co||Bo?"on"==a.getAttribute("unselectable"):!1};S.Ux=function(a){var b=a.getElementsByTagName("*"),c=S.bn;if(c){var d="none";a.style&&(a.style[c]=d);if(b){a=0;for(var e;e=b[a];a++)e.style&&(e.style[c]=d)}}else if(Co||Bo)if(d="on",a.setAttribute("unselectable",d),b)for(a=0;e=b[a];a++)e.setAttribute("unselectable",d)};S.qt=function(a){return new De(a.offsetWidth,a.offsetHeight)};
S.Tx=function(a,b){var c=Gp(Xo(Zo(a)));if(!Co||Po("10")||c&&Po("8"))S.vq(a,b,"border-box");else{var d=a.style;if(c){var c=S.bc(a),e=S.Qf(a);d.pixelWidth=b.width-e.left-c.left-c.right-e.right;d.pixelHeight=b.height-e.top-c.top-c.bottom-e.bottom}else d.pixelWidth=b.width,d.pixelHeight=b.height}};
S.mC=function(a){var b=Zo(a),c=Co&&a.currentStyle;if(c&&Gp(Xo(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=S.Mg(a,c.width,"width","pixelWidth"),a=S.Mg(a,c.height,"height","pixelHeight"),new De(b,a);c=S.qt(a);b=S.bc(a);a=S.Qf(a);return new De(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};
S.GC=function(a,b){var c=Gp(Xo(Zo(a)));if(!Co||Po("10")||c&&Po("8"))S.vq(a,b,"content-box");else{var d=a.style;if(c)d.pixelWidth=b.width,d.pixelHeight=b.height;else{var c=S.bc(a),e=S.Qf(a);d.pixelWidth=b.width+e.left+c.left+c.right+e.right;d.pixelHeight=b.height+e.top+c.top+c.bottom+e.bottom}}};S.vq=function(a,b,c){a=a.style;Fo?a.MozBoxSizing=c:Go?a.WebkitBoxSizing=c:a.boxSizing=c;a.width=Math.max(b.width,0)+"px";a.height=Math.max(b.height,0)+"px"};
S.Mg=function(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],g=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=g;return b};S.xj=function(a,b){var c=S.rj(a,b);return c?S.Mg(a,c,"left","pixelLeft"):0};
S.Co=function(a,b){if(Co){var c=S.xj(a,b+"Left"),d=S.xj(a,b+"Right"),e=S.xj(a,b+"Top"),g=S.xj(a,b+"Bottom");return new Ym(e,d,g,c)}c=S.getComputedStyle(a,b+"Left");d=S.getComputedStyle(a,b+"Right");e=S.getComputedStyle(a,b+"Top");g=S.getComputedStyle(a,b+"Bottom");return new Ym(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))};S.bc=function(a){return S.Co(a,"padding")};S.Ng=function(a){return S.Co(a,"margin")};S.lp={thin:2,medium:4,thick:6};
S.wj=function(a,b){if("none"==S.rj(a,b+"Style"))return 0;var c=S.rj(a,b+"Width");return c in S.lp?S.lp[c]:S.Mg(a,c,"left","pixelLeft")};
S.Qf=function(a){if(Co&&!Qo(9)){var b=S.wj(a,"borderLeft"),c=S.wj(a,"borderRight"),d=S.wj(a,"borderTop");a=S.wj(a,"borderBottom");return new Ym(d,c,a,b)}b=S.getComputedStyle(a,"borderLeftWidth");c=S.getComputedStyle(a,"borderRightWidth");d=S.getComputedStyle(a,"borderTopWidth");a=S.getComputedStyle(a,"borderBottomWidth");return new Ym(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};
S.oC=function(a){var b=Zo(a),c="";if(b.body.createTextRange&&Ap(b,a)){b=b.body.createTextRange();b.moveToElementText(a);try{c=b.queryCommandValue("FontName")}catch(d){c=""}}c||(c=S.cc(a,"fontFamily"));a=c.split(",");1<a.length&&(c=a[0]);a:for(a=0;2>a;a++)if(b="\"'".charAt(a),c.charAt(0)==b&&c.charAt(c.length-1)==b){c=c.substring(1,c.length-1);break a}return c};S.ku=/[^\d]+$/;S.At=function(a){return(a=a.match(S.ku))&&a[0]||null};S.Mr={cm:1,"in":1,mm:1,pc:1,pt:1};S.Nr={em:1,ex:1};
S.pC=function(a){var b=S.cc(a,"fontSize"),c=S.At(b);if(b&&"px"==c)return parseInt(b,10);if(Co){if(String(c)in S.Mr)return S.Mg(a,b,"left","pixelLeft");if(a.parentNode&&1==a.parentNode.nodeType&&String(c)in S.Nr)return a=a.parentNode,c=S.cc(a,"fontSize"),S.Mg(a,b==c?"1em":b,"left","pixelLeft")}c=ip("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});a.appendChild(c);b=c.offsetHeight;sp(c);return b};
S.CC=function(a){var b={};u(a.split(/\s*;\s*/),function(a){var d=a.match(/\s*([\w-]+)\s*\:(.+)/);d&&(a=d[1],d=Sg(d[2]),b[jh(a.toLowerCase())]=d)});return b};S.RC=function(a){var b=[];z(a,function(a,d){b.push(kh(d),":",a,";")});return b.join("")};S.mk=function(a,b){a.style[Co?"styleFloat":"cssFloat"]=b};S.getFloat=function(a){return a.style[Co?"styleFloat":"cssFloat"]||""};
S.Nh=function(){var a=mp("DIV");a.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";var b=mp("DIV");S.setSize(b,"200px","200px");a.appendChild(b);document.body.appendChild(a);b=a.offsetWidth-a.clientWidth;sp(a);return b};S.Pr=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;S.nC=function(a){a=S.ut(a);return a?(a=a.match(S.Pr))?new T(parseFloat(a[1]),parseFloat(a[2])):new T(0,0):new T(0,0)};function Cv(a,b,c){M.call(this,a,b,c)}n(Cv,mm);Cv.prototype.Ve=function(a,b,c){Cv.m.Ve.call(this,a,b,c);a=S.Ng(a);b=r.DropStripe.stripeSize;switch(this.position){case "right":this.A.x+=a.right-b;this.M.x+=a.right-b;break;case "left":this.A.x-=a.left+b,this.M.x-=a.left+b}};function Dv(){A.call(this);this.h=["borderColor","outlineColor","color"];this.c=[["border","borderColor"],["outline","outlineColor"],["color","color"]]}n(Dv,A);function Ev(a,b){var c=Fv(a,b);if(null===c)return"";var d=[];u(a.c,function(a){null!=c[a[1]]&&d.push(a[0]+"="+c[a[1]])},a);return d.join("&")}function Fv(a,b){if(!yp(b)||"EMBED"!=b.nodeName)return null;var c={};u(a.h,m(a.g,a,b,c),a);return c}
Dv.prototype.g=function(a,b,c){a=S.getComputedStyle(a,c);if(""!==a){/rgba\(/.test(a)&&(a=a.replace(/rgba\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3}), .*\)/,"rgb($1, $2, $3)"));a=tm(a);a[0]=Math.max(16,a[0]);a=ym(a[0],a[1],a[2]);var d=new RegExp(fh("#"),"");a=a.replace(d,"");b[c]=a}};Dv.prototype.Pe=function(a,b){return b.src!=a?(b.src=a,b.outerHTML=b.outerHTML,!0):!1};S.Ah={};S.Ah.Dt=function(a){var b=S.gf(a);return b&&Fo?-a.scrollLeft:!b||Eo&&Po("8")||"visible"==S.tt(a)?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft};S.Ah.qC=function(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=S.Bl(a)||(c=Zo(a).documentElement);if(!c)return b;if(Fo)var d=S.Qf(c),b=b+d.left;else Qo(8)&&!Qo(9)&&(d=S.Qf(c),b-=d.left);return S.gf(c)?c.clientWidth-(b+a.offsetWidth):b};
S.Ah.KC=function(a,b){b=Math.max(b,0);S.gf(a)?Fo?a.scrollLeft=-b:Eo&&Po("8")?a.scrollLeft=b:a.scrollLeft=a.scrollWidth-b-a.clientWidth:a.scrollLeft=b};S.Ah.setPosition=function(a,b,c,d){null!==c&&(a.style.top=c+"px");d?(a.style.right=b+"px",a.style.left=""):(a.style.left=b+"px",a.style.right="")};function Gv(a,b,c){xr.call(this);this.target=a;this.l=b||a;this.J=c||new pm(NaN,NaN,NaN,NaN);this.o=Zo(a);this.c=new Rq(this);Vd(this,ua(Wd,this.c));this.A=this.g=this.ta=this.P=this.clientY=this.clientX=0;this.h=!1;Vm(this.l,["touchstart","mousedown"],this.Sl,!1,this)}n(Gv,xr);var Hv=ca.document&&ca.document.documentElement&&!!ca.document.documentElement.setCapture;f=Gv.prototype;
f.X=function(){Gv.m.X.call(this);vq(this.l,["touchstart","mousedown"],this.Sl,!1,this);this.c.removeAll();Hv&&this.o.releaseCapture();this.l=this.target=null};
f.Sl=function(a){var b="mousedown"==a.type;if(this.h||b&&(!kq(a)||Go&&Ho&&a.ctrlKey))yr(this,"earlycancel");else if(yr(this,new Iv("start",this,a.clientX,a.clientY))){this.h=!0;b&&a.preventDefault();var b=this.o,c=b.documentElement,d=!Hv;this.c.H(b,["touchmove","mousemove"],this.Ut,d);this.c.H(b,["touchend","mouseup"],this.Jj,d);Hv?(c.setCapture(!1),this.c.H(c,"losecapture",this.Jj)):this.c.H(b?hp(b):window,"blur",this.Jj);this.w&&this.c.H(this.w,"scroll",this.Zo,d);this.clientX=this.P=a.clientX;
this.clientY=this.ta=a.clientY;this.g=this.target.offsetLeft;this.A=this.target.offsetTop;this.G=Hp(Xo(this.o))}};f.Jj=function(a,b){this.c.removeAll();Hv&&this.o.releaseCapture();this.h?(this.h=!1,yr(this,new Iv("end",this,a.clientX,a.clientY,0,Jv(this,this.g),Kv(this,this.A),b||"touchcancel"==a.type))):yr(this,"earlycancel")};
f.Ut=function(a){var b=1*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;if(!this.h){var d=this.P-this.clientX,e=this.ta-this.clientY;if(0<d*d+e*e)if(yr(this,new Iv("start",this,a.clientX,a.clientY)))this.h=!0;else{this.ub||this.Jj(a);return}}c=Lv(this,b,c);b=c.x;c=c.y;this.h&&yr(this,new Iv("beforedrag",this,a.clientX,a.clientY,0,b,c))&&(Mv(this,a,b,c),a.preventDefault())};
function Lv(a,b,c){var d=Hp(Xo(a.o));b+=d.x-a.G.x;c+=d.y-a.G.y;a.G=d;a.g+=b;a.A+=c;return new T(Jv(a,a.g),Kv(a,a.A))}f.Zo=function(a){var b=Lv(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Mv(this,a,b.x,b.y)};function Mv(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";yr(a,new Iv("drag",a,b.clientX,b.clientY,0,c,d))}function Jv(a,b){var c=a.J,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}
function Kv(a,b){var c=a.J,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Iv(a,b,c,d,e,g,h,k){Yd.call(this,a);this.clientX=c;this.clientY=d;this.left=l(g)?g:b.g;this.top=l(h)?h:b.A;this.c=!!k}n(Iv,Yd);function Nv(){xr.call(this);this.G=[];this.ha=[];this.J=[];this.ta=this.I=this.D=!1}n(Nv,xr);f=Nv.prototype;f.Rj=function(){return this.ta};f.init=function(){if(!this.ta){for(var a,b=0;a=this.G[b];b++)Ov(this,a);this.ta=!0}};function Ov(a,b){a.D&&(Vm(b.element,"mousedown",b.o,!1,b),a.S&&El(b.element,a.S));a.I&&a.F&&El(b.element,a.F)}
function Pv(a){for(var b,c=0;b=a.G[c];c++){var d=a;d.D&&(vq(b.element,"mousedown",b.o,!1,b),d.S&&Gl(b.element,d.S));d.I&&d.F&&Gl(b.element,d.F);b.dispose()}a.G.length=0}function Qv(a){a.w=[];for(var b,c=0;b=a.ha[c];c++)for(var d,e=0;d=b.G[e];e++)for(var g=a,h=b,k=[d.element],p=0;p<k.length;p++){var w=k[p],v,C=w;v=S.wc(C);C=S.oa(C);v=new Ym(v.y,v.x+C.width,v.y+C.height,v.x);g.w.push(new Rv(v,h,d,w));Sv(g,v)}a.A||(a.A=new Ym(0,0,0,0))}
f.Yo=function(a){var b=a.c?null:this.o;if(b&&b.g){var c=a.clientX;a=a.clientY;var d=Hp(Xo(this.l)),e=c+d.x,d=a+d.y,g;this.P&&(g=this.P(b.h,b.c,e,d));yr(this,new Tv("drag",0,this.c,0,b.h,0,c,a));yr(b.g,new Tv("drop",0,this.c,0,b.h,0,c,a,0,0,g))}yr(this,new Tv("dragend",0,this.c,0,b?b.h:void 0));vq(this.g,"drag",this.yp,!1,this);vq(this.g,"end",this.Yo,!1,this);vq(Zo(this.c.c).body,"selectstart",this.Iq);for(b=0;c=this.J[b];b++)vq(c.c,"scroll",this.eo,!1,this),c.h=[];this.g.dispose();sp(this.l);delete this.c;
delete this.l;delete this.g;delete this.w;delete this.o};
f.yp=function(a){var b,c=Hp(Xo(this.l));b=new T(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.o;yr(this,new Tv("drag",0,this.c,0,e?e.h:void 0,0,a.clientX,a.clientY));var g;if(e){this.P&&e.g&&(g=this.P(e.h,e.c,c,d));if(e.c.contains(b)&&g==this.T)return;e.g&&(yr(this,new Tv("dragout",0,this.c,0,e.h)),yr(e.g,new Tv("dragout",0,this.c,0,e.h,0,void 0,void 0,0,0,this.T)));this.T=g;this.o=null}if(this.A.contains(b)){a:{for(var h=0;e=this.w[h];h++)if(e.c.contains(b))if(e.A){if(e.A.g.contains(b)){b=e;
break a}}else{b=e;break a}b=null}if((e=this.o=b)&&e.g)this.P&&(g=this.P(e.h,e.c,c,d)),c=new Tv("dragover",0,this.c,0,e.h),c.c=g,yr(this,c),yr(e.g,new Tv("dragover",0,this.c,0,e.h,0,a.clientX,a.clientY,0,0,g));else if(!e){this.h||(this.h=new Rv(this.A.clone()));a=this.h.c;a.top=this.A.top;a.right=this.A.right;a.bottom=this.A.bottom;a.left=this.A.left;for(g=0;e=this.w[g];g++)b=e.c,e.A&&(e=e.A.g,b=new Ym(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),Math.max(b.left,e.left))),
e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===e||null===h||(Math.abs(e-c)>Math.abs(h-d)?h=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==h&&(h<=d?a.top=h:a.bottom=h);this.o=10<=(a.right-a.left)*(a.bottom-a.top)?this.h:null}}};f.Iq=function(){return!1};
f.eo=function(a){for(var b=0,c;c=this.J[b];b++)if(a.target==c.c){var d=c.o-c.c.scrollTop,e=c.A-c.c.scrollLeft;c.o=c.c.scrollTop;c.A=c.c.scrollLeft;this.h&&this.o==this.h&&(0<d?this.h.c.top+=d:this.h.c.bottom+=d,0<e?this.h.c.left+=e:this.h.c.right+=e);for(var g=0,h;h=c.h[g];g++)h=h.c,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,Sv(this,h)}this.g.Zo(a)};
function Sv(a,b){if(1==a.w.length)a.A=new Ym(b.top,b.right,b.bottom,b.left);else{var c=a.A;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}f.X=function(){Nv.m.X.call(this);Pv(this)};function Tv(a,b,c,d,e,g,h,k,p,w,v){Yd.call(this,a);this.Ys=c;this.uo=e;this.clientX=h;this.clientY=k;this.c=v}n(Tv,Yd);
function Uv(a,b){xr.call(this);this.element=Um(a);this.data=b;this.A=null;this.h=new Rq(this);Vd(this,ua(Wd,this.h));this.c=null;if(!this.element)throw Error("Invalid argument");}n(Uv,xr);Uv.prototype.getData=function(){return this.data};Uv.prototype.o=function(a){if(kq(a)&&!(Go&&Ho&&a.ctrlKey)){a.stopPropagation();var b=a.target;b&&(this.h.H(b,"mousemove",this.l,!1).H(b,"mouseout",this.l,!1),this.h.H(Zo(b),"mouseup",this.G,!0),this.c=b,this.g=new T(a.clientX,a.clientY))}};
Uv.prototype.l=function(a){var b=this.c,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.g.x)+Math.abs(a.clientY-this.g.y)||b)if(this.h.removeAll(),b=this.A,!b.c)if(b.c=this,0==yr(b,new Tv("dragstart",0,b.c)))b.c=null;else{var c=this.c;b.l=mp("div");var d=Zo(c);d.body.appendChild(b.l);var e;e=b.l;var g=S.wc(c),c=S.Ng(c);g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=g.y+"px";e=new Gv(e);b.g=e;b.g.w=b.R;Vm(b.g,"drag",b.yp,!1,b);Vm(b.g,
"end",b.Yo,!1,b);Vm(d.body,"selectstart",b.Iq);Qv(b);for(e=0;d=b.J[e];e++)d.h=[],d.A=d.c.scrollLeft,d.o=d.c.scrollTop,g=S.wc(d.c),c=S.oa(d.c),d.g=new Ym(g.y,g.x+c.width,g.y+c.height,g.x);for(e=0;c=b.w[e];e++)for(g=0;d=b.J[g];g++)Ap(d.c,c.o)&&(d.h.push(c),c.A=d);b.o=null;for(e=0;d=b.J[e];e++)Vm(d.c,"scroll",b.eo,!1,b);b.g.Sl(a);a.preventDefault()}a.preventDefault()};Uv.prototype.G=function(){this.h.removeAll();delete this.g;this.c=null};
function Rv(a,b,c,d){this.c=a;this.g=b;this.h=c;this.o=d||null;this.A=null};function Vv(a,b){Nv.call(this);var c=new Uv(a,b);c.A=this;this.G.push(c)}n(Vv,Nv);function Wv(){Nv.call(this)}n(Wv,Nv);Wv.prototype.Ka=function(a,b){var c=new Uv(a,b);c.A=this;this.G.push(c);this.Rj()&&Ov(this,c)};function Xv(a,b,c,d,e,g,h){var k,p=c.offsetParent;if(p){var w="HTML"==p.tagName||"BODY"==p.tagName;w&&"static"==S.Bl(p)||(k=S.wc(p),w||(k=Sm(k,new T(S.Ah.Dt(p),p.scrollTop))))}k=k||new T;p=S.getBounds(a);(w=S.df(a))&&Zm(p,new pm(w.left,w.top,w.right-w.left,w.bottom-w.top));S.qy(p,Xo(a),Xo(c));a=Yv(a,b);b=p.left;a&4?b+=p.width:a&2&&(b+=p.width/2);b=new T(b,p.top+(a&1?p.height:0));b=Sm(b,k);e&&(b.x+=(a&4?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var v;h&&(v=S.df(c))&&(v.top-=k.y,v.right-=k.x,v.bottom-=k.y,v.left-=
k.x);e=v;v=b.clone();b=Yv(c,d);d=S.oa(c);a=d.clone();v=v.clone();a=a.clone();k=0;if(g||0!=b)b&4?v.x-=a.width+(g?g.right:0):b&2?v.x-=a.width/2:g&&(v.x+=g.left),b&1?v.y-=a.height+(g?g.bottom:0):g&&(v.y+=g.top);h&&(e?(g=v,b=a,k=0,65==(h&65)&&(g.x<e.left||g.x>=e.right)&&(h&=-2),132==(h&132)&&(g.y<e.top||g.y>=e.bottom)&&(h&=-5),g.x<e.left&&h&1&&(g.x=e.left,k|=1),h&16&&(p=g.x,g.x<e.left&&(g.x=e.left,k|=4),g.x+b.width>e.right&&(b.width=Math.min(e.right-g.x,p+b.width-e.left),b.width=Math.max(b.width,0),k|=
4)),g.x+b.width>e.right&&h&1&&(g.x=Math.max(e.right-b.width,e.left),k|=1),h&2&&(k=k|(g.x<e.left?16:0)|(g.x+b.width>e.right?32:0)),g.y<e.top&&h&4&&(g.y=e.top,k|=2),h&32&&(p=g.y,g.y<e.top&&(g.y=e.top,k|=8),g.y+b.height>e.bottom&&(b.height=Math.min(e.bottom-g.y,p+b.height-e.top),b.height=Math.max(b.height,0),k|=8)),g.y+b.height>e.bottom&&h&4&&(g.y=Math.max(e.bottom-b.height,e.top),k|=2),h&8&&(k=k|(g.y<e.top?64:0)|(g.y+b.height>e.bottom?128:0)),h=k):h=256,k=h);h=new pm(0,0,0,0);h.left=v.x;h.top=v.y;h.width=
a.width;h.height=a.height;k&496||(S.setPosition(c,new T(h.left,h.top)),a=h.oa(),Ee(d,a)||S.Tx(c,a))}function Yv(a,b){return(b&8&&S.gf(a)?b^4:b)&-9};function Zv(a,b,c){this.element=a;this.h=b;this.g=c}n(Zv,Og);Zv.prototype.c=function(a,b,c){Xv(this.element,this.h,a,b,void 0,c,this.g)};function $v(a,b){xr.call(this);this.A=a||1;this.g=b||ca;this.o=m(this.G,this);this.l=wa()}n($v,xr);$v.prototype.c=!1;$v.prototype.h=null;$v.prototype.G=function(){if(this.c){var a=wa()-this.l;0<a&&a<.8*this.A?this.h=this.g.setTimeout(this.o,this.A-a):(this.h&&(this.g.clearTimeout(this.h),this.h=null),yr(this,"tick"),this.c&&(this.h=this.g.setTimeout(this.o,this.A),this.l=wa()))}};function aw(a){a.c=!0;a.h||(a.h=a.g.setTimeout(a.o,a.A),a.l=wa())}
function bw(a){a.c=!1;a.h&&(a.g.clearTimeout(a.h),a.h=null)}$v.prototype.X=function(){$v.m.X.call(this);bw(this);delete this.g};function cw(a,b,c){if(na(a))c&&(a=m(a,c));else if(a&&"function"==typeof a.handleEvent)a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ca.setTimeout(a,b||0)};function dw(a,b,c){Sd.call(this);this.h=a;this.o=b||0;this.g=c;this.A=m(this.l,this)}n(dw,Sd);dw.prototype.c=0;dw.prototype.X=function(){dw.m.X.call(this);ew(this);delete this.h;delete this.g};function fw(a){ew(a);a.c=cw(a.A,l(void 0)?void 0:a.o)}function ew(a){a.Ha()&&ca.clearTimeout(a.c);a.c=0}dw.prototype.Ha=function(){return 0!=this.c};dw.prototype.l=function(){this.c=0;this.h&&this.h.call(this.g)};function gw(){xr.call(this);this.h=new Rq(this);Tp&&(Up?this.h.H(Vp?document.body:window,["online","offline"],this.g):(this.A=Tp?navigator.onLine:!0,this.c=new $v(hw),this.h.H(this.c,"tick",this.o),aw(this.c)))}n(gw,xr);var hw=250;gw.prototype.o=function(){var a=Tp?navigator.onLine:!0;a!=this.A&&(this.A=a,this.g())};gw.prototype.g=function(){yr(this,(Tp?navigator.onLine:1)?"online":"offline")};
gw.prototype.X=function(){gw.m.X.call(this);this.h.dispose();this.h=null;this.c&&(this.c.dispose(),this.c=null)};var iw={},jw=null;function kw(a){a=pa(a);delete iw[a];Ye(iw)&&jw&&ew(jw)}function lw(){jw||(jw=new dw(function(){mw()},20));var a=jw;a.Ha()||fw(a)}function mw(){var a=wa();z(iw,function(b){nw(b,a)});Ye(iw)||lw()};function ow(a,b,c,d){Nr.call(this);if(!ia(a)||!ia(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.A=a;this.P=b;this.G=c;this.l=d;this.c=[];this.h=0}n(ow,Nr);f=ow.prototype;
f.play=function(a){if(a||this.nc==Or)this.h=0,this.c=this.A;else if(1==this.nc)return!1;kw(this);this.g=a=wa();-1==this.nc&&(this.g-=this.G*this.h);this.w=this.g+this.G;this.h||this.cg();this.ge("play");-1==this.nc&&this.ge("resume");this.nc=1;var b=pa(this);b in iw||(iw[b]=this);lw();nw(this,a);return!0};function pw(a,b){kw(a);a.nc=Or;b&&(a.h=1);qw(a,a.h);a.ge("stop");a.$g()}f.pause=function(){1==this.nc&&(kw(this),this.nc=-1,this.ge("pause"))};
f.X=function(){this.nc==Or||pw(this,!1);this.ge("destroy");ow.m.X.call(this)};f.destroy=function(){this.dispose()};function nw(a,b){a.h=(b-a.g)/(a.w-a.g);1<=a.h&&(a.h=1);qw(a,a.h);1==a.h?(a.nc=Or,kw(a),a.ge("finish"),a.$g()):1==a.nc&&a.Rl()}function qw(a,b){na(a.l)&&(b=a.l(b));a.c=Array(a.A.length);for(var c=0;c<a.A.length;c++)a.c[c]=(a.P[c]-a.A[c])*b+a.A[c]}f.Rl=function(){this.ge("animate")};f.ge=function(a){yr(this,new rw(a,this))};
function rw(a,b){Yd.call(this,a);this.c=b.c;this.x=b.c[0];this.y=b.c[1];this.state=b.nc;this.h=b}n(rw,Yd);function sw(a,b,c,d,e){ow.call(this,b,c,d,e);this.element=a}n(sw,ow);f=sw.prototype;f.pf=da;f.gf=function(){l(this.J)||(this.J=S.gf(this.element));return this.J};f.Rl=function(){this.pf();sw.m.Rl.call(this)};f.$g=function(){this.pf();sw.m.$g.call(this)};f.cg=function(){this.pf();sw.m.cg.call(this)};function tw(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");sw.apply(this,arguments)}n(tw,sw);
tw.prototype.pf=function(){this.element.style.left=Math.round(this.c[0])+"px";this.element.style.top=Math.round(this.c[1])+"px"};function uw(a,b,c,d){tw.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}n(uw,tw);uw.prototype.cg=function(){this.A=[this.element.offsetLeft,this.element.offsetTop];uw.m.cg.call(this)};function vw(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");sw.apply(this,arguments)}n(vw,sw);
vw.prototype.pf=function(){this.element.scrollLeft=Math.round(this.c[0]);this.element.scrollTop=Math.round(this.c[1])};function ww(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");sw.apply(this,arguments)}n(ww,sw);ww.prototype.pf=function(){this.element.style.width=Math.round(this.c[0])+"px";this.element.style.height=Math.round(this.c[1])+"px"};function xw(a,b,c,d,e){sw.call(this,a,[b],[c],d,e)}n(xw,sw);
xw.prototype.pf=function(){this.element.style.height=Math.round(this.c[0])+"px"};function yw(a,b,c,d,e){ma(b)&&(b=[b]);ma(c)&&(c=[c]);sw.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.o=zw}n(yw,sw);var Aw=1/1024,zw=-1;f=yw.prototype;f.pf=function(){var a=this.c[0];Math.abs(a-this.o)>=Aw&&(S.setOpacity(this.element,a),this.o=a)};f.cg=function(){this.o=zw;yw.m.cg.call(this)};f.$g=function(){this.o=zw;yw.m.$g.call(this)};
f.show=function(){this.element.style.display=""};f.hide=function(){this.element.style.display="none"};function Bw(a,b,c){yw.call(this,a,1,0,b,c)}n(Bw,yw);function Cw(a,b,c){yw.call(this,a,0,1,b,c)}n(Cw,yw);function Dw(a){xr.call(this);this.headers=new An;this.w=a||null;this.c=!1;this.G=this.sa=null;this.A=this.D="";this.h=this.ta=this.g=this.J=!1;this.l=0;this.o=null;this.P=Ew;this.I=this.S=!1}n(Dw,xr);var Ew="",Fw=/^https?$/i,Gw=["POST","PUT"],Hw=[];function Ok(a,b){var c=new Dw;Hw.push(c);b&&c.H("complete",b);c.M.add("ready",c.vs,!0,void 0,void 0);c.send(a,void 0,void 0,void 0)}f=Dw.prototype;f.vs=function(){this.dispose();dg(Hw,this)};
f.send=function(a,b,c,d){if(this.sa)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);b=b?b.toUpperCase():"GET";this.D=a;this.A="";this.J=!1;this.c=!0;this.sa=this.w?hn(this.w):hn(fn);this.G=this.w?Ne(this.w):Ne(fn);this.sa.onreadystatechange=m(this.Vp,this);try{this.ta=!0,this.sa.open(b,String(a),!0),this.ta=!1}catch(g){Iw(this,g);return}a=c||"";var e=this.headers.clone();d&&Kn(d,function(a,b){Bn(e,b,a)});d=xh(e.yd(),Jw);c=ca.FormData&&a instanceof ca.FormData;
!F(Gw,b)||d||c||Bn(e,"Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.sa.setRequestHeader(b,a)},this);this.P&&(this.sa.responseType=this.P);Xe(this.sa,"withCredentials")&&(this.sa.withCredentials=this.S);try{Kw(this),0<this.l&&((this.I=Lw(this.sa))?(this.sa.timeout=this.l,this.sa.ontimeout=m(this.$o,this)):this.o=cw(this.$o,this.l,this)),this.g=!0,this.sa.send(a),this.g=!1}catch(g){Iw(this,g)}};
function Lw(a){return Co&&Po(9)&&ma(a.timeout)&&l(a.ontimeout)}function Jw(a){return"content-type"==a.toLowerCase()}f.$o=function(){"undefined"!=typeof aa&&this.sa&&(this.A="Timed out after "+this.l+"ms, aborting",yr(this,"timeout"),this.sa&&this.c&&(this.c=!1,this.h=!0,this.sa.abort(),this.h=!1,yr(this,"complete"),yr(this,"abort"),Mw(this)))};function Iw(a,b){a.c=!1;a.sa&&(a.h=!0,a.sa.abort(),a.h=!1);a.A=b;Nw(a);Mw(a)}function Nw(a){a.J||(a.J=!0,yr(a,"complete"),yr(a,"error"))}
f.X=function(){this.sa&&(this.c&&(this.c=!1,this.h=!0,this.sa.abort(),this.h=!1),Mw(this,!0));Dw.m.X.call(this)};f.Vp=function(){this.ub||(this.ta||this.g||this.h?Ow(this):this.Hw())};f.Hw=function(){Ow(this)};
function Ow(a){if(a.c&&"undefined"!=typeof aa&&(!a.G[1]||4!=Pw(a)||2!=a.getStatus()))if(a.g&&4==Pw(a))cw(a.Vp,0,a);else if(yr(a,"readystatechange"),4==Pw(a)){a.c=!1;try{if(Qw(a))yr(a,"complete"),yr(a,"success");else{var b;try{b=2<Pw(a)?a.sa.statusText:""}catch(c){b=""}a.A=b+" ["+a.getStatus()+"]";Nw(a)}}finally{Mw(a)}}}function Mw(a,b){if(a.sa){Kw(a);var c=a.sa,d=a.G[0]?da:null;a.sa=null;a.G=null;b||yr(a,"ready");try{c.onreadystatechange=d}catch(e){}}}
function Kw(a){a.sa&&a.I&&(a.sa.ontimeout=null);ma(a.o)&&(ca.clearTimeout(a.o),a.o=null)}f.Ha=function(){return!!this.sa};function Qw(a){var b=a.getStatus(),c;if(!(c=Le(b))){if(b=0===b)a=String(a.D).match(Rn)[1]||null,!a&&ca.self&&ca.self.location&&(a=ca.self.location.protocol,a=a.substr(0,a.length-1)),b=!Fw.test(a?a.toLowerCase():"");c=b}return c}function Pw(a){return a.sa?a.sa.readyState:0}f.getStatus=function(){try{return 2<Pw(this)?this.sa.status:-1}catch(a){return-1}};
function Rk(a){if(a.sa)return Ce(a.sa.responseText)}function Qk(a){try{if(!a.sa)return null;if("response"in a.sa)return a.sa.response;switch(a.P){case Ew:case "text":return a.sa.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.sa)return a.sa.mozResponseArrayBuffer}return null}catch(b){return null}};function Rw(a,b,c,d){xr.call(this);this.A=a||document.body;this.h=Xo(this.A);this.xa=!a;this.c=null;this.S="";this.g=[];this.l=[];this.T=this.ta=-1;this.w=!1;this.className="ac-renderer";this.D="ac-row";this.I="ac-active";this.F="ac-highlighted";this.G=b||null;this.wa=null!=d?d:!0;this.ha=!0;this.J=!1;this.qa=!!c;this.P=!1}n(Rw,xr);f=Rw.prototype;f.getElement=function(){return this.c};f.Cm=function(a,b,c){this.S=b;this.g=a;this.ta=-1;this.T=wa();this.o=c;this.l=[];Sw(this)};
f.ee=function(){this.w&&(this.w=!1,Tw(this,!1),S.aa(this.c,!1))};f.show=function(){this.w||(this.w=!0,Tw(this,!0),S.aa(this.c,!0))};function Tw(a,b){a.o&&(Jp(a.o,"haspopup",b),Jp(a.c,"expanded",b),Jp(a.o,"expanded",b),b?Jp(a.o,"owns",a.c.id):(a.o.removeAttribute("aria-owns"),Kp(a.o,null)))}f.Ra=function(){return this.w};
function Uw(a,b){var c=0<=b&&b<a.g.length?a.g[b]:void 0,d=0<=b&&b<a.l.length?a.l[b]:void 0;yr(a,{type:"rowhilite",DC:d,row:c?c.data:null})&&(0<=a.ta&&Hl(a.l[a.ta],[a.I,"active"]),a.ta=b,d&&(Fl(d,[a.I,"active"]),a.o&&Kp(a.o,d),S.Qx(d,a.c)))}f.Yf=function(a){if(-1==a)Uw(this,-1);else for(var b=0;b<this.g.length;b++)if(this.g[b].id==a){Uw(this,b);break}};
function Vw(a){if(!a.c){var b=a.h.Ph("DIV",{style:"display:none"});a.c=b;Fl(b,Sg(a.className).split(" "));Ip(b,"listbox");b.id=Qn(Pn.j());a.h.appendChild(a.A,b);Vm(b,"click",a.bp,!1,a);Vm(b,"mousedown",a.hp,!1,a);Vm(b,"mouseover",a.ip,!1,a)}}
function Sw(a){Vw(a);a.P&&(a.c.style.visibility="hidden");a.ka&&(a.c.style.minWidth=a.ka.clientWidth+"px");a.l.length=0;a.h.It(a.c);if(a.G&&a.G.render)a.G.render(a,a.c,a.g,a.S);else{var b=null;u(a.g,function(a){a=Ww(this,a,this.S);this.P?this.c.insertBefore(a,b):this.h.appendChild(this.c,a);b=a},a)}0==a.g.length?a.ee():(a.show(),Xw(a),S.Ux(a.c))}function Xw(a){if(a.o&&a.xa){var b=a.R||a.o,c;c=a.qa?5:1;a.P&&(c^=1);Xv(b,c,a.c,c^1,null,null,65);a.P&&(a.c.style.visibility="visible")}}
f.X=function(){this.c&&(vq(this.c,"click",this.bp,!1,this),vq(this.c,"mousedown",this.hp,!1,this),vq(this.c,"mouseover",this.ip,!1,this),this.h.Jt(this.c),this.c=null,this.w=!1);Wd(this.Ca);this.A=null;Rw.m.X.call(this)};
function Yw(a,b,c){if(a.J||!a.ea)if(3==b.nodeType){var d=null;ia(c)&&1<c.length&&!a.J&&(d=Eh(c,1));c=Zw(a,c);if(0!=c.length){var e=b.nodeValue,g=a.ha?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(e),p=0;k;)p++,c.push(e.substring(h,k.index)),c.push(e.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(e);c.push(e.substring(h));if(1<c.length){d=a.J?p:1;for(e=0;e<d;e++)g=2*e,b.nodeValue=c[g],h=a.h.createElement("B"),h.className=a.F,a.h.appendChild(h,a.h.c.createTextNode(String(c[g+
1]))),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.h.c.createTextNode(""),h.nextSibling),b=h.nextSibling;b.nodeValue=Eh(c,2*d).join("");a.ea=!0}else d&&Yw(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Yw(a,b,c),b=d}
function Zw(a,b){var c="";if(!b)return c;ia(b)&&(b=rh(b,function(a){return!Rg(null==a?"":String(a))}));a.J?ia(b)?c=sh(b,fh).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=fh(c),c=c.replace(/ /g,"|")):ia(b)?c=0<b.length?fh(b[0]):"":/^\W/.test(b)||(c=fh(b));return c}function Ww(a,b,c){var d=a.h.Ph("DIV",{className:a.D,id:Qn(Pn.j())});Ip(d,"option");a.G&&a.G.oq?a.G.oq(b,c,d):Bp(d,b.data.toString());c&&a.wa&&(a.ea=!1,Yw(a,d,c));El(d,a.D);a.l.push(d);return d}
function $w(a,b){for(;b&&b!=a.c&&!Dl(b,a.D);)b=b.parentNode;return b?oh(a.l,b):-1}f.bp=function(a){var b=$w(this,a.target);0<=b&&yr(this,{type:"select",row:this.g[b].id});a.stopPropagation()};f.hp=function(a){a.stopPropagation();a.preventDefault()};f.ip=function(a){a=$w(this,a.target);0<=a&&!(300>wa()-this.T)&&yr(this,{type:"hilite",row:this.g[a].id})};function ax(a,b,c){this.R=a;this.h=b;this.c=c}ax.prototype.R=null;ax.prototype.render=function(a,b,c,d){b.style.maxWidth=this.R.clientWidth+"px";Om(c,function(c){c=Ww(a,c,d);b.appendChild(c)},this)};ax.prototype.oq=function(a,b,c){this.c?c.innerHTML=this.c(a,b,c):c.innerHTML=Tg(a.data.toString());a.data.key==this.h()?El(c,"wnd-ac-selected"):Gl(c,"wnd-ac-selected");a.data.empty&&El(c,"wnd-ac-empty")};function bx(a){xr.call(this);this.g=a||Xo();this.xa=cx;this.T=null;this.oe=!1;this.l=null;this.w=void 0;this.J=this.ha=this.A=null;this.fb=!1}n(bx,xr);bx.prototype.Xa=Pn.j();var cx=null;f=bx.prototype;f.getId=function(){return this.T||(this.T=Qn(this.Xa))};f.Ga=function(a){if(this.A&&this.A.J){Ze(this.A.J,this.T);var b=this.A.J;if(null!==b&&a in b)throw Error('The object already contains the key "'+a+'"');b[a]=this}this.T=a};f.getElement=function(){return this.l};
function dx(a){a.w||(a.w=new Rq(a));return a.w}f.getParent=function(){return this.A};f.pk=function(a){if(this.A&&this.A!=a)throw Error("Method not supported");bx.m.pk.call(this,a)};f.Qh=function(){this.l=this.g.createElement("DIV")};f.render=function(a){if(this.oe)throw Error("Component already rendered");this.l||this.Qh();a?a.insertBefore(this.l,null):this.g.c.body.appendChild(this.l);this.A&&!this.A.oe||this.Pf()};
f.po=function(a){if(this.oe)throw Error("Component already rendered");if(a&&this.Wn(a)){this.fb=!0;var b=Zo(a);this.g&&this.g.c==b||(this.g=Xo(a));this.aj(a);this.Pf()}else throw Error("Invalid element to decorate");};f.Wn=function(){return!0};f.aj=function(a){this.l=a};f.Pf=function(){this.oe=!0;ex(this,function(a){!a.oe&&a.getElement()&&a.Pf()})};f.Dg=function(){ex(this,function(a){a.oe&&a.Dg()});this.w&&this.w.removeAll();this.oe=!1};
f.X=function(){this.oe&&this.Dg();this.w&&(this.w.dispose(),delete this.w);ex(this,function(a){a.dispose()});!this.fb&&this.l&&sp(this.l);this.A=this.l=this.J=this.ha=null;bx.m.X.call(this)};f.B=function(){return this.l};f.gf=function(){null==this.xa&&(this.xa=S.gf(this.oe?this.l:this.g.c.body));return this.xa};function ex(a,b){a.ha&&u(a.ha,b,void 0)}
f.removeChild=function(a,b){if(a){var c=ka(a)?a:a.getId(),d;this.J&&c?(d=this.J,d=(null!==d&&c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){Ze(this.J,c);dg(this.ha,a);b&&(a.Dg(),a.l&&sp(a.l));c=a;if(null==c)throw Error("Unable to set parent component");c.A=null;bx.m.pk.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};function fx(a){this.c=gx();this.h=a||Xo()}function hx(a,b,c,d){var e=[a.c+"-btn"];d&&e.push(d);d=a.h.createElement("BUTTON");d.className=e.join(" ");d.appendChild(a.h.c.createTextNode(String(c)));b.appendChild(d)};function ix(a,b,c,d){bx.call(this,c);this.G=b||ge;this.gb=this.G.yb;b=ge;ge=this.G;this.W=new Xl("d");new Xl("dd");this.Fb=new Xl("w");this.qa=new Xl(fe.Rr||"y");this.hb=new Xl(fe.Sr||"MMMM y");ge=b;this.Ia=d||new fx(this.g);this.h=new xl(a);this.h.Ih=this.G.xb;this.h.He=this.G.wb;this.c=this.h.clone();this.c.c.setDate(1);this.R="      ".split(" ");this.R[this.G.Eb[0]]=gx()+"-wkend-start";this.R[this.G.Eb[1]]=gx()+"-wkend-end";this.I={};this.ta=[]}n(ix,bx);f=ix.prototype;f.Eq=!0;f.cn=new Pm(Qm,Rm);
f.rk=!0;f.Li=!0;f.Um=!0;f.Vm=!1;f.jj=null;f.ij=null;f.hj=null;f.ms=Pn.j();function gx(){return"goog-date-picker"}function jx(a){S.aa(a.ka,a.Um);S.aa(a.ea,a.Li);S.aa(a.ab,a.Um||a.Li)}f.hq=function(){this.c.add(new ql(sl,-1));kx(this);lx(this)};f.zp=function(){this.c.add(new ql(sl,1));kx(this);lx(this)};f.Cx=function(){this.c.add(new ql(rl,-1));kx(this);lx(this)};f.ou=function(){this.c.add(new ql(rl,1));kx(this);lx(this)};f.tq=function(){var a=new xl;mx(this,a,!0)};
f.sq=function(){this.Li&&mx(this,null,!0)};function mx(a,b,c){var d=b==a.h||b&&a.h&&b.getFullYear()==a.h.getFullYear()&&b.getMonth()==a.h.getMonth(),e=b==a.h||d&&b.getDate()==a.h.getDate();a.h=b&&new xl(b);b&&(b=a.h,a.c.c=new Date(b.getFullYear(),b.getMonth(),b.getDate()),a.c.c.setDate(1));kx(a);c&&yr(a,new nx("select",a));e||yr(a,new nx("change",a));d||lx(a)}
function ox(a){if(a.jj){for(var b=a.jj;b.firstChild;)b.removeChild(b.firstChild);var c=a.Ia,d=a.rk,e=a.G.vb[0].toLowerCase(),g;a.Vm?(e=c.h.createElement("TD"),e.colSpan=d?1:2,hx(c,e,"\u00ab",c.c+"-previousMonth"),b.appendChild(e),e=c.h.createElement("TD"),e.colSpan=d?6:5,e.className=c.c+"-monthyear",b.appendChild(e),e=c.h.createElement("TD"),hx(c,e,"\u00bb",c.c+"-nextMonth"),b.appendChild(e)):(d=c.h.createElement("TD"),d.colSpan=5,hx(c,d,"\u00ab",c.c+"-previousMonth"),hx(c,d,"",c.c+"-month"),hx(c,
d,"\u00bb",c.c+"-nextMonth"),g=c.h.createElement("TD"),g.colSpan=3,hx(c,g,"\u00ab",c.c+"-previousYear"),hx(c,g,"",c.c+"-year"),hx(c,g,"\u00bb",c.c+"-nextYear"),e.indexOf("y")<e.indexOf("m")?(b.appendChild(g),b.appendChild(d)):(b.appendChild(d),b.appendChild(g)));a.Vm?(px(a,b,gx()+"-previousMonth",a.hq),px(a,b,gx()+"-nextMonth",a.zp),a.ij=bp(gx()+"-monthyear",b)):(px(a,b,gx()+"-previousMonth",a.hq),px(a,b,gx()+"-nextMonth",a.zp),px(a,b,gx()+"-month",a.Yx),px(a,b,gx()+"-previousYear",a.Cx),px(a,b,gx()+
"-nextYear",a.ou),px(a,b,gx()+"-year",a.ay),a.P=bp(gx()+"-month",b),c=Xo(),b=bp(gx()+"-year",b||c.c),a.F=b)}}function px(a,b,c,d){b=bp(c,b);dx(a).H(b,"click",function(a){a.preventDefault();d.call(this,a)})}
function qx(a){if(a.hj){var b=a.hj;pp(b);var c=a.Ia,d=a.rk,e=c.h.createElement("TD");e.colSpan=d?2:3;e.className=c.c+"-today-cont";hx(c,e,"Today",c.c+"-today-btn");b.appendChild(e);e=c.h.createElement("TD");e.colSpan=d?4:3;b.appendChild(e);e=c.h.createElement("TD");e.colSpan=2;e.className=c.c+"-none-cont";hx(c,e,"None",c.c+"-none-btn");b.appendChild(e);px(a,b,gx()+"-today-btn",a.tq);px(a,b,gx()+"-none-btn",a.sq);a.ka=bp(gx()+"-today-btn",b);a.ea=bp(gx()+"-none-btn",b);jx(a)}}
f.aj=function(a){ix.m.aj.call(this,a);El(a,gx());var b=this.g.createElement("TABLE"),c=this.g.createElement("THEAD"),d=this.g.createElement("TBODY"),e=this.g.createElement("TFOOT");Ip(d,"grid");d.tabIndex="0";this.Ca=d;this.ab=e;var g=this.g.createElement("TR");g.className=gx()+"-head";this.jj=g;ox(this);c.appendChild(g);var h;this.o=[];for(var k=0;7>k;k++){g=this.g.createElement("TR");this.o[k]=[];for(var p=0;8>p;p++)h=this.g.createElement(0==p||0==k?"th":"td"),0!=p&&0!=k||p==k||(h.className=0==
p?gx()+"-week":gx()+"-wday",Ip(h,0==p?"rowheader":"columnheader")),g.appendChild(h),this.o[k][p]=h;d.appendChild(g)}g=this.g.createElement("TR");g.className=gx()+"-foot";this.hj=g;qx(this);e.appendChild(g);b.cellSpacing="0";b.cellPadding="0";b.appendChild(c);b.appendChild(d);b.appendChild(e);a.appendChild(b);rx(this);kx(this);a.tabIndex=0};f.Qh=function(){ix.m.Qh.call(this);this.aj(this.getElement())};
f.Pf=function(){ix.m.Pf.call(this);var a=dx(this);a.H(this.Ca,"click",this.Lt);a.H(sx(this,this.getElement()),"key",this.Mt)};f.Dg=function(){ix.m.Dg.call(this);this.zg();for(var a in this.I)this.I[a].dispose();this.I={}};f.create=ix.prototype.po;f.X=function(){ix.m.X.call(this);this.ea=this.ka=this.F=this.ij=this.P=this.hj=this.jj=this.ab=this.Ca=this.o=null};
f.Lt=function(a){if("TD"==a.target.tagName){var b,c=-2,d=-2;for(b=a.target;b;b=b.previousSibling,c++);for(b=a.target.parentNode;b;b=b.previousSibling,d++);a=this.ta[d][c];this.cn.contains(a)&&(a=a.clone(),mx(this,a,!0))}};
f.Mt=function(a){var b,c;switch(a.keyCode){case 33:a.preventDefault();b=-1;break;case 34:a.preventDefault();b=1;break;case 37:a.preventDefault();c=-1;break;case 39:a.preventDefault();c=1;break;case 38:a.preventDefault();c=-7;break;case 40:a.preventDefault();c=7;break;case 36:a.preventDefault(),this.tq();case 46:a.preventDefault();this.sq();break;case 13:case 32:a.preventDefault(),mx(this,this.h,!0);default:return}this.h?(a=this.h.clone(),a.add(new ql(0,b,c))):(a=this.c.clone(),a.c.setDate(1));this.cn.contains(a)&&
mx(this,a,!1)};f.Yx=function(a){a.stopPropagation();a=[];for(var b=0;12>b;b++)a.push(this.G.ob[b]);tx(this,this.P,a,this.Tt,this.G.ob[this.c.getMonth()])};f.ay=function(a){a.stopPropagation();a=[];for(var b=this.c.getFullYear(),c=this.c.clone(),d=-5;5>=d;d++)c.c.setFullYear(b+d),a.push(this.qa.format(c));tx(this,this.F,a,this.Xt,this.qa.format(this.c))};f.Tt=function(a){a=Number(a.getAttribute("itemIndex"));this.c.c.setMonth(a);kx(this);this.P.focus&&this.P.focus()};
f.Xt=function(a){3==a.firstChild.nodeType&&(a=Number(a.getAttribute("itemIndex")),this.c.c.setFullYear(this.c.getFullYear()+a-5),kx(this));this.F.focus()};
function tx(a,b,c,d,e){a.zg();var g=a.g.createElement("DIV");g.className=gx()+"-menu";a.S=null;for(var h=a.g.createElement("UL"),k=0;k<c.length;k++){var p=a.g.Ph("LI",null,c[k]);p.setAttribute("itemIndex",k);c[k]==e&&(a.S=p);h.appendChild(p)}g.appendChild(h);g.style.left=b.offsetLeft+b.parentNode.offsetLeft+"px";g.style.top=b.offsetTop+"px";g.style.width=b.clientWidth+"px";a.P.parentNode.appendChild(g);a.D=g;a.S||(a.S=h.firstChild);a.S.className=gx()+"-menu-selected";a.wa=d;b=dx(a);b.H(a.D,"click",
a.fp);b.H(sx(a,a.D),"key",a.gp);b.H(a.g.c,"click",a.zg);g.tabIndex=0;g.focus()}f.fp=function(a){a.stopPropagation();this.zg();this.wa&&this.wa(a.target)};
f.gp=function(a){a.stopPropagation();var b,c=this.S;switch(a.keyCode){case 35:a.preventDefault();b=c.parentNode.lastChild;break;case 36:a.preventDefault();b=c.parentNode.firstChild;break;case 38:a.preventDefault();b=c.previousSibling;break;case 40:a.preventDefault();b=c.nextSibling;break;case 13:case 9:case 0:a.preventDefault(),this.zg(),this.wa(c)}b&&b!=c&&(c.className="",b.className=gx()+"-menu-selected",this.S=b)};
f.zg=function(){if(this.D){var a=dx(this);a.Ac(this.D,"click",this.fp);a.Ac(sx(this,this.D),"key",this.gp);a.Ac(this.g.c,"click",this.zg);sp(this.D);delete this.D}};
function kx(a){if(a.getElement()){var b=a.c.clone();b.c.setDate(1);a.ij&&Bp(a.ij,a.hb.format(b));a.P&&Bp(a.P,a.G.ob[b.getMonth()]);a.F&&Bp(a.F,a.qa.format(b));var c=((b.getDay()+6)%7-b.He+7)%7;b.add(new ql(sl,-1));b.c.setDate(pl(b.getFullYear(),b.getMonth())-(c-1));c=new ql(tl,1);a.ta=[];for(var d=0;6>d;d++){a.ta[d]=[];for(var e=0;7>e;e++)a.ta[d][e]=b.clone(),b.add(c)}ux(a)}}
function ux(a){if(a.getElement())for(var b=a.c.getMonth(),c=new xl,d=c.getFullYear(),e=c.getMonth(),c=c.getDate(),g=0;6>g;g++){a.rk?(Bp(a.o[g+1][0],a.Fb.format(a.ta[g][0])),a.o[g+1][0].className=gx()+"-week"):(Bp(a.o[g+1][0],""),a.o[g+1][0].className="");for(var h=0;7>h;h++){var k=a.ta[g][h],p=a.o[g+1][h+1];p.id||(p.id=Qn(a.ms));Ip(p,"gridcell");var w=[gx()+"-date"];a.cn.contains(k)||w.push(gx()+"-unavailable-date");if(a.Eq||k.getMonth()==b){k.getMonth()!=b&&w.push(gx()+"-other-month");var v=(h+a.c.He+
7)%7;a.R[v]&&w.push(a.R[v]);k.getDate()==c&&k.getMonth()==e&&k.getFullYear()==d&&w.push(gx()+"-today");a.h&&k.getDate()==a.h.getDate()&&k.getMonth()==a.h.getMonth()&&k.getFullYear()==a.h.getFullYear()&&(w.push(gx()+"-selected"),Jp(a.Ca,"activedescendant",p.id));k=a.W.format(k);Bp(p,k)}else Bp(p,"");p.className=w.join(" ")}4<=g&&S.aa(a.o[g+1][0].parentElement||a.o[g+1][0].parentNode,a.ta[g][0].getMonth()==b||!0)}}function lx(a){var b=new nx("changeActiveMonth",a,a.c.clone());yr(a,b)}
function rx(a){if(a.getElement()){for(var b=0;7>b;b++)Bp(a.o[0][b+1],a.gb[((b+a.c.He+7)%7+1)%7]);S.aa(a.o[0][0].parentElement||a.o[0][0].parentNode,!0)}}function sx(a,b){var c=pa(b);c in a.I||(a.I[c]=new Er(b));return a.I[c]}function nx(a,b){Yd.call(this,a,b)}n(nx,Yd);function vx(a,b){xr.call(this);this.c=new Rq(this);var c=a||null;wx(this);this.Bd=c;b&&(this.Qg=b)}n(vx,xr);f=vx.prototype;f.Bd=null;f.ap=!0;f.ne=null;f.Yg=!1;f.bm=-1;f.Qg="toggle_display";f.getType=function(){return this.Qg};f.getElement=function(){return this.Bd};function wx(a){if(a.Yg)throw Error("Can not change this state of the popup while showing.");}f.Ra=function(){return this.Yg};
function xx(a,b){a.g&&pw(a.g);a.h&&pw(a.h);if(b){if(!a.Yg&&yr(a,"beforeshow")){if(!a.Bd)throw Error("Caller must call setElement before trying to show the popup");a.Kj();var c=Zo(a.Bd);if(a.ap)if(a.c.H(c,"mousedown",a.Kp,!0),Co){var d;try{d=c.activeElement}catch(g){}for(;d&&"IFRAME"==d.nodeName;){try{var e=d.contentDocument||d.contentWindow.document}catch(g){break}c=e;d=c.activeElement}a.c.H(c,"mousedown",a.Kp,!0);a.c.H(c,"deactivate",a.Jp)}else a.c.H(c,"blur",a.Jp);"toggle_display"==a.Qg?(a.Bd.style.visibility=
"visible",S.aa(a.Bd,!0)):"move_offscreen"==a.Qg&&a.Kj();a.Yg=!0;a.bm=wa();a.g?(uq(a.g,"end",a.Yp,!1,a),a.g.play()):a.Yp()}}else yx(a)}f.Kj=da;function yx(a,b){a.Yg&&yr(a,{type:"beforehide",target:b})&&(a.c&&a.c.removeAll(),a.Yg=!1,wa(),a.h?(uq(a.h,"end",ua(a.ho,b),!1,a),a.h.play()):a.ho(b))}f.ho=function(a){"toggle_display"==this.Qg?this.$t():"move_offscreen"==this.Qg&&(this.Bd.style.top="-10000px");yr(this,{type:"hide",target:a})};f.$t=function(){this.Bd.style.visibility="hidden";S.aa(this.Bd,!1)};
f.Yp=function(){yr(this,"show")};f.Kp=function(a){a=a.target;Ap(this.Bd,a)||zx(this,a)||150>wa()-this.bm||yx(this,a)};f.Jp=function(a){var b=Zo(this.Bd);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||Ap(this.Bd,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>wa()-this.bm||yx(this)};function zx(a,b){return uh(a.ne||[],function(a){return b===a||Ap(a,b)})}f.X=function(){vx.m.X.call(this);this.c.dispose();Wd(this.g);Wd(this.h);delete this.Bd;delete this.c;delete this.ne};function Ax(a,b){this.A=b||void 0;vx.call(this,a)}n(Ax,vx);Ax.prototype.getPosition=function(){return this.A||null};Ax.prototype.setPosition=function(a){this.A=a||void 0;this.Ra()&&this.Kj()};Ax.prototype.Kj=function(){if(this.A){var a=!this.Ra()&&"move_offscreen"!=this.getType(),b=this.getElement();a&&(b.style.visibility="hidden",S.aa(b,!0));this.A.c(b,8,this.o);a&&S.aa(b,!1)}};function Bx(a,b){bx.call(this,b);this.ld=a||new ix}n(Bx,bx);f=Bx.prototype;f.ld=null;f.zb=null;f.Wj=null;f.Qh=function(){Bx.m.Qh.call(this);this.getElement().className="goog-popupdatepicker";this.zb=new Ax(this.getElement());this.zb.pk(this)};f.Ra=function(){return this.zb?this.zb.Ra():!1};f.Pf=function(){Bx.m.Pf.call(this);if(!this.ld.oe){var a=this.getElement();a.style.visibility="hidden";S.aa(a,!1);this.ld.po(a)}dx(this).H(this.ld,"change",this.om).H(this.ld,"select",this.pm)};
f.X=function(){Bx.m.X.call(this);this.zb&&(this.zb.dispose(),this.zb=null);this.ld.dispose();this.Wj=this.ld=null};f.Wn=function(){return!1};function Cx(a){xx(a.zb,!1);a.Wj&&a.Wj.focus()}f.pm=function(a){Cx(this);yr(this,a)};f.om=function(a){yr(this,a)};function Dx(a,b){K.call(this);this.g=!1;var c=t.backendLanguage,d=le;"cz"==c?d=he:"da"==c?d=ie:"de"==c?d=je:"el"==c?d=ke:"en"==c||"en-us"==c?d=le:"es"==c?d=me:"fi"==c?d=ne:"fr"==c?d=oe:"hr"==c?d=pe:"hu"==c?d=qe:"it"==c?d=re:"ja"==c?d=se:"nl"==c?d=ue:"no"==c?d=ve:"pt"==c||"pt-br"==c?d=we:"ro"==c?d=Be:"ru"==c?d=xe:"sk"==c?d=ye:"sv"==c?d=ze:"uk"==c?d=Ae:"lv"==c&&(d=te);this.c=new Bx(new ix(null,d));this.A=!!a;this.h=[];this.o=b?b:Pf;this.init()}n(Dx,ji);f=Dx.prototype;
f.init=function(){this.c.render(Ex());El(this.c.getElement(),"wnd-base");var a=ip("i",{"class":"wnd-toolbox-arrow top",style:"visibility:visible;left:25px;"});this.c.zb.getElement().appendChild(a);var a=this.c.zb,b=this.A;wx(a);a.ap=b;a=this.c.ld;a.Um=!1;a.ka&&jx(a);a.rk=!1;ox(a);qx(a);kx(a);a.Eq=!1;ux(a);a.Vm=!0;ox(a);kx(a);a.Li=!1;a.ea&&jx(a);a.c.He=0;kx(a);rx(a);b=F(["ro"],t.backendLanguage);a.gb=b?a.G.Cb:a.G.yb;rx(a);a=new Rq(this);b=this.c.getElement();a.H(b,U,m(this.AA,this));a.H(b,eq,m(this.BA,
this));a.H(this.c,"change",m(this.zA,this))};f.zA=function(){if(!this.g){var a=this.c.ld,a=(a.h&&a.h.clone()).toString(),a=t.format[this.o].DATE.mask.replace("%Y",a.substr(0,4)).replace("%m",a.substr(4,2)).replace("%d",a.substr(6,2));this.notify("onChange",a)}};
f.show=function(a,b){var c=new xl;b&&(c=new xl(parseInt(b.substr(0,4),10),parseInt(b.substr(4,2),10)-1,parseInt(b.substr(6,2),10)));this.g=!0;if(a&&!F(this.h,a)){var d=this.c.zb;d.ne||(d.ne=[]);yh(d.ne,a)}mx(this.c.ld,c,!0);this.g=!1;c=this.c;c.Wj=a;c.zb.setPosition(new Zv(a,9,197));dx(c).Ac(c.ld,"change",c.om).Ac(c.ld,"select",c.pm);yr(c,"show");xx(c.zb,!0);c.getElement().focus();dx(c).H(c.ld,"change",c.om).H(c.ld,"select",c.pm)};
f.hide=function(){this.c.Dg();Cx(this.c);u(this.h,function(a){if(a){var b=this.c.zb;b.ne&&dg(b.ne,a)}},this);this.h=[]};f.AA=function(a){a.stopPropagation()};f.BA=function(a){a.stopPropagation()};f.Ra=function(){return this.c.Ra()};im("Firefox");var Fx=lm()||im("iPod"),Gx=im("iPad");!im("Android")||km()||im("Firefox")||jm()||im("Silk");km();var Hx=im("Safari")&&!(km()||im("Coast")||jm()||im("Edge")||im("Silk")||im("Android"))&&!(lm()||im("iPad")||im("iPod"));function Ix(a,b,c,d){Sd.call(this);d=d||150;this.A=null!=c?c:!0;this.o=a||",;";this.P=this.o.substring(0,1);a=this.A?"[\\s"+this.o+"]+":"[\\s]+";this.J=new RegExp("^"+a+"|"+a+"$","g");this.D=new RegExp("\\s*["+this.o+"]$");this.w=b||"";this.ta=this.A;this.g=0<d?new $v(d):null;this.h=new Rq(this);this.G=new Rq(this);this.l=new Er;this.M=-1}n(Ix,Sd);var Jx=(Fx||Gx)&&!Po("533.17.9");f=Ix.prototype;f.Rk=null;f.nb=null;f.dm="";f.qf=!1;f.Gm=!1;f.getValue=function(){return this.nb.value};
f.fs=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];yp(c)&&Jp(c,"haspopup",!0);this.h.H(c,"focus",this.cp);this.h.H(c,"blur",this.Kt);if(!this.nb&&(this.G.H(c,"keydown",this.cw),yp(c))){var d;a:{var e=Zo(c);try{d=e&&e.activeElement;break a}catch(g){}d=null}d==c&&Kx(this,c)}}};f.X=function(){Ix.m.X.call(this);null!=this.Rk&&window.clearTimeout(this.Rk);this.h.dispose();delete this.h;this.G.dispose();this.l.dispose();Wd(this.g)};
function Lx(a,b){switch(b.keyCode){case 40:if(a.c.c.Ra()){Mx(a.c);b.preventDefault();return}if(!a.A){a.update(!0);b.preventDefault();return}break;case 38:if(a.c.c.Ra()){a:for(var c=a.c,d=c.A,e=0;e<c.g.length;e++){if(d>c.h)d--;else break;if(c.Yf(d))break a}b.preventDefault();return}break;case 9:if(!a.c.c.Ra()||b.o)a.c.ee();else if(a.update(),Nx(a.c)&&a.ta){b.preventDefault();return}break;case 13:if(a.c.c.Ra()){if(a.update(),Nx(a.c)){b.preventDefault();b.stopPropagation();return}}else a.c.ee();break;
case 27:if(a.c.c.Ra()){a.c.ee();b.preventDefault();b.stopPropagation();return}break;case 229:if(!a.qf){a.qf||(a.h.H(a.nb,"keyup",a.Rp),a.h.H(a.nb,"keypress",a.Qp),a.qf=!0);return}}Ox(a,b)}function Ox(a,b){var c=a.A&&b.A&&-1!=a.o.indexOf(String.fromCharCode(b.A));c&&a.update();c&&Nx(a.c)&&b.preventDefault()}f.Pt=function(){return!1};f.cp=function(a){Kx(this,a.target||null)};
function Kx(a,b){a.G.removeAll();a.c&&Px(a.c);b!=a.nb&&(a.nb=b,a.g&&(aw(a.g),a.h.H(a.g,"tick",a.Zp)),a.dm=a.getValue(),Fr(a.l,a.nb),a.h.H(a.l,"key",a.Sp),a.h.H(a.nb,"mousedown",a.Lr),Co&&a.h.H(a.nb,"keypress",a.Op))}f.Kt=function(){Jx?this.Rk=window.setTimeout(m(this.iq,this),0):this.iq()};
f.iq=function(){this.nb&&(this.h.Ac(this.l,"key",this.Sp),Lr(this.l),this.h.Ac(this.nb,"keyup",this.Pt),this.h.Ac(this.nb,"mousedown",this.Lr),Co&&this.h.Ac(this.nb,"keypress",this.Op),this.qf&&Qx(this),this.nb=null,this.g&&(bw(this.g),this.h.Ac(this.g,"tick",this.Zp)),this.c&&Rx(this.c))};f.Zp=function(){this.update()};f.cw=function(a){this.cp(a)};f.Sp=function(a){this.M=a.keyCode;this.c&&Lx(this,a)};f.Qp=function(){this.qf&&229!=this.M&&Qx(this)};
f.Rp=function(a){this.qf&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Qx(this)};f.Lr=function(){};function Qx(a){a.qf&&(a.qf=!1,a.h.Ac(a.nb,"keypress",a.Qp),a.h.Ac(a.nb,"keyup",a.Rp))}f.Op=function(a){Ox(this,a)};f.update=function(a){if(this.nb&&(a||this.getValue()!=this.dm)){if(a||!this.Gm)a=Sx(this),this.c&&(this.c.J=this.nb,Tx(this.c,a,this.getValue()));this.dm=this.getValue()}this.Gm=!1};
function Sx(a){var b=Lp(a.nb)[0],c=a.getValue(),b=Ux(a,c)[Vx(a,c,b)];return a.J?String(b).replace(a.J,""):b}function Vx(a,b,c){a=Ux(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}
function Ux(a,b){if(!a.A)return[b];for(var c=String(b).split(""),d=[],e=[],g=0,h=!1;g<c.length;g++)a.w&&-1!=a.w.indexOf(c[g])?(h||(d.push(e.join("")),e.length=0),e.push(c[g]),h=!h):h||-1==a.o.indexOf(c[g])?e.push(c[g]):(e.push(c[g]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function Wx(a,b,c,d,e,g){xr.call(this);this.c=new Rw(null,new ax(a,c,d));this.c.ka=a;g&&(this.c.ha=!1,this.c.J=!0);this.c.className="wnd-base wnd-ac-renderer";this.c.D="wnd-ac-row";this.c.I="wnd-ac-active";this.c.F="wnd-ac-highlighted";this.G=new Ix(null,null,!1,1);this.G.c=this;this.G.fs(a);!0===e?(this.Cg=new Ba("","\u00a0"),this.Cg.empty=!0):ka(e)&&(this.Cg=new Ba("",e),this.Cg.empty=!0);this.w=b;this.P=a;Vm(this.c,[Xx,Yx,Zx,$x],this.handleEvent,!1,this);this.o=null;this.g=[];this.A=-1;this.h=
0;this.l=this.J=null;this.ta={}}n(Wx,xr);var Xx="hilite",Yx="select",$x="dismiss",Zx="canceldismiss";f=Wx.prototype;f.Cg=null;function Tx(a,b,c,d){d=d||!1;if(!1!==d||a.o!=b)yr(a,"suggestionsfind"),a.o=b,a.w.ik(a.o,10,m(a.BB,a,d),c,d),Px(a)}
f.Cm=function(a,b){this.Cg&&""==this.o&&a.unshift(this.Cg);var c="object"==fa(b)&&b,d=(c?c.tC():b)?ay(this,this.A):-1;this.h+=this.g.length;this.g=a;for(var e=[],g=0;g<a.length;++g)e.push({id:this.h+g,data:a[g]});g=null;this.J&&(g=this.ta[pa(this.J)]||this.J);this.c.R=g;this.c.Cm(e,this.o,this.J);g=!0;c&&void 0!==c.nt()&&(g=c.nt());this.A=-1;(g||0<=d)&&0!=e.length&&this.o&&(0<=d?this.Yf(this.h+d):Mx(this));yr(this,"suggestionsupdate")};
f.handleEvent=function(a){if(a.target==this.c)switch(a.type){case Xx:this.Yf(a.row);break;case Yx:var b=!1;if(ma(a.row)){a=a.row;var c=this.g[ay(this,a)],b=!!c&&l(this.w.g)&&this.w.g(c);c&&!b&&this.A!=a&&this.Yf(a)}b||Nx(this);break;case Zx:Px(this);break;case $x:Rx(this)}};function Mx(a){for(var b=a.h+a.g.length-1,c=a.A,d=0;d<a.g.length;d++){if(c>=a.h&&c<b)c++;else if(-1==c)c=a.h;else break;if(a.Yf(c))break}}
f.Yf=function(a){var b=ay(this,a),c=this.g[b];return c&&l(this.w.g)&&this.w.g(c)?!1:(this.A=a,this.c.Yf(a),-1!=b)};
function Nx(a){var b=ay(a,a.A);if(-1!=b){var c=a.g[b],d=a.G;if(d.nb){var e=c.toString();if(l(void 0)?0:d.A){var g=Vx(d,d.getValue(),Lp(d.nb)[0]),h=Ux(d,d.getValue());d.D.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.P);0==g||Rg(h[g-1])||(e=" "+e);g==h.length-1&&(e+=" ");if(e!=h[g]){h[g]=e;e=d.nb;(Fo||Co&&Po("9"))&&e.blur();e.value=h.join("");for(var k=0,p=0;p<=g;p++)k+=h[p].length;e.focus();g=k;h=d.nb;e=g;Mp(h)?h.selectionStart=e:Co&&(k=Np(h),p=k[0],p.inRange(k[1])&&(e=Op(h,e),p.collapse(!0),p.move("character",
e),p.select()));h=d.nb;Mp(h)?h.selectionEnd=g:Co&&(k=Np(h),e=k[1],k[0].inRange(e)&&(g=Op(h,g),h=Op(h,Lp(h)[0]),e.collapse(!0),e.moveEnd("character",g-h),e.select()))}}else d.nb.value=e;d.Gm=!0}a.ee();yr(a,{type:"update",row:c,index:b});return!0}a.ee();yr(a,{type:"update",row:null,index:null});return!1}f.ee=function(){this.A=-1;this.o=null;this.h+=this.g.length;this.g=[];window.clearTimeout(this.l);this.l=null;this.c.ee();yr(this,"suggestionsupdate");yr(this,$x)};
function Rx(a){a.l||(a.l=window.setTimeout(m(a.ee,a),100))}f.Kr=function(){return this.l?(window.clearTimeout(this.l),this.l=null,!0):!1};function Px(a){a.Kr()||window.setTimeout(m(a.Kr,a),10)}f.X=function(){Wx.m.X.call(this);delete this.ta;this.c.dispose();this.G.dispose();this.w=null};f.BB=function(a,b,c,d){!1===a&&this.o!=b||this.Cm(c,d)};function ay(a,b){var c=b-a.h;return 0>c||c>=a.g.length?-1:c};var by=null,cy=Fo||Go&&!Hx||Bo||"function"==typeof ca.btoa;function dy(a){if(!by){by={};for(var b=0;65>b;b++)by[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)}for(var b=by,c=[],d=0;d<a.length;d+=3){var e=a[d],g=d+1<a.length,h=g?a[d+1]:0,k=d+2<a.length,p=k?a[d+2]:0,w=e>>2,e=(e&3)<<4|h>>4,h=(h&15)<<2|p>>6,p=p&63;k||(p=64,g||(h=64));c.push(b[w],b[e],b[h],b[p])}return c.join("")};function ey(){xr.call(this);this.sa=new XMLHttpRequest}n(ey,xr);f=ey.prototype;f.Ha=!1;f.sa=null;f.send=function(a){if(!0===(null===this.sa))throw new Pa("XMLHttpRequest not getting initialized");this.sa.open("POST",a,!0);fy(this);this.sa.ontimeout=this.Hx.bind(this);this.sa.onerror=this.jq.bind(this);this.sa.onreadystatechange=this.jA.bind(this);try{this.sa.send(gy(this))}catch(b){this.jq(this)}this.Ha=!0};
function gy(a){for(var b,c=JSON.stringify(a.ph.getJSON()),d=a.ph.Kc,e=0;e<d.length;e++)if(d[e].getType()==za.FileUploadServerRequest.type){d=d[e];b=new FormData;b.append("transaction",c);b.append("file",d.h);a.sa.upload.onprogress=a.Gx.bind(a);break}b||(b="transaction="+encodeURIComponent(c),a.sa.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=utf-8"));return b}function fy(a){var b=new An;Bn(b,"Accept","**/*//*");Kn(b,function(a,b){this.sa.setRequestHeader(b,a)},a)}
f.jA=function(){if(1==this.sa.readyState)yr(this,{type:"progress",data:null});else if(4==this.sa.readyState&&!0===Le(this.sa.status)){this.Ha=!1;var a;try{var b="";a=b=JSON.parse(this.sa.responseText)}catch(c){yr(this,{type:"error",data:null});return}yr(this,{type:"success",data:a})}else 0<this.sa.status&&!1===Le(this.sa.status)&&yr(this,{type:"error",data:null})};f.Gx=function(a){yr(this,{type:"progress",data:{id:this.ph.getId(),requests:this.ph.Kc,event:a}})};
f.Hx=function(){this.Ha=!1;yr(this,{type:"complete",data:null});yr(this,{type:"timeout",data:null})};f.jq=function(a){this.Ha=!1;yr(this,{type:"complete",data:null});yr(this,{type:"error",data:a})};function hy(a){!1!==a.Ha&&(a.sa.onreadystatechange=da,a.sa.abort(),a.Ha=!1,yr(a,{type:"complete",data:null}),yr(a,{type:"abort",data:null}))}f.X=function(){hy(this);this.sa=null;this.Ha=!1};var iy=!Co;function jy(a,b,c){iy&&a.dataset?a.dataset[b]=c:a.setAttribute("data-"+kh(b),c)}function ky(a,b){return iy&&a.dataset?b in a.dataset?a.dataset[b]:null:a.getAttribute("data-"+kh(b))}function ly(a,b){return iy&&a.dataset?b in a.dataset:a.hasAttribute?a.hasAttribute("data-"+kh(b)):!!a.getAttribute("data-"+kh(b))};function my(a,b){K.call(this);this.sg=a;this.f=b;this.f.observe("onUpdate",this.gd,this)}n(my,K);f=my.prototype;f.pe=!0;f.$b=!1;f.bl=!0;f.Wg=function(){return this.pe};f.render=function(){this.$b&&!this.B()&&this.Nf();this.notify("onBeforeRenderContent");this.da();this.notify("onRender");this.Be();this.notify("onRenderContent")};f.bb=function(){return this.sg};f.B=function(){return this.c};
f.Dl=function(){var a={};!0===(null!=P(this.f,"extendCssClass"))&&(!1===oa(this.h)?this.h={"class":""}:!0===(null!=this.h["class"])&&(this.h["class"]+=" "),this.h["class"]+=P(this.f,"extendCssClass"));"object"==typeof this.h&&va(a,this.h);return a};f.Nf=function(){var a=this.Dl();this.c=ip("div",a);jy(this.B(),Fa.View.contentElementTypeAttr,this.f.ba());if(!this.bb())throw new Pa("Neexistuje baseElement bloku `"+this.f.C()+"`");a=this.B();this.bb().appendChild(a)};
f.X=function(){this.c&&sp(this.c);my.m.X.call(this)};f.show=function(){this.c&&(S.aa(this.c,!0),this.bl=!0)};f.hide=function(){this.c&&(S.aa(this.c,!1),this.bl=!1)};f.Ya=function(){return this.c?S.Uh(this.c):!1};f.gd=function(){0==this.f.l&&this.dc()};f.dc=function(){this.B()&&(this.notify("onBeforeRenderContent"),this.da(),this.notify("onRenderContent"))};f.N=function(){return{}};f.Be=function(){};f.Vg=function(){return this.bl};function ny(a,b){my.call(this,a,b);this.pe=!1;this.o=[]}n(ny,my);function oy(a,b,c){b=Um(b);if(null!=b){var d=!1;l(c)&&"wnd.pc.Section"===c?(c=b.querySelectorAll("img[class~=wnd-video-background]"),d=!0):c=b.getElementsByTagName("IMG");u(c,function(a){a.complete?this.w(a,d):Vm(a,"load",m(this.w,this,a,d))},a)}}
function py(a,b){var c=null;b&&(c=Um(b));c=$o(q.ImageSizeManager.backgroundClass,c);u(c,function(a){if(null!=a.style.backgroundImage&&!F(this.o,a)){var b=a.style.backgroundImage.slice(4,-1).replace(/"/g,"").replace(/'/g,""),c=new Tn(b),h=qy(c,0);c.c=h;c=c.toString();b!=c&&(this.o.push(a),a=m(this.R,this,a),Zq(Tq.j(),c,a))}},a)}ny.prototype.R=function(a,b){var c=a.cloneNode(!1);c.style.backgroundImage="url('"+b+"')";rp(c,a);setTimeout(m(this.F,this,c,a),q.ImageSizeManager.replaceTimeout)};
ny.prototype.F=function(a,b){dg(this.o,b);for(var c=b.firstChild,d=null;c;)d=c.nextSibling,a.appendChild(c),c=d;sp(b)};
ny.prototype.w=function(a,b){var c,d=0;c=a.clientWidth>a.clientHeight?a.clientWidth:a.clientHeight;c<=q.FilesystemPreviewSize.small?d=q.FilesystemPreviewSize.small:c>q.FilesystemPreviewSize.small&&c<=q.FilesystemPreviewSize.normal?d=q.FilesystemPreviewSize.normal:c>q.FilesystemPreviewSize.normal&&c<=q.FilesystemPreviewSize.detail&&(d=q.FilesystemPreviewSize.detail);c=d;var d=new Tn(a.getAttribute("src")),e;e=ly(a,"maxThumbnail")?(new Tn(ky(a,"maxThumbnail"))).c:qy(d,c);if(e!=d.c){d.c=e;if(!b&&(a.hasAttribute("width")||
a.hasAttribute("height"))){var g=a.hasAttribute("width")?parseInt(a.getAttribute("width"),10):a.naturalWidth,h=a.hasAttribute("height")?parseInt(a.getAttribute("height"),10):a.naturalHeight;g>h?(e=c,c=Math.round(c/g*h)):e=Math.round(c/h*g);a.hasAttribute("width")&&a.setAttribute("width",e);a.hasAttribute("height")&&a.setAttribute("height",c)}a.setAttribute("src",d.toString())}};
function qy(a,b){var c,d=a.c.substr(1).split("/");if(to(a)){c="/"+d[0]+"/";if(2==d.length&&0<b)return c+b+"/"+d[1];if(3==d.length&&b!=d[1])return c+(0<b?b+"/":"")+d[2]}else if(so(a)){for(c=[];"files"!==d[0];)c.push(d[0]),d.shift();c=c.join("/")+"/files/"+d[1]+"/"+d[2]+"/";if(qo(a.c)||4==d.length&&0<b)return c+d[3];if(5==d.length&&b!=d[3])return c+(0<b?b+"/":"")+d[4]}return a.c};function ry(a,b){my.call(this,a,b);this.pe=!1;this.Ue=null;this.Hb=[];this.R=[];this.F="";this.o={vimeo:{},youtube:{}};this.W=new Rq(this)}n(ry,my);var sy=null,ty=null,uy=!1,vy=!1;function wy(a){for(var b=xy(a),c=0;c<b.length;c++)if("IMG"===b[c].nodeName||"DIV"===b[c].nodeName)if(Xp)yy(b[c]);else if(ly(b[c],"video")&&(zy(a,b[c],Ay(b[c])),t.isCms&&null!=b[c])){var d=b[c];d.onended=function(){d.currentTime=0;d.pause()}}}
function yy(a){var b=parseInt(ky(a,"videoWidth"),10),c=parseInt(ky(a,"videoHeight"),10),d=By(b,c,a.parentNode.clientWidth,a.parentNode.clientHeight);"DIV"===a.nodeName&&ly(a,"src")?(b=ip("img",{src:ky(a,"src"),"class":d,"data-video-width":b,"data-video-height":c}),tp(b,a)):a.className=d}
function Ay(a){a.parentNode&&(a=a.parentNode);for(var b=0,c=0,d=a.offsetWidth,e=a.offsetHeight;a&&a!==document.body;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return.2<Math.max(0,Math.min(d,window.pageXOffset+window.innerWidth-b,b+d-window.pageXOffset))*Math.max(0,Math.min(e,window.pageYOffset+window.innerHeight-c,c+e-window.pageYOffset))/(d*e)}
function By(a,b,c,d){var e=q.VideoLoaderManager.className+" ",g=q.VideoLoaderManager.orientationClassName.landscape,h=q.VideoLoaderManager.orientationClassName.portrait;a=parseInt(a,10);b=parseInt(b,10);return e=a>b&&c>d||a<b&&c<d?d<Math.round(c*b/a)?e+g:e+h:c<Math.round(d*a/b)?e+h:e+g}
function zy(a,b,c){if(ly(b,"video")){var d=null,e=ky(b,"video"),g=b.src?b.src:"",h=parseInt(ky(b,"videoWidth"),10),k=parseInt(ky(b,"videoHeight"),10),p=By(h,k,b.parentNode.clientWidth,b.parentNode.clientHeight),w=Cy(b,h,k);-1!=e.indexOf("vimeo.com")?(ty||(c=mp("script"),c.src=q.VideoLoaderManager.videoApi.vimeo,document.head.appendChild(c),ty=c,a.W.H(c,"load",m(a.ox,a))),g={gn:p,ai:w,Zf:b,poster:g,width:h,height:k},vy?Dy(a,g):a.R.push(g)):-1!=e.indexOf("youtube.com")?(sy||(c=mp("script"),c.src=q.VideoLoaderManager.videoApi.youtube,
document.head.appendChild(c),sy=c,a.W.H(c,"load",m(a.rx,a))),g={gn:p,ai:w,Zf:b,poster:g,width:h,height:k},uy?Ey(a,g):a.Hb.push(g)):(a={src:e,poster:g,"class":p,"data-video-width":h,"data-video-height":k},c&&(a.autoplay=!0),t.isCms||(a.loop=!0),d=ip("video",a));d&&tp(d,b)}}
function Fy(a){!0!==t.isCms&&z(a.o,function(a,c){z(a,function(a,b){var g=null;switch(c){case "vimeo":g=a;break;case "youtube":g=a.getIframe()}if("hidden"!==g.style.visibility)if(null!=g.contentWindow)switch(g=Ay(g),c){case "vimeo":g=JSON.stringify({method:g?"play":"pause"});a.contentWindow.postMessage(g,"*");break;case "youtube":g?a.playVideo():a.pauseVideo()}else Ze(this.o[c],b),"youtube"===c&&a.destroy()},this)},a)}
function Gy(a){u(a.Ue,function(a){if(ly(a,"my_videos")){var c=Cy(a,a.width,a.height);S.setSize(a,c.width+"%",c.height+"%")}},a)}function Cy(a,b,c){a=S.oa(a.parentNode);b=a.width/b;c=a.height/c;var d=a=100;b<c?a=c/b*100:b>c&&(d=b/c*100);return new De(parseFloat(a.toFixed(2)),parseFloat(d.toFixed(2)))}f=ry.prototype;f.ox=function(){vy=!0;u(this.R,function(a){Dy(this,a)},this);this.R=[]};
function Hy(a){if(!a.F){var b=[];z({api:1,autoplay:1,autopause:0,badge:0,title:0,byline:0,portrait:0,loop:!t.isCms},function(a,d){b.push(d+"="+a)},a);a.F=b.join("&")}return a.F}
function Dy(a,b){var c=ky(b.Zf,"video"),c=c+"?"+Hy(a),c=ip("iframe",{src:c,width:b.width,height:b.height,"class":b.gn,"data-my_videos":"vimeo"}),d=Math.random().toString(36).substring(7);a.o.vimeo[d]=c;S.setSize(c,b.ai.width+"%",b.ai.height+"%");c.style.visibility="hidden";rp(c,b.Zf);a.W.H(c,"load",m(a.kw,a,d,b.Zf,ly(b.Zf,"videoSound"),Iy(b.Zf)))}f.kw=function(a,b,c,d){var e=this.o.vimeo[a];this.o.vimeo[a]&&(e.style.visibility="",sp(b),Jy(e,"setVolume",c?1:0),Jy(e,"seekTo",d))};
function Jy(a,b,c){b=JSON.stringify({method:b,value:c});a.contentWindow.postMessage(b,"*")}f.rx=function(){this.w=window.YT||{};this.w.hasOwnProperty("ready")&&this.w.ready(m(this.qx,this))};f.qx=function(){uy=!0;u(this.Hb,function(a){Ey(this,a)},this);this.Hb=[]};
function Ey(a,b){var c=b.Zf,d=ky(c,"video"),d=Tk(d).c.replace("/embed","").substr(1),e={rel:0,autoplay:1,controls:0,showinfo:0,modestbranding:1,iv_load_policy:3,start:Iy(c)};t.isCms||(e.loop=1,e.playlist=d);var g=ip("div",{"data-my_videos":"youtube","class":b.gn});S.setSize(g,b.ai.width+"%",b.ai.height+"%");tp(g,c);var h=d+Math.random().toString(36).substring(7),c=m(a.sx,a,h,ly(c,"videoSound"),Iy(c));a.o.youtube[h]=new a.w.Player(g,{height:b.height,width:b.width,videoId:d,playerVars:e,events:{onReady:c}})}
f.sx=function(a,b,c){a=this.o.youtube[a];b||a.mute();ma(c)&&a.seekTo(c,!0)};function Iy(a){var b=0;ly(a,"videoStart")&&(b=(b=ky(a,"videoStart"))?parseInt(b,10):0);return b}function xy(a){a.Ue=document.getElementsByClassName(q.VideoLoaderManager.className);return a.Ue};function Ky(a,b){my.call(this,a,b);this.$b=!0;this.w=this.o=null}n(Ky,my);Ky.prototype.Nf=function(){this.c=ip("div",{"class":(!0!==P(this.f,"asSibling")?"wnd-base ":"")+"wnd-dd-placeholder"})};
Ky.prototype.da=function(){var a=this.f.getId().replace(/\./g,"");if(!0===(null!=P(this.f,"sourceElement"))){var b=P(this.f,"sourceElement"),a=b.cloneNode(!0);0<b.offsetWidth&&(a.style.width=b.offsetWidth+"px");0<b.offsetHeight&&(a.style.height=b.offsetHeight+"px");a.style.margin="";!0===(null!=P(this.f,"floatElements"))&&qh(P(this.f,"floatElements"),function(a){a=a.cloneNode(!0);this.c.appendChild(a)},this)}else a=gs(Os,{la:a,text:P(this.f,"text")||""});this.c.appendChild(a);if(!0===yp(b)&&!0===
P(this.f,"asSibling")){var c=Ly(this,b);c&&(this.c.style.backgroundColor=c);S.setOpacity(a,r.DragDropPlaceholder.siblingPlaceholderOpacity);b.parentNode.appendChild(this.c)}else this.bb().appendChild(this.c);this.o=S.getBounds(this.B());!0===(null!=P(this.f,"limitingBlock"))&&(b=S.getBounds(P(this.f,"limitingBlock")),this.w=new Ym(b.top,b.left+b.width,b.top+b.height,b.left))};
function Ly(a,b){var c=[],c=S.getComputedStyle(b,"background-color"),d=b.parentNode;if("transparent"==c)return yp(d)?Ly(a,d):null;if(xm.test(Cm(c))||um(c).length||Rd&&Rd[c.toLowerCase()])c=tm(c);else{try{var e=Dm(c),g=Im(e.Nj,7,9),h=Im(e.Nj,0,7)}catch(k){return new Pa("Error: "+k.message+" Element: "+(b?b.outerHTML:"")),null}if(yp(d)){if("00"===g)return Ly(a,d);c=wm(h)}else return null}return Km(c[0],c[1],c[2],r.DragDropPlaceholder.backgroundOpacity)}
Ky.prototype.setPosition=function(a,b){var c=b,d=a;!0===(null!=this.o)&&!0===P(this.f,"asSibling")&&(c-=this.o.top,d-=this.o.left);var e=P(this.f,"placeholderDrag"),c=c-e.y,d=d-e.x;!0===(null!=this.w)&&!0===(null!=this.o)&&(-1<this.w.top&&-1<this.w.bottom&&(this.o.top+c<this.w.top?c=this.w.top-this.o.top:this.o.top+this.o.height+c>this.w.bottom&&(c=this.w.bottom-this.o.top-this.o.height)),-1<this.w.left&&-1<this.w.right&&(this.o.left+this.o.width+d>this.w.right?d=this.w.right-this.o.left-this.o.width:
this.o.left+d<this.w.left&&(d=this.w.left-this.o.left)));S.setPosition(this.B(),d,c)};function My(a,b){my.call(this,a,b);this.$b=!0;this.h={"class":"wnd-form-item"};this.xf=this.F=this.R=null;this.o=Ts;this.Hb=null}n(My,my);f=My.prototype;f.gd=function(a,b,c){"data_updated"==b&&this.getValue()===N(this.f,"value")||My.m.gd.call(this,a,b,c)};f.da=function(){null!=this.R&&sp(this.R);this.R=gs(this.o,this.N());this.ei();this.xk();this.B().appendChild(this.R)};f.ei=function(){this.F=this.R.querySelector('[id="'+P(this.f,"id")+'"]')};f.Ta=function(){return this.F};f.getValue=function(){return this.Ta().value};
f.Uc=function(a){this.Ta().value=a};f.vn=function(a){this.Ta().disabled=a};f.Wg=function(){return!!P(this.f,"initRenderFlag")};
f.xk=function(){var a="wnd-form-item";null!=P(this.f,"extendCssClass")&&(a+=" "+P(this.f,"extendCssClass"));this.B().className=a;a=null;switch(P(this.f,"state")){case Ny:a="wnd-form-item-active";break;case Oy:a="wnd-form-item-error";break;case Py:a="wnd-form-item-length-notice";break;case Qy:a="wnd-form-item-length-warning";break;case ej:a="wnd-form-item-disable"}null!=a&&El(this.B(),a)};f.Tk=function(a,b){if(this.F){var c={text:a};b&&(c.vd=b);this.xf=Tr(Us,c);rp(this.xf,this.F)}};
function Ry(a){P(a.f,"tooltip")&&!a.Hb&&(a.Hb=bp("wnd-form-item-tooltip",a.B()));return a.Hb}function Sy(a){var b=Ry(a);z(Ta,function(a){Gl(b,a)},a)}function Ty(){return r.FormItem.tooltip.offset}
f.N=function(){var a={id:P(this.f,"id"),name:P(this.f,"name"),value:N(this.f,"value"),disabled:P(this.f,"state")==ej,label:P(this.f,"label"),oc:!!P(this.f,"hideLabel"),fc:!!P(this.f,"showIcon"),rb:P(this.f,"tooltip"),hint:P(this.f,"hint"),css:P(this.f,"css"),placeholder:P(this.f,"placeholder")},b=P(this.f,"validateArgs");b&&b.max&&(a.maxLength=b.max);return a};function Uy(a,b){My.call(this,a,b);this.qh=this.M=this.W=this.F=this.w=null}n(Uy,My);Uy.prototype.da=function(){null!=this.w&&sp(this.w);this.w=Tr(Zs,this.N());this.F=this.w.querySelector(".wnd-form-ac-control");this.W=this.w.querySelector(".wnd-form-ac-select");this.M=this.w.querySelector(".wnd-form-ac-select input");this.qh=this.w.querySelector(".wnd-form-ac-select i");this.M.setAttribute("autocomplete","off");this.B().appendChild(this.w)};
Uy.prototype.N=function(){var a=Uy.m.N.call(this);a.placeholder=P(this.f,"placeholder");a.readOnly=!!P(this.f,"readOnly");return a};function Vy(a,b){R(a.W,"wnd-ac-open",b)}function Wy(a,b){R(a.W,"wnd-ac-busy",b)}Uy.prototype.vn=function(a){this.M.disabled=a};Uy.prototype.jd=function(){return this.M.value};function Xy(a,b){My.call(this,a,b);this.o=Ms}n(Xy,My);Xy.prototype.N=function(){var a=Xy.m.N.call(this);a.label=P(this.f,"label");a.type=P(this.f,"type");return a};function Yy(a,b){My.call(this,a,b);this.o=$s;this.Ia=null}n(Yy,My);f=Yy.prototype;f.da=function(){Yy.m.da.call(this);this.Rd()};f.ei=function(){Yy.m.ei.call(this);this.Ia=bp("wnd-form-item-hint",this.R)};f.N=function(){var a=Yy.m.N.call(this);a.value=Number(a.value);a.checked=P(this.f,"checked");var b=P(this.f,"hint");null!=b&&(a.hint=b);b=P(this.f,"hintByValue");null!=b&&b[a.value]&&(a.hint=b[a.value]);return a};f.getValue=function(){return parseInt(this.Ta().value,10)};
f.Cd=function(){return kj(this.f)?!this.Ta().checked:this.Ta().checked};f.Uc=function(a){Yy.m.Uc.call(this,a);if(null!=this.Ia){var b=P(this.f,"hintByValue");null!=b&&b[a]&&(this.Ia.innerText=b[a])}};f.Rd=function(){var a=null!=N(this.f,"value")?N(this.f,"value"):0;ka(a)&&(a=parseInt(a,10));la(a)&&(a=a&1);this.Uc(a);this.Ta().checked=kj(this.f)?0===a:1===a};function Zy(a,b){My.call(this,a,b);this.o=at}n(Zy,My);Zy.prototype.N=function(){var a=Zy.m.N.call(this);a.value&&(a.value=$y(a.value));return a};Zy.prototype.Uc=function(a){this.Ta().value=$y(a)};function $y(a){var b;/[0-9]{14}/.test(a)?(b=new Of,(a=a.toString())?(a=a.toString(),b=Rf(b,a).replace("%Y",a.substr(0,4)).replace("%m",a.substr(4,2)).replace("%d",a.substr(6,2)).replace("%H",a.substr(8,2)).replace("%M",a.substr(10,2))):b=""):b=a;return b};function az(a,b){My.call(this,a,b);this.o=it}n(az,My);function bz(a,b){My.call(this,a,b);this.o=Lt}n(bz,My);bz.prototype.Uc=function(a){this.Ta().value=null!=a?a:""};function cz(a,b){My.call(this,a,b);this.o=au}n(cz,My);cz.prototype.N=function(){var a=cz.m.N.call(this),b=P(this.f,"checked");a.checked=na(b)?b():b;b=P(this.f,"moreInfo");null!=b&&(a.mu={link:b.link,text:b.text});return a};cz.prototype.Cd=function(){return this.Ta().checked};function dz(a,b){My.call(this,a,b);this.o=bu}n(dz,My);dz.prototype.N=function(){var a=dz.m.N.call(this);a.options=P(this.f,"options");a.className=P(this.f,"className");return a};function ez(a,b){My.call(this,a,b);this.o=hu}n(ez,My);function fz(a,b){My.call(this,a,b);this.o=iu;this.vh=null}n(fz,My);fz.prototype.da=function(){fz.m.da.call(this);this.vh=this.B().querySelector("output")};fz.prototype.N=function(){var a=fz.m.N.call(this);a.min=P(this.f,"min");a.max=P(this.f,"max");a.step=P(this.f,"step");return a};function gz(a,b){My.call(this,a,b);this.o=Bu;this.w=null}n(gz,My);gz.prototype.da=function(){gz.m.da.call(this);this.w=this.B().querySelector(".wnd-form-upload-text")};gz.prototype.Me=function(){return this.w};function hz(a,b){my.call(this,a,b);this.w=this.R=this.W=this.F=this.o=null}n(hz,my);f=hz.prototype;f.gd=function(a,b,c){this.wg();null!=c&&c.hasOwnProperty("private_access")&&R(this.B(),P(this.f,"css")["item-locked"],1===N(this.f,"private_access"))};
f.da=function(){var a=this.f.getData(),b=P(this.f,"css"),a=Ml(a.name),c=this.f.C(),d=P(this.f,"css").item;1===N(this.f,"private_access")&&(d+=" "+P(this.f,"css")["item-locked"]);this.c=gs(At,{name:a,id:c,css:d,cssText:b["item-text"],ll:b["item-icons"],kl:b["item-drop-top"],Qs:b["item-drop-bottom"]});this.W=this.c.querySelector("."+b["item-text"]);this.R=this.c.querySelector("."+b["item-text"]+" u span");this.w=this.c.querySelector("."+b["item-icons"]);this.o=this.c.querySelector("."+b["item-drop-top"]);
this.F=this.c.querySelector("."+b["item-drop-bottom"]);iz(this);jy(this.c,Fa.View.contentElementTypeAttr,this.f.ba());this.bb().appendChild(this.c)};f.Me=function(){return this.W};f.Ce=function(a){null!==this.R&&(this.R.innerHTML=Ml(a))};f.Je=function(){return this.o};f.vj=function(){return this.F};f.setActive=function(a){R(this.W,P(this.f,"css")["item-activated"],a)};
f.hh=function(a){if("top"===a)sp(this.o);else if("bottom"===a)sp(this.F);else if("all"===a){a=this.c.querySelectorAll("."+P(this.f,"css")["item-drop-top"]);for(var b=0,c=a.length;b<c;b++)sp(a[b]);a=this.c.querySelectorAll("."+P(this.f,"css")["item-drop-bottom"]);b=0;for(c=a.length;b<c;b++)sp(a[b])}};f.Ge=function(a){R(this.c,P(this.f,"css")["item-dragdrop-activated"],a)};
f.wg=function(){if(null!==this.o){var a=this.f.getData(),b=P(this.f,"firstLevel");a.x>b&&(a=a.x-b,b=S.getBounds(this.c),S.setStyle(this.o,"left",-(25*a)+"px"),S.setStyle(this.o,"width",b.width+25*a+"px"))}};
function iz(a){if(null!==a.w){var b=P(a.f,"css");l(b["icon-without-dd"])&&R(a.w,b["icon-without-dd"],!P(a.f,"enbaledDragDrop"));if(l(b["icon-unpublished"])){var c=a.w,b=b["icon-unpublished"];a=a.f;var d=L.j().get("project_info").getData().timeZone,e=new Date,d=new Date((new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())).getTime()+1E3*d.offset);a=[d.getFullYear(),("0"+(d.getMonth()+1)).substr(-2,2),("0"+d.getDate()).substr(-2,2),("0"+d.getHours()).substr(-2,
2),("0"+d.getMinutes()).substr(-2,2),("0"+d.getSeconds()).substr(-2,2)].join("")<N(a,"publish_date");R(c,b,a)}}};function jz(a,b){my.call(this,a,b);this.$b=!0;this.pe=!1;this.h={"class":"wnd-loading "+vj(this.f)}}n(jz,my);jz.prototype.N=function(){var a=jz.m.N.call(this),b=P(this.f,"text");null!=b&&(a.text=b);if(b=P(this.f,"contentSize")){var c="";100<=b&&200>=b?c+="normal":200<b&&(c+="large");b=c}else b="";a.className=b;a.type=vj(this.f);return a};jz.prototype.da=function(){var a=this.N();Qr(this.c,Ft,a);a=P(this.f,"height");l(a)&&S.setHeight(this.c,a);a=P(this.f,"width");l(a)&&S.setWidth(this.c,a)};function kz(a,b){my.call(this,a,b);this.$b=!0;var c=P(this.f,"type");this.h={"class":r.OverlayArea.className+(c&&r.OverlayArea[c+"ClassName"]?" "+r.OverlayArea[c+"ClassName"]:""),style:"display: none"}}n(kz,my);kz.prototype.show=function(){S.aa(this.B(),!0)};kz.prototype.da=function(){};kz.prototype.setZIndex=function(a){this.c.style.zIndex=a};function lz(a,b){my.call(this,a,b);this.pe=!1}n(lz,my);lz.prototype.dc=function(){this.notify("onBeforeRenderContent");this.da();this.notify("onRenderContent")};
lz.prototype.da=function(){var a=this.bb().getContext("2d"),b=r.CropImagePopup.cube.size,c=r.CropImagePopup.line.width,d=this.f.getPosition();a.setLineDash([]);a.fillStyle=this.f.md?r.CropImagePopup.cube.colorHover:r.CropImagePopup.cube.color;a.fillRect(d.x-b,d.y-b,2*b,2*b);a.lineWidth=c;a.strokeStyle=r.CropImagePopup.line.color;a.strokeRect(d.x-b,d.y-b,2*b,2*b)};function mz(a,b){my.call(this,a,b)}n(mz,my);f=mz.prototype;f.da=function(){var a,b;b=nz();P(this.f,"useTempDropStripes")&&0<b?(a=Um("wnd_temp_dropstripe_ddbox_"+b),b=Um("wnd_temp_dropstripe_stripe_"+b),t.tempDropStripesCounter--):b=a=null;a?(this.G=a,this.G.id=this.f.getId()):(this.G=mp("div"),this.G.className="wnd-base wnd-dropstripe-ddbox",this.G.id=this.f.getId(),this.bb().appendChild(this.G));b?(this.o=b,this.o.id=""):(this.o=mp("div"),this.o.className="wnd-base wnd-dropstripe-stripe",this.bb().appendChild(this.o))};
function nz(){if(!t.tempDropStripesCounter){var a=up(Um("wnd_temp_dropstripes_area"));t.tempDropStripesCounter=a.length/2}return t.tempDropStripesCounter}
f.X=function(){P(this.f,"useTempDropStripes")&&nz()?((this.G||this.o)&&t.tempDropStripesCounter++,this.G&&(this.G.id="wnd_temp_dropstripe_ddbox_"+t.tempDropStripesCounter,this.G.removeAttribute("style")),this.o&&(this.o.id="wnd_temp_dropstripe_stripe_"+t.tempDropStripesCounter,this.o.removeAttribute("style"))):(this.G&&this.G.parentNode.removeChild(this.G),this.o&&this.o.parentNode.removeChild(this.o));mz.m.X.call(this)};f.kd=function(){return this.Hi};
f.show=function(){this.o.style.visibility="visible";this.o.style.borderWidth="2px"};f.hide=function(){this.o.style.visibility="hidden";this.o.style.borderWidth="0"};function oz(a,b){my.call(this,a,b)}n(oz,mz);function pz(a,b){my.call(this,a,b)}n(pz,my);pz.prototype.gd=function(){};pz.prototype.da=function(){if(null===P(this.f,"soyTemplate"))throw new Pa("Missing SOY template.");var a=this.f.getData();this.c=gs(P(this.f,"soyTemplate").gu,{name:a.name,id:this.f.C(),css:P(this.f,"css").group});jy(this.c,Fa.View.contentElementTypeAttr,this.f.ba());this.bb().appendChild(this.c)};function qz(a,b){b?a.show():a.hide()};function rz(a,b){my.call(this,a,b);this.o=this.Ae=this.F=this.R=this.w=null}n(rz,my);f=rz.prototype;f.gd=function(){this.wg()};
f.da=function(){if(null===P(this.f,"soyTemplate"))throw new Pa("Missing SOY template.");var a=this.f.getData();this.c=gs(P(this.f,"soyTemplate").hu,{name:Ml(a.name),id:this.f.C(),css:this.Bn(),cssText:P(this.f,"css")["item-text"],ll:P(this.f,"css")["item-icons"],kl:P(this.f,"css")["item-drop-top"]});this.R=this.c.querySelector("."+P(this.f,"css")["item-text"]);this.F=this.c.querySelector("."+P(this.f,"css")["item-text"]+" u span");this.Ae=this.c.querySelector("."+P(this.f,"css")["item-icons"]);this.w=
this.c.querySelector("."+P(this.f,"css")["item-drop-top"]);jy(this.c,Fa.View.contentElementTypeAttr,this.f.ba());this.bb().appendChild(this.c);this.wg()};f.Bn=function(){var a=P(this.f,"css").item;P(this.f,"isRoot")&&(a+=" "+P(this.f,"css")["item-root"]);!P(this.f,"isRoot")&&(a+=" "+P(this.f,"css")["item-draggable"]);return a};
f.wg=function(){var a=this.f.getData(),b=P(this.f,"firstLevel");a.x>b&&(a=a.x-b,b=S.getBounds(this.c),S.setStyle(this.w,"left",-(25*a)+"px"),S.setStyle(this.w,"width",b.width+25*a+"px"))};f.Me=function(){return this.R};f.Ce=function(a){null!==this.F&&(this.F.innerHTML=Ml(a))};f.Je=function(){return this.w};f.setActive=function(a){R(this.Me(),P(this.f,"css")["item-activated"],a);null!=this.o&&R(this.o,P(this.f,"css")["item-activated"],a)};
function sz(a,b,c){R(a.Me(),P(a.f,"css")["item-descendants"],b);b||(c=!1);R(a.Me(),P(a.f,"css")["item-opened"],c)}f.hh=function(a){if("top"===a)sp(this.w);else if("all"===a){a=this.B().querySelectorAll("."+P(this.f,"css")["item-drop-top"]);for(var b=0,c=a.length;b<c;b++)sp(a[b])}};f.Ge=function(a){R(this.B(),P(this.f,"css")["item-dragdrop-activated"],a)};function tz(a,b,c){Ai.call(this,c);this.f=a;this.view=b;this.f.observe("onUpdate",this.Jb,this);this.f.observe("onChangeId",this.ak,this);this.view.observe("onRender",this.pa,this);this.view.observe("onBeforeRenderContent",this.bg,this);this.view.observe("onRenderContent",this.Ua,this);$i(this.f)&&this.kf();this.B()&&!1===this.view.Wg()&&this.O()}n(tz,Ai);f=tz.prototype;f.f=null;f.view=null;f.Rc=function(a,b){this.f.update(a,b)};f.bb=function(){return this.view.bb()};f.B=function(){return this.view.B()};
f.Ga=function(a){this.f.Ga(a)};f.getId=function(){return this.f.getId()};f.K=function(){return this.f.K()};f.Jb=function(a,b,c,d){this.K()!=Fa.mvc.DataType&&d&&(a=new zg("dataUpdate","parent_propagation",this.K(),this,this.getId()),c&&(a.A=c),this.ca(a))};f.ak=function(){};f.kf=function(){if(this.K()!=Fa.mvc.DataType){var a=new zg("dataCreate","parent_propagation",this.K(),this,this.getId());this.ca(a)}};f.pa=function(){this.notify("onViewRender")};f.show=function(){this.B()?this.view.show():this.view.render()};
f.hide=function(){this.view.hide();return!0};f.Ya=function(){return this.view.Ya()};f.X=function(){this.f.dispose();this.view.dispose();var a=I.j(),b=this.C();delete a.h[b];a.notify("onDisposeMVC",b);this.K()!==Fa.mvc.DataType&&(a=new zg("dataDelete","parent_propagation",this.K(),this,this.getId()),this.ca(a));tz.m.X.call(this)};f.ba=function(){return this.f.ba()};f.C=function(){return this.f.C()};function uz(a){return bg.j().get(a.f.ht)}f.kq=function(a){a.call(this);clearTimeout(this.P);this.P=0};
f.bg=function(){this.Za()};function vz(a,b){a.ad&&clearTimeout(a.ad);a.ad=setTimeout(b,100)}f.Ua=function(){this.O()};f.O=function(){this.c=new Rq(this)};f.Za=function(){this.c&&this.c.removeAll()};f.Vg=function(){return this.view.Vg()};f.ra=function(a){this.f.ra(a);return!0};function wz(a,b,c){tz.call(this,a,b,c);this.w=this.F=!1;this.l=new Er;this.D=null;this.xa=["validateEmail","validateGoogleAnalytics"]}n(wz,tz);var Ny="activeItem",ej="disableItem",Oy="errorItem",Py="lengthNoticeItem",Qy="lengthWARNINGItem";f=wz.prototype;f.Ta=function(){return this.view.Ta()};f.Tk=function(a,b){this.view.Tk(a,b)};f.getValue=function(){return this.view.getValue()};f.Mh=function(){return this.getValue()};f.getName=function(){return P(this.f,"name")};
function xz(a){return P(a.f,"state")}f.setState=function(a){xz(this)===ej&&a!==ej&&this.view.vn(!1);O(this.f,"state",a);a==ej?this.oi():this.view.xk();this.notify("onChangeState",a)};f.jc=function(a,b,c){Xi(this.f,a,b);xz(this)!==ej&&(c&&this.focus(!0),this.setState("defaultItem"));this.notify("onSetValue",this)};f.pa=function(a){wz.m.pa.call(this,a);this.w=!0};f.Ua=function(a){wz.m.Ua.call(this,a);a=P(this.f,"display");na(a)&&(a=a());la(a)&&(a?this.show():this.hide())};
f.hide=function(){this.reset();return wz.m.hide.call(this)};f.O=function(){wz.m.O.call(this);this.c.H(this.Ta(),"change",m(this.rf,this));this.c.H(this.Ta(),U,m(this.sf,this));this.c.H(this.Ta(),"focus",m(this.Lv,this));this.c.H(this.Ta(),"blur",m(this.lm,this));var a=Ry(this.view);a&&this.c.H(a,"mouseover",m(this.sw,this));Fr(this.l,this.Ta());this.c.H(this.l,"key",m(this.Hk,this))};
f.Hk=function(a){this.notify("onKey",this);a=m(this.un,this,a,this.getValue());F(this.xa,P(this.f,"validateType"))?(yz(this),this.D=setTimeout(a,r.FormItem.validationDelay)):requestAnimationFrame(a)};f.un=function(a,b){yz(this);(N(this.f,"value")||b||this.getValue())&&zz(this)};function zz(a){a.Wh()?Oy===xz(a)&&a.setState("defaultItem"):a.setState(Oy)}function yz(a){null!==a.D&&(clearTimeout(a.D),a.D=null)}
f.sw=function(){var a=this.view;if(Ry(a)){var b=Ry(a);Sy(a);var c=Ty(),d=a="",e=vp(b),a=S.getBounds(b),g=S.oa(e),e=S.df(e),h=a.top+a.height+c+g.height;if(!(e.bottom>h)){if(e.bottom<h&&e.top<a.top-(c+g.height))a="top";else{var d=Ty(),h=h=c=null,k=Ty();e.top<a.top+a.height+k-g.height?h="top":e.bottom>a.top-k+g.height&&(h="bottom");h&&(e.right>a.left+a.width+d+g.width?c="right":e.left<a.left-(d+g.width)&&(c="left"));d=c;a=h}d&&El(b,d);a&&El(b,a)}}};
f.Za=function(){wz.m.Za.call(this);null!==this.Ta()&&(this.c.removeAll(),Lr(this.l))};f.X=function(){wz.m.X.call(this);this.l.dispose()};f.rf=function(a){l(a)&&a.stopPropagation();Az(this)?(this.ce(),this.notify("onChange",this)):l(a)&&a.preventDefault()};f.sf=function(a){Az(this)?this.notify("onClick",this):(a.stopPropagation(),a.preventDefault())};f.Lv=function(){this.as();this.notify("onFocus",this)};f.lm=function(){xz(this)!=Oy&&this.setState("defaultItem");this.notify("onBlur",this)};
function Bz(a){return N(a.f,"value")!==a.getValue()}f.isEmpty=function(){return Rg(this.getValue())};function Cz(a){return Bz(a)&&!(ga(N(a.f,"value"))&&a.isEmpty())}function Dz(a){Xi(a.f,"value",a.getValue());a.notify("onSaveDataValue",a)}f.ce=function(){Cz(this)&&Ez(this)&&(Dz(this),this.ib()&&Fz(this.ib())&&this.ib().ra()&&null!=this.Ta()&&"INPUT"===this.Ta().nodeName&&this.Ta().blur())};f.as=function(){xz(this)!=Oy&&this.setState(Ny)};
f.ib=function(){if(this.getParent()instanceof Gz)return this.getParent();if(this.getParent()instanceof Hz)return this.getParent().ib()};f.focus=function(a,b){b?requestAnimationFrame(m(this.focus,this,a,!1)):(a&&this.Ta().select(),this.Ta().focus())};f.Zl=function(){return!1};f.Xd=function(){var a=P(this.f,"required");return na(a)?a():a};
f.Wh=function(){var a=!0;this.Xd()&&(a=!this.isEmpty());if(null!=P(this.f,"validateType")&&(null===P(this.f,"validatorDisabled")||!P(this.f,"validatorDisabled"))&&a&&!this.isEmpty()){var b=P(this.f,"validateType"),b=gg.j().get(b),c=P(this.f,"validateArgs");b.c(this.getValue(),P(this.f,"label"),c)||(a=b.h)}return a};f.oi=function(){this.view.dc()};f.Xl=function(){var a=!0,b=P(this.f,"isAccessible");null===b||(a=na(b)?!!b():!!b);return a};
function Az(a){var b=a.Xl();a.notify("onCheckAccess",a,b);return b}function Ez(a){return null===P(a.f,"disableAutosave")||!P(a.f,"disableAutosave")}f.reset=function(){Bz(this)&&(this.view.Uc(N(this.f,"value")),this.setState("defaultItem"),this.notify("onReset",this))};function I(){K.call(this);this.c={};this.h={}}n(I,K);ea(I);I.prototype.register=function(a,b,c,d){if("undefined"==typeof this.c[a])this.c[a]={Model:b,View:c,Controller:d};else throw new Pa("MVC triad `"+a+"` already registered");};
I.prototype.create=function(a,b,c,d,e){if("undefined"==typeof this.c[b])throw new Pa("MVC triad `"+b+"` hasn't been registered");if("undefined"!=typeof this.h[a])throw new Pa("MVC triad `"+a+"` was already instancied");e=new this.c[b].Model(a,b,e);c=new this.c[b].View(c,e);b=new this.c[b].Controller(e,c,d);this.h[a]={Model:e,View:c,Controller:b};c.Wg()&&c.render();this.notify("onCreateMVC",b);return b};
I.prototype.get=function(a){if("undefined"==typeof this.h[a])throw new Pa("MVC triad `"+a+"` hasn't been instancied");return this.h[a].Controller};function Ng(a,b){return"object"===typeof a.h[b]}function Zi(a,b,c){var d={};"undefined"!=typeof Iz[b]&&(d=bf(Iz[b]),c&&hf(d,m(a.g,a),c),Jz(d));d.type=b;return d}I.prototype.g=function(a,b,c){var d=a[b];"undefined"!=typeof c[d]&&(a[b]=c[d])};
function Jz(a){oa(a.refs)&&ia(a.refDataTypes)&&(z(a.refs,function(b,c){-1===a.refDataTypes.indexOf(c)&&delete a.refs[c]}),Ye(a.refs)&&delete a.refs,delete a.refDataTypes)};function Kz(a,b,c){tz.call(this,a,b,c);this.ha()}n(Kz,tz);Kz.prototype.ma=function(a){switch(a.getType()){case "contentMove":case "photoGalleryChange":a.c&&Lz(a.c.ba())&&oy(this.view,a.c.getId());break;case "resizeWindow":this.ha();break;case "sectionCreated":case "microTemplateCellCreated":a.c&&oy(this.view,a.c.getId());break;case "sectionBackgroundChange":a.c&&py(this.view,a.c.getId());break;case "pageBackgroundChange":py(this.view)}};
Kz.prototype.Y=function(a){if(a.c&&"content_items"==a.K())switch(a.getType()){case "dataCreate":this.Ka(a.c.getId(),a.c.ba());break;case "dataDelete":var b=a.c.getId();Lz(a.c.ba())&&cj()["delete"](b);break;case "dataUpdate":Lz(a.c.ba())&&oy(this.view,a.c.getId())}};Kz.prototype.ha=function(){var a=bj().getData();null!=a&&z(a,function(a){Lz(a.type)&&oy(this.view,a.id,a.type)},this);py(this.view)};Kz.prototype.Ka=function(a,b){Lz(b)&&cj().create({id:a,type:b})};
function Lz(a){return F(q.ImageSizeManager.allowTypes,a)}I.j().register("wnd.static.ImageSizeManager",aj,ny,Kz);function Mz(a,b,c){tz.call(this,a,b,c);this.ha()}n(Mz,tz);Mz.prototype.ha=function(){wy(this.view)};
Mz.prototype.ma=function(a){if("scrollWindow"==a.getType()||"resizeWindow"==a.getType()){for(var b=this.view.Ue,c=0;c<b.length;c++)!1===t.isCms&&"VIDEO"===b[c].nodeName&&(Ay(b[c])?b[c].paused&&b[c].play():b[c].paused||b[c].pause()),b[c].className=By(parseInt(ky(b[c],"videoWidth"),10),parseInt(ky(b[c],"videoHeight"),10),b[c].parentNode.clientWidth,b[c].parentNode.clientHeight);Fy(this.view)}"resizeWindow"!=a.getType()&&"contentChangeFinished"!=a.getType()||Gy(this.view)};
I.j().register("wnd.static.VideoLoaderManager",M,ry,Mz);function Nz(a,b,c){tz.call(this,a,b,c)}n(Nz,tz);Nz.prototype.setPosition=function(a,b){this.view.setPosition(a,b)};Nz.prototype.getPosition=function(){return S.wc(this.view.B())};I.j().register("wnd.ui.DragDropPlaceholder",M,Ky,Nz);function Oz(){K.call(this);this.M=new Wv;this.vc=new Xm;this.Fb=m(this.zi,this);this.S=null;this.Xa=[];this.T=!0;this.w={pageX:null,pageY:null};this.qa={};this.l=null;this.h=new $v(20);this.G=null;this.ad=m(this.he,this);this.Gc=m(this.Fe,this);this.Pc=m(this.Ag,this);this.xc=m(this.ej,this);this.bd=m(this.ye,this);this.xa=null;this.Gb=this.W=this.Na=0;Pz(this)}n(Oz,K);var Qz=null,Rz=!1;f=Oz.prototype;
f.init=function(){this.M.init();null===this.G&&(this.G=new Rq(this));Wp||(this.G.H(this.M,"dragstart",this.ad),this.G.H(this.M,"dragend",this.Gc),this.xa=new Er(document.body),this.G.H(this.xa,"key",m(this.CA,this)));this.G.H(this.h,"tick",m(this.vm,this));var a=S.getBounds(document.body);this.Na=a.top;this.W=a.width;this.Gb=a.height};f.CA=function(a){if(null!=Qz&&this===Qz){switch(a.keyCode){case 27:a.stopPropagation(),this.Fe(a),this.reset(),this.init()}this.notify("onKeyEvent",a)}};
f.Ka=function(a,b){this.M.Ka(a);if(Wp){var c=this.vc;c.h.add(a,this,c.c)}b&&(c=pa(b).toString(),ly(a,r.DragDrop.draggableElRefObjectAttr)||jy(a,r.DragDrop.draggableElRefObjectAttr,c),l(this.qa[c])||(this.qa[c]=b))};function Sz(a,b){var c=new Vv(b);null===a.G&&(a.G=new Rq(a));var d=a.M;d.ha.push(c);c.I=!0;d.D=!0;Wp||(a.Xa.push(c),a.G.H(c,"dragover",a.Pc),a.G.H(c,"dragout",a.xc),a.G.H(c,"drop",a.bd));Wp&&a.vc.c.add(b)}f.ye=function(){this.h.c&&bw(this.h)};f.Ag=function(){};f.ej=function(){};
f.he=function(a){Qz||Rz||(Qz=this,Vm(document.body,hq,this.Fb),this.notify("onDragstart",Tz(this,a)))};f.Fe=function(a){Qz=null;vq(document.body,hq,this.Fb);Uz(this);Pz(this);this.notify("onDragend",Tz(this,a))};
f.zi=function(a){var b=a.c;this.Vi(b.pageX,b.pageY);Wm(this,b);null===this.w.pageX&&null===this.w.pageY?this.w={pageX:b.pageX,pageY:b.pageY}:this.hb={Qa:{va:this.w.pageX>b.pageX?"left":"right",difference:this.w.pageX>b.pageX?this.w.pageX-b.pageX:b.pageX-this.w.pageX},lb:{va:this.w.pageY>b.pageY?"top":"down",difference:this.w.pageY>b.pageY?this.w.pageY-b.pageY:b.pageY-this.w.pageY},page:{x:b.pageX,y:b.pageY}};this.notify("onMouseMove",Tz(this,a))};
function Tz(a,b){if(ka(b.wo)||"key"===b.type)return b;var c;b.constructor==Tv?c={wo:b.type,Bb:b.Ys.element,ji:"object"===typeof b.uo?b.uo.element:null,Rs:new T(b.clientX,b.clientY),sc:null}:c={wo:b.type,Bb:b.currentTarget||b.target,ji:"object"===typeof b.tk?b.tk:null,Rs:new T(b.clientX,b.clientY),sc:null};var d;if(d=(d=ky(c.Bb,r.DragDrop.draggableElRefObjectAttr))?a.qa[d]:null)c.sc=d;return c}
f.reset=function(){Wp||(this.Xa=[]);this.qa={};Pv(this.M);this.M.ha=[];this.xa&&(this.xa.dispose(),this.xa=null);this.G&&(this.G.dispose(),this.G=null);this.h.c&&bw(this.h)};f.X=function(){this.reset();Oz.m.X.call(this)};
function Vz(a,b){if(a.T){b=b||{};null!=b.blockType||(b.blockType="general");var c="ddPlaceholder"+(b.blockType?b.blockType:"");if(null==a.S&&!Ng(I.j(),c)){if(b.realGrip&&null!=a.l&&l(b.sourceElement)){var d=S.wc(b.sourceElement),e=S.Zb(document);b.placeholderDrag=new T(parseInt(a.l.x-d.x+e.x,10),parseInt(a.l.y-d.y+e.y,10))}else b.placeholderDrag=new T(25,20);d=b;a.S=I.j().create(c,a.So(),document.body,null,{id:d.blockType,properties:d})}}}f.So=function(){return"wnd.ui.DragDropPlaceholder"};
function Wm(a,b){a.T&&null!==a.S&&a.S.setPosition(b.pageX,b.pageY)}function Uz(a){a.T&&null!==a.S&&(a.S.dispose(),a.S=null)}f.Xc=function(){return this.hb};function Pz(a){a.w={pageX:null,pageY:null};a.hb={Qa:{va:null,difference:0},lb:{va:null,difference:0},page:{x:0,y:0}}}
f.Vi=function(a,b){var c=S.Zb(document),d=c.x,c=c.y,e=window.innerWidth,g=window.innerHeight,h=r.DragDrop.scrollSensitivity;this.o=this.R=0;this.ab=a;this.fb=b;this.Xc().lb.difference>r.DragDrop.scrollOffset&&(b<this.Na+c+h?this.o=-r.DragDrop.scrollAmount:b>g+c-h&&(this.o=r.DragDrop.scrollAmount));this.W>e&&(a>e+d-h?this.R=r.DragDrop.scrollAmount:a<d+h&&(this.R=-r.DragDrop.scrollAmount));0===this.R&&0===this.o||this.h.c||aw(this.h);0===this.R&&0===this.o&&this.h.c&&bw(this.h)};
f.vm=function(){var a=S.Zb(document);window.scrollTo(a.x+this.R,a.y+this.o);0===a.x&&0===a.y||0!==this.o&&a.y+window.innerHeight-this.Na>=this.Gb||0!==this.R&&a.x+window.innerWidth>=this.W?bw(this.h):!0===this.T&&null!==this.S&&(this.ab+=this.R,this.fb+=this.o,this.S.setPosition(this.ab,this.fb))};function Wz(a,b,c){wz.call(this,a,b,c)}n(Wz,wz);Wz.prototype.ce=function(){};I.j().register("wnd.ui.ButtonFormItem",ij,Xy,Wz);function Xz(a,b,c){wz.call(this,a,b,c)}n(Xz,wz);f=Xz.prototype;f.Cd=function(){return this.view.Cd()};f.Rd=function(a){this.jc("value",a?1:0);this.view.Rd()};f.ce=function(){var a=this.Cd()?1:0;N(this.f,"value")!=a&&(this.view.Uc(a),Xi(this.f,"value",a),a=P(this.f,"beforeChangeAction"),"function"===typeof a&&a.call(this),!0===Fz(this.ib())&&this.ib().ra())};f.jc=function(a,b){b=Number(b);Xz.m.jc.call(this,a,b)};
f.getValue=function(){var a;if(a=null!=P(this.f,"realValues"))a=null!=P(this.f,"realValues")[this.view.getValue()];return a?P(this.f,"realValues")[this.view.getValue()]:this.view.getValue()};f.O=function(){Xz.m.O.call(this);this.c.H(this.B(),U,m(this.sf,this))};f.sf=function(a){var b=a.target;"A"===b.nodeName&&b.hasAttribute("href")||this.view.Ia&&b===this.view.Ia||("LABEL"===b.nodeName||"INPUT"===b.nodeName||"I"===b.nodeName&&Dl(b,"wnd-form-item-tooltip")?Xz.m.sf.call(this,a):this.Ta().click())};
I.j().register("wnd.ui.CheckboxFormItem",jj,Yy,Xz);function Yz(a,b,c){wz.call(this,a,b,c);this.I=new Of;this.g=new Dx(!0);this.g.observe("onChange",this.yA,this)}n(Yz,wz);f=Yz.prototype;f.yA=function(a,b){var c=parseInt(Qf(this.I,b),10);this.view.Uc(c);this.rf()};f.Mh=function(){var a=Yz.m.Mh.call(this);return a?$y(a):a};f.jc=function(a,b,c){b=mj(b);Yz.m.jc.call(this,a,b,c)};f.getValue=function(){return Qf(this.I,Yz.m.getValue.call(this))};
f.sf=function(a){Yz.m.sf.call(this,a);this.g.show(this.Ta(),this.getValue().toString());var b=this.g;(a=this.B())&&!F(b.h,a)&&(b=b.c.zb,b.ne||(b.ne=[]),yh(b.ne,a));this.Ta().focus()};f.tw=function(){var a=new xl;a.add(new ql(0,0,1,0,0,0));this.view.Uc(a.toString()+"000000");this.rf()};f.ma=function(a){Yz.m.ma.call(this,a);"onBeforePopupClose"===a.getType()&&"children_propagation"===a.h&&a.c===Zz(this.getParent())&&this.g.hide()};I.j().register("wnd.ui.DateFormItem",lj,Zy,Yz);function $z(a,b,c){wz.call(this,a,b,c)}n($z,wz);$z.prototype.jc=function(a,b){this.view.Uc(b);$z.m.jc.call(this,a,b)};I.j().register("wnd.ui.HiddenFormItem",nj,az,$z);function aA(a,b,c){wz.call(this,a,b,c)}n(aA,wz);I.j().register("wnd.ui.LongTextFormItem",oj,bz,aA);function bA(a,b,c){wz.call(this,a,b,c);this.F=!0;a=["wnd-radio-item"];b=P(this.f,"extendCssClass");null!=b&&a.push(b);O(this.f,"extendCssClass",a.join(" "))}n(bA,wz);bA.prototype.Zl=function(){return this.Cd()};bA.prototype.Cd=function(){return this.view.Cd()};bA.prototype.ce=function(){Bz(this)&&Fz(this.ib())&&this.ib().ra()};I.j().register("wnd.ui.RadioButtonFormItem",pj,cz,bA);function cA(a,b,c){wz.call(this,a,b,c)}n(cA,wz);I.j().register("wnd.ui.SelectBoxFormItem",qj,dz,cA);function dA(a,b,c){wz.call(this,a,b,c)}n(dA,wz);I.j().register("wnd.ui.ShortTextFormItem",rj,ez,dA);function eA(a,b,c){wz.call(this,a,b,c)}n(eA,wz);eA.prototype.O=function(){eA.m.O.call(this);this.c.H(this.Ta(),"change",this.g)};eA.prototype.g=function(){var a=this.getValue();this.view.vh.value=a};I.j().register("wnd.ui.SlideFormItem",sj,fz,eA);function fA(a,b,c){wz.call(this,a,b,c)}n(fA,wz);fA.prototype.ce=function(){this.view.Me().value=this.getValue();fA.m.ce.call(this)};I.j().register("wnd.ui.UploadFormItem",dj,gz,fA);function gA(a){Oz.call(this);this.A=a;this.J=this.P=this.c=null}n(gA,Oz);f=gA.prototype;f.init=function(){gA.m.init.call(this);hA(this.A)};f.he=function(a){gA.m.he.call(this,a);a=Tz(this,a);this.c=iA(this,a.Bb).mvc;jA(this.c,!1);this.reset();this.init();Qv(this.M);jA(this.c,!0)};
f.Ag=function(a){var b=Tz(this,a);a=iA(this,b.Bb);var b=iA(this,b.ji),c=b.position,d;if(!(d="bottom"!==c)){d=this.A;var e=kA(d,b.mvc.getId());d=!1!==(-1!==e&&e+1===d.w.length)}d&&(this.notify("onDragover",a.mvc,b.mvc,c),this.P=b.mvc,this.J=c,jA(this.c,!1),Qv(this.M),jA(this.c,!0))};f.ye=function(a){gA.m.ye.call(this,a);this.notify("onDrop",this.c,this.P,this.J);this.J=this.P=this.c=null;this.reset();this.init()};
f.Fe=function(a){gA.m.Fe.call(this,a);this.J=this.P=this.c=null;a=this.A;a.w=a.D;this.reset();this.init()};function iA(a,b){var c;c=a.A;var d=b.id;c=null!=c.g[c.F[d]]?{mvc:c.g[c.F[d]],position:"inner"}:null;null===c&&(c=a.A,d=b.id,c=null!=c.g[c.U[d]]?{mvc:c.g[c.U[d]],position:"top"}:null!=c.g[c.T[d]]?{mvc:c.g[c.T[d]],position:"bottom"}:null);return c};function lA(a,b,c){tz.call(this,a,b,c);this.l=this.g=!1}n(lA,tz);f=lA.prototype;f.Ha=function(){return this.g};f.O=function(){lA.m.O.call(this);this.c.H(this.view.Me(),U,this.SA)};f.SA=function(){if(this.g){var a=new H("listItemRefresh",this);this.ca(a)}else this.Wa()};f.Wa=function(){if(!this.Ha()){this.view.setActive(!0);this.g=!0;var a=new H("listItemActivate",this);this.ca(a)}};f.pb=function(){this.view.setActive(!1);this.g=!1};f.getName=function(){return N(this.f,"name")};
f.Ce=function(a){""===a&&(a=this.getName());this.view.Ce(a)};f.kf=function(){};f.Je=function(){return this.view.Je()};f.vj=function(){return this.view.vj()};f.hh=function(a){this.view.hh(a)};f.Ge=function(a){this.view.Ge(a)};f.Zc=function(){return t.listingsPrefix+N(this.f,"identifier")+"/"};function jA(a,b){b?a.view.show():a.view.hide()}f.Zh=function(a){Yi(this.f,a,!0);this.view.Ce(this.getName());iz(this.view)};
f.tl=function(a){a?eh(this.getName(),a)?(this.show(),this.l=!1):(this.hide(),this.l=!0):!this.Ya()&&this.l&&this.show()};I.j().register("wnd.ui.ListMenuItem",tj,hz,lA);function mA(a,b,c){tz.call(this,a,b,c)}n(mA,tz);var wj="default";I.j().register("wnd.ui.Loading",uj,jz,mA);function nA(a,b,c){tz.call(this,a,b,c)}n(nA,tz);f=nA.prototype;f.pa=function(a){nA.m.pa.call(this,a);this.setZIndex(r.OverlayArea.defaultZIndex)};f.show=function(){kr.j().pause();this.view.show()};f.hide=function(){tr(kr.j());this.dispose();this.notify("onHide",this);return!0};f.setZIndex=function(a){this.f.zIndex=a;this.view.setZIndex(a)};f.getZIndex=function(){return this.f.zIndex};f.O=function(){nA.m.O.call(this);this.c.H(this.B(),U,m(this.gB,this))};f.gB=function(){this.notify("onClick",this)};
I.j().register("wnd.ui.OverlayArea",xj,kz,nA);function oA(){K.call(this);this.c={}}n(oA,K);ea(oA);oA.prototype.get=function(a,b,c,d,e){c=this.Zc(a,c);l(this.c[c])||(this.c[c]=I.j().create(c,"wnd.ui.OverlayArea",b,null,{properties:{type:a}}),null!=e&&this.c[c].observe("onClick",e,this),null!=d&&this.c[c].setZIndex(d),this.c[c].observe("onHide",m(this.h,this),this));return this.c[c]};oA.prototype.Zc=function(a,b){return"wnd.ui.OverlayArea_"+a+(null!=b?"_"+b:"")};oA.prototype.h=function(a,b){b.ub&&delete this.c[b.C()]};function pA(a,b,c){wz.call(this,a,b,c);this.S=this.g=null;this.U=!1;Zz(this.ib()).observe("onClose",m(this.close,this),this);this.ib().observe("onHide",m(this.close,this),this);this.f.observe("onLoadAutocomplete",m(this.mA,this),this)}n(pA,wz);function qA(a){return!(!a.g||!a.g.c.Ra())}f=pA.prototype;f.close=function(){this.g&&qA(this)&&(this.g.ee(),Vy(this.view,!1),this.S=null,this.ac().hide(),cq=!1,tr(kr.j()))};
function rA(a){if(a.g&&!qA(a)){var b=a.g;Kx(b.G,b.P);var c=b.G,d=Sx(c);c.c&&(c.c.J=c.nb,Tx(c.c,d,c.getValue(),!0));c=S.Zb(document);d=S.getBounds(b.P);c=d.top+d.height+r.Autocomplete.selectHeight>window.innerHeight+c.y;b.c.P=c;!0===c&&Sw(b.c);Vy(a.view,!0);a.S=S.Zb(document);a.ac().show();kr.j().pause();cq=!0;a.focus(!0)}}
f.O=function(){pA.m.O.call(this);null!==this.view.M&&(this.c.H(this.view.qh,U,this.Bu,!1),this.c.H(this.view.M,U,this.Qw,!1),this.c.H(window,"scroll",this.nA,!1),this.g&&this.Mi(),Zz(this.ib())&&Zz(this.ib()).observe("onClose",m(function(){cq=!1},this),this))};f.Mi=function(){!1===l(this.c)&&this.O();this.c.H(this.g,["rowhilite",Xx,Yx,$x,Zx,"update","suggestionsupdate","suggestionsfind"],this.km,!1)};f.Za=function(){pA.m.Za.call(this);l(this.c)&&this.c.removeAll()};
f.km=function(a){switch(a.type){case $x:Wy(this.view,!1);Vy(this.view,!1);cq=!1;break;case "update":this.wm(a);break;case "suggestionsupdate":Wy(this.view,!1);Vy(this.view,qA(this));this.ac().hide();break;case "suggestionsfind":Wy(this.view,!0)}};f.Bu=function(a){a.stopPropagation();qA(this)?this.close():rA(this)};f.Qw=function(a){a.stopPropagation();a.preventDefault();P(this.f,"readOnly")?(qA(this)?this.close():rA(this),aq&&this.view.M.blur()):this.focus(!0)};
f.nA=function(a){a.stopPropagation();a.preventDefault();null!=this.g&&this.g.c.Ra()&&null!=this.S&&window.scrollTo(this.S.x,this.S.y);return!1};f.wm=function(a){a.row&&(this.f.R=a.row,this.view.M.value=this.f.ke(),a=this.f,this.view.Uc(a.R?a.R.key:null),this.rf(),this.view.M.blur(),this.Ta().focus())};f.focus=function(a){!0===a&&this.view.M.select();this.view.M.focus()};f.pa=function(a){pA.m.pa.call(this,a);this instanceof sA||tA(this)};
function tA(a){var b;P(a.f,"remote")?(b=new Oi(P(a.f,"collection")),Wy(a.view,!0),Qi(b,a.getValue(),m(function(a){a&&(this.f.R=a,this.f.ke()&&(this.view.M.value=this.f.ke()));Wy(this.view,!1)},a))):(b=hj(a.f,a.getValue()),b=a.ko(b),a.f.ke()&&(a.view.M.value=a.f.ke()));a.g=new Wx(a.view.M,b,m(a.getValue,a),P(a.f,"rowCallback"),P(a.f,"emptyRow"),a.U)}f.ko=function(a){return new On(a,!0)};f.ke=function(){return this.f.ke()};f.oi=function(){this.view.render()};
f.ac=function(){var a=null;l(this.ib())&&l(Zz(this.ib()))&&(a=Zz(this.ib()).getZIndex()-1);return oA.j().get("Transparent",document.body,"autocomplete",a)};f.jd=function(){return this.view.jd()};f.mA=function(){tA(this);this.Mi();this.w=!0;this.ib().pi()};I.j().register("wnd.ui.AutoCompleteFormItem",fj,Uy,pA);function sA(a,b,c){pA.call(this,a,b,c);this.I=new og;this.T=new ig;this.Hf=!1;this.U=!0;this.ea=/^(?!https?:\/\/)(.+@)/;this.ka=/^tel:\+?([0-9\-])+$/}n(sA,pA);f=sA.prototype;f.pa=function(a){sA.m.pa.call(this,a);this.w=!1;this.f.Bf();P(this.f,"canWrite")&&(a=N(this.f,"value")?N(this.f,"value"):P(this.f,"defaultValue"),ka(a)&&0!==a.indexOf("/")&&(this.T.c(a,"")||this.I.c(a,"")||this.ka.test(a))&&(uA(this,!0),a=vA(this,a),this.view.M.value=a,this.w=!0))};
f.getValue=function(){var a=this.view.getValue().trim();0===a.indexOf("cms.")?a=a.substring(4):-1<a.indexOf("//cms.")&&(a=a.replace("//cms.","//"));if(!this.ea.test(a)){var b=a.toLowerCase();""!==b&&!1===this.Hf&&!1===/^\/.*\/$/.test(b)&&!1===this.I.c(b,"")&&-1===b.indexOf("http")?a="/"+a+"/":!0===this.I.c(b,"")&&-1===b.indexOf("http")&&0!==b.indexOf("/")&&(a="http://"+a)}return a};function vA(a,b){b=b||a.getValue();return b.replace(/^http:\/\/|^https:\/\/|^ftp:\/\/|^mailto:@/,"")}
f.Mi=function(){sA.m.Mi.call(this);P(this.f,"canWrite")&&(Fr(this.l,this.view.M),this.c.H(this.l,"key",m(this.Hk,this)),this.c.H(this.view.M,"paste",m(this.Hk,this)))};f.wm=function(a){sA.m.wm.call(this,a);this.notify("processUpdate",this.getValue());zz(this);uA(this,!1)};f.Hk=function(a){requestAnimationFrame(m(this.un,this,a,this.view.jd()))};
f.un=function(a,b){if(!this.ub){var c=this.view.jd(),d=r.ValidatorRegex.isLink.urlMailPhone.test(c.toLowerCase());d?(this.Hf||uA(this,!0),this.view.Uc(c)):!d&&this.Hf?(uA(this,!1),this.view.Uc("")):c||!this.getValue()||this.Hf||this.view.Uc("");this.notify("onKeyEvent",a);yz(this);this.D=setTimeout(m(this.Ts,this,b),r.FormItem.validationDelay)}};
f.Ts=function(a){yz(this);!N(this.f,"value")&&!a&&!this.view.jd()||a==this.view.jd()||P(this.f,"canBeEmpty")&&!this.view.jd()||(this.Hf?zz(this):xz(this)===Oy&&qA(this)?this.setState("defaultItem"):null!==xz(this)&&"defaultItem"!==xz(this)||qA(this)||this.setState(Oy))};function uA(a,b){if(a.Hf=b)a.f.R=null}f.ko=function(a){return new On(a,!0)};
f.Wh=function(){var a=sA.m.Wh.call(this);if((P(this.f,"canBeEmpty")||!this.Xd())&&this.isEmpty())return!0;var b=this.getValue(),c=P(this.f,"label");a&&(this.ea.test(b)?this.T.c(b,c)||(a=this.T.h):this.ka.test(b)?a=!0:this.I.c(b,c)||(a=this.I.h));return a};f.mc=function(){return P(this.f,"values")};f.km=function(a){sA.m.km.call(this,a);"suggestionsupdate"===a.type&&P(this.f,"validateContinuous")&&xz(this)===Oy&&qA(this)&&(yz(this),this.setState("defaultItem"))};
I.j().register("wnd.ui.LinkFormItem",Pl,Uy,sA);function wA(a,b,c){tz.call(this,a,b,c)}n(wA,tz);var zj="nw",Aj="ne",Bj="se",Cj="sw";wA.prototype.getPosition=function(){return this.f.getPosition()};wA.prototype.getSelection=function(){return this.f.getSelection()};I.j().register("wnd.ui.CropImageCube",yj,lz,wA);function xA(a,b,c){wz.call(this,a,b,c)}n(xA,Xz);xA.prototype.sf=function(a){var b=a.target;this.view.Ia&&b===this.view.Ia||(this.notify("changePrivateAccessTyp",this,a),xA.m.sf.call(this,a))};xA.prototype.ce=function(){Ez(this)&&xA.m.ce.call(this)};I.j().register("wnd.ui.PrivateAccessFormItem",jj,Yy,xA);function yA(a,b,c){tz.call(this,a,b,c)}n(yA,tz);f=yA.prototype;f.active=!1;f.init=function(a,b,c,d){this.view.Hi=a;this.view.xh=c;this.f.position=b;rm(this.f,this.view.xh,this.bb());this.f.Ve(this.kd(),this.bb(),d);om(this.f);qm(this.f)};f.getId=function(){return this.f.getId()};f.getPosition=function(){return this.f.position};f.kd=function(){return this.view.kd()};function Z(a){return a.f.h}f.Hc=function(){return this.f.Hc()};f.Od=function(){return this.f.Od()};function zA(a){return a.f.A}
function AA(a,b){var c=0;if(a.Hc()){var d=Z(a).top+Z(a).height,e=Z(b).top+Z(b).height;d<Z(b).top?c=Z(b).top-d:e<Z(a).top&&(c=Z(a).top-e)}else d=Z(a).left+Z(a).width,e=Z(b).left+Z(b).width,d<Z(b).left?c=Z(b).left-d:e<Z(a).left&&(c=Z(a).left-e);return c}
function BA(a,b){var c=Z(b),d=r.DropStripe.DDBoxInSameFlowLineOffset;return a.Hc()?Math.round(Math.max(Z(a).left,c.left))+d<Math.floor(Math.min(Z(a).left+Z(a).width,c.left+c.width)):Math.round(Math.max(Z(a).top,c.top))+d<Math.floor(Math.min(Z(a).top+Z(a).height,c.top+c.height))}function CA(a,b){var c;a.Hc()?(c="top"==a.f.position?1:-1,a.f.h.top=Z(b).top+c*Z(b).height):(c="left"==a.f.position?1:-1,a.f.h.left=Z(b).left+c*Z(b).width)}f.show=function(){this.view.show()};
f.hide=function(){this.view.hide();return!0};f.Wa=function(){this.active=!0;this.view.G.style.display="block"};f.pb=function(){this.active=!1;this.view.G.style.display="none";this.view.hide()};f.Ha=function(){return this.active};f.tj=function(){return r.DropStripe.DDBoxHorizMaxInnerPos};I.j().register("wnd.ui.DropStripe",mm,mz,yA);function DA(a,b,c){tz.call(this,a,b,c)}n(DA,yA);DA.prototype.tj=function(){return r.EditableMediaListDropStripe.DDBoxHorizMaxInnerPos};I.j().register("wnd.ui.EditableMediaListDropStripe",Cv,mz,DA);function EA(a,b,c){tz.call(this,a,b,c);this.f.we=FA}n(EA,yA);var FA="default";function GA(a){a.f.we!=FA&&(a.f.we=FA,a=a.view,a.o.style.left=a.f.A.x+"px",a.o.style.top=a.f.A.y+"px",a.o.style.width=a.f.M.x-a.f.A.x+"px",a.o.style.height=a.f.M.y-a.f.A.y+"px",R(a.o,"float-rect",!1))}
function HA(a,b,c,d){var e;if(e=!ly(c,x.ContentBlock.separableParts.typeIsSeparable))e=Z(a),e=e.left+e.width/2-S.Zb(document).x,e="left"==a.getPosition()&&b<e||"right"==a.getPosition()&&b>e;e?GA(a):"float"!=a.f.we&&(a.f.we="float",a=a.view,a.f.Od()&&(b=c=S.oa(c).width/100*r.FloatDropStripe.defaultContentWidth,d&&(d=S.oa(d),b=b*d.height/d.width),S.setSize(a.o,c,b),R(a.o,"float-rect",!0),"right"==a.f.position&&(a.o.style.left=a.f.A.x-c+"px")))}I.j().register("wnd.ui.FloatDropStripe",sm,oz,EA);function IA(a,b,c){Oz.call(this);this.g={};this.ea=b;this.I=[];this.ha=[];this.c=a;this.U=c;this.D={};this.F={};this.A=null}n(IA,Oz);f=IA.prototype;f.init=function(a){IA.m.init.call(this);this.ea(a);JA(this)};
f.tc=function(a,b,c,d,e){var g=(""!=a.id?a.id:pa(IA))+"_"+b+r.StripesDragDrop.stripeSuffix;d=d?d:"wnd.ui.DropStripe";e=Ng(I.j(),g)?I.j().get(g):I.j().create(g,d,this.U,null,{id:g,properties:{dragAreaBoxRect:this.D,stripeCoords:this.F,useTempDropStripes:!0===e}});e.init(a,b,this.c,c);Sz(this,e.view.G);this.g[e.getId()]=e;e.Hc()?this.I.push(e.getId()):this.ha.push(e.getId());return e};function KA(a,b){a.c=b}
f.Wi=function(a,b){var c=b.Bb,d=c.id==a.kd().id,e=!1,g=!1;d&&(c=l(c.nextElementSibling)?c.nextElementSibling:wp(c.nextSibling,!0))&&(e=c.id==a.kd().id)&&(g=a.Hc()&&"top"==a.getPosition()||a.Od()&&"left"==a.getPosition());return d||e&&g};
function LA(a,b,c){var d=Tz(a,c);!0===b?(!0===(null!=d.sc)&&!0===na(d.sc.Da)?a.A=d.sc.Da().B():!0===(null!=d.sc)&&!0===na(d.sc.B)?a.A=d.sc.B():a.A=d.Bb,MA(a,a.A,!1)):!1===b&&!0===(null!=a.A)&&(MA(a,a.A,!0),a.A=null);for(var e in a.g)c=a.g[e],b?a.Wi(c,d)?c.pb():c.Wa():c.pb()}function MA(a,b,c){var d=!0===c?"":"hidden";S.setStyle(a.A,"visibility",d);(b=b.id)&&Ng(I.j(),b)&&(b=I.j().get(b),na(b.Hl)&&(b=b.Hl(),qh(b,function(a){S.setStyle(a,"visibility",d)},a)))}
function JA(a,b){var c=NA(a,b);if(0<a.I.length&&0<a.ha.length){OA(a,c.x,c.order.x);OA(a,c.y,c.order.y);c=NA(a,!1,!0);PA(a,c.x,c.order.x);PA(a,c.y,c.order.y);for(var c=a.I,d=a.ha,e,g,h=c.length,k=d.length,p=0;p<k;p++){g=a.g[d[p]];for(var w=0;w<h;w++)if(d[p]!=c[w]){e=a.g[c[w]];var v=$m(Z(e),Z(g));if(v&&0<v.width&&0<v.height){var C=Z(e).left+Z(e).width/2,G=Z(e).top+Z(e).height/2,J=Z(e).clone(),ba=Z(e).clone();v.top<G?(J.top=v.top+v.height,J.height-=J.top-Z(e).top):J.height=v.top-Z(e).top;v.left<C?(ba.left=
v.left+v.width,ba.width-=ba.left-Z(e).left):ba.width=v.left-Z(e).left;e.f.h=v.height<=2*r.DropStripe.HorizStripeVertOffset?J:ba}}}}else 0<a.I.length&&0==a.ha.length?PA(a,c.y,c.order.y):0==a.I.length&&0<a.ha.length&&PA(a,c.x,c.order.x);a.Vn();for(var Sa in a.g)c=a.g[Sa],c=c.view,c.G.style.left=(c.f.h.left>>0)+"px",c.G.style.top=(c.f.h.top>>0)+"px",c.G.style.width=(c.f.h.width>>0)+"px",c.G.style.height=(c.f.h.height>>0)+"px",c.G.style.zIndex=c.f.zIndex,c.G.style.display="none",c.o.style.left=(c.f.A.x>>
0)+"px",c.o.style.top=(c.f.A.y>>0)+"px",c.o.style.width=(c.f.M.x-c.f.A.x>>0)+"px",c.o.style.height=(c.f.M.y-c.f.A.y>>0)+"px",c.o.style.zIndex=c.f.zIndex+1}f.Vn=function(){};
function NA(a,b,c){var d={},e,g,h={x:[],y:[]},k;for(k in a.g)e=a.g[k],b&&(g=e,rm(g.f,g.view.xh,g.bb()),g.f.Ve(g.kd(),g.bb()),om(g.f),qm(g.f)),e.Hc()?(g="y",e=c?Z(e).top:zA(e).y):(g="x",e=c?Z(e).left:zA(e).x),e=10*Math.round(e/10),d[g]||(d[g]=[]),d[g][e.toString()]||(d[g][e.toString()]=[]),d[g][e.toString()].push(k),h[g]||(h[g]=[]),yh(h[g],e);d.order=QA(h);return d}function QA(a){a.x&&Gh(a.x,function(a,c){return a>c?1:-1});a.y&&Gh(a.y,function(a,c){return a>c?1:-1});return a}
function PA(a,b,c){for(var d,e,g,h=[],k={},p=!1,w,v=0;v<c.length;v++){w=c[v];for(var C=0;C<b[w].length;C++){d=b[w][C];e=a.g[d];g=null;k[d]=!0;for(var G=h.length-1;0<=G;G--)if(d=a.g[h[G]],BA(e,d)){if(!g){g=d;var p="undefined"==typeof k[g.getId()],J=e,ba=g,Sa=void 0,ac=void 0,Nb=AA(J,ba);Nb&&(J.Hc()?(Sa=zA(J).y-zA(ba).y,ac=zA(J).y-Sa/2,Z(J).top-Nb<ac?J.f.h.top=ac:(p||(Nb/=2),J.f.h.top=Z(J).top-Nb)):(Sa=zA(J).x-zA(ba).x,ac=zA(J).x-Sa*J.tj(),10<Sa&&Z(J).left-Nb<ac?J.f.h.left=ac:(p||(Nb/=2),J.f.h.left=
Z(J).left-Nb)))}if(k[d.getId()]){p=!0;J=d;Sa=e;ba=p;ac=void 0;if(p=AA(J,Sa))J.Hc()?(ac=zA(Sa).y-zA(J).y,Sa=zA(J).y-Z(J).top+ac/2,Z(J).height+p>Sa?J.f.h.height=Sa:(ba||(p/=2),J.f.h.height=J.f.h.height+p)):(ac=zA(Sa).x-zA(J).x,Sa=zA(J).x-Z(J).left+ac*J.tj(),10<ac&&Z(J).left+Z(J).width+p>Sa?J.f.h.width=Sa:(ba||(p/=2),J.f.h.width=J.f.h.width+p));delete k[d.getId()]}}g||(g=e,g.Hc()?(g.f.h.height=Z(g).top+Z(g).height-g.f.U.top,g.f.h.top=g.f.U.top):(g.f.h.width=Z(g).left+Z(g).width-g.f.U.left,g.f.h.left=
g.f.U.left));h.push(e.getId())}}for(var B in k)b=e=a.g[B],b.Hc()?b.f.h.height=b.f.U.top+b.f.U.height-Z(b).top:b.f.h.width=b.f.U.left+b.f.U.width-Z(b).left}
function OA(a,b,c){for(var d,e,g,h,k,p=0;p<c.length;p++){h=c[p];var w=b[h].length;if(1!=w){e=[];g=[];for(var v=0;v<w;v++){d=b[h][v];d=a.g[d];for(k=d.Hc()?Z(d).width:Z(d).height;e[k];)k++;g.push(k);e[k]=d}g.sort(function(a,b){return b-a});for(v=1;v<g.length;v++){d=e[g[v]];h=null;for(w=v-1;0<=w;w--)if(k=e[g[w]],!(0<w&&k.getPosition()!==d.getPosition())&&BA(d,k)){h=e[g[w]];break}h&&CA(d,h)}}}}
f.Ui=function(a,b){var c=b.getPosition();if(0<this.I.length&&0==this.ha.length||0==this.I.length&&0<this.ha.length)"bottom"==c||"right"==c?rp(a,b.kd()):qp(a,b.kd())};function RA(a,b){var c=null;b.ji&&(c=a.g[b.ji.id]);return c}f.reset=function(){IA.m.reset.call(this);var a,b;for(b in this.g)a=this.g[b],a.dispose();this.g={};this.I=[];this.ha=[];this.D=[];this.F=[]};
f.ye=function(a,b){IA.m.ye.call(this,a);var c=Tz(this,a),d=RA(this,c);if(d.Ha()){var e=d.kd(),g=c.Bb;this.Ui(g,d);this.notify("onDrop",g,e,d.getPosition(),c.sc);b&&(this.reset(),this.init())}!0===(null!=this.A)&&(MA(this,this.A,!0),this.A=null)};f.Ag=function(a){if(!Rz){IA.m.Ag.call(this,a);a=Tz(this,a);var b=RA(this,a);b&&b.Ha()&&(b.show(),this.J=a)}};f.ej=function(a){IA.m.ej.call(this,a);a=Tz(this,a);(a=RA(this,a))&&a.Ha()&&a.hide();this.J=null};
f.he=function(a){IA.m.he.call(this,a);LA(this,!0,a)};f.Fe=function(a){IA.m.Fe.call(this,a);LA(this,!1,a)};function SA(a){IA.call(this,a.B(),m(a.qg,a),a.view.I);this.P=0}n(SA,IA);SA.prototype.reset=function(){SA.m.reset.call(this);this.P=0};SA.prototype.Wi=function(){return!1};SA.prototype.Vi=function(a,b){var c=S.wc(this.c),d=r.EditableMediaList.scrollSensitivity;this.o=0;b<c.y&&b>c.y-d?(this.o=-r.EditableMediaList.scrollAmount,!1===this.h.c&&aw(this.h)):b>c.y+this.c.offsetHeight&&b<c.y+this.c.offsetHeight+d?(this.o=r.EditableMediaList.scrollAmount,!1===this.h.c&&aw(this.h)):!0===this.h.c&&bw(this.h)};
SA.prototype.vm=function(){this.c.scrollTop+=this.o;Qv(this.M);(0>this.c.scrollTop+this.o||this.P-this.c.offsetHeight<this.c.scrollTop+this.o)&&bw(this.h)};function TA(a){Oz.call(this);this.c=a;this.U=this.c.xd();this.ea=this.F=this.P=null;this.A=this.D=UA;this.Ia=this.Ca=0;this.J={before:null,after:null};this.o=0}n(TA,Oz);var UA="order";f=TA.prototype;f.init=function(){TA.m.init.call(this);VA(this.c);this.gb=this.U.offsetHeight;this.wa=S.wc(this.U).y;this.md=this.c.xd().offsetHeight;Vm(this.U,"mousemove",m(this.sy,this))};f.sy=function(a){null===this.l?this.l=new T(a.clientX,a.clientY):(this.l.x=a.clientX,this.l.y=a.clientY)};
f.he=function(a){TA.m.he.call(this,a);a=Tz(this,a);var b=WA(this,a.Bb);Vz(this,{sourceElement:a.Bb,realGrip:!0});this.P=b.mvc;this.J=XA(this.c,this.P);this.reset();this.init();Qv(this.M);this.Ca=this.l.x-25;this.Ia=this.l.x+25};
f.Ag=function(a){var b=Tz(this,a);a=WA(this,b.Bb);b=WA(this,b.ji);if(a.mvc!==b.mvc&&!YA(this.c,b.mvc,a.mvc)){var c=b.position;this.A=UA;var d;"parent"===this.D&&this.c.Qj(b.mvc)&&(this.A=this.D=UA);if(UA===this.D)if(b.mvc.getId()===this.J.before)c="top";else if(b.mvc.getId()===this.J.after)d=ZA(this.c,b.mvc),null==d||$A(this.c,d)?c="bottom":(c="top",b.mvc=d);else{if(b.mvc===a.mvc||YA(this.c,b.mvc,a.mvc))return;c="top"}else if("parent"===this.D)if(b.mvc.getId()===this.J.before){c=this.c;d=c.Dj(b.mvc);
if(null===d)d=null;else for(;!d.Ra();)d=aB(c,""+bB(d));c="top";this.D="parent";null!=d&&(YA(this.c,b.mvc,d)?this.A=UA:cB(this.c,d)?(d=dB(this.c,d),b.mvc=d,this.A=UA):this.c.Qj(d)?(b.mvc=d,this.A=UA):(b.mvc=d,this.A="parent"))}else if(b.mvc.getId()===this.J.after)cB(this.c,b.mvc)?(d=dB(this.c,b.mvc),null!=d&&(d===a.mvc&&(d=ZA(this.c,d)),b.mvc=d,this.A=UA)):this.A=this.D="parent";else if(b.mvc!==a.mvc)d=this.c.Dj(b.mvc),c="top",this.D="parent",null!=d&&(YA(this.c,b.mvc,d)?this.A=UA:cB(this.c,d)?(d=
dB(this.c,d),null!=d&&(d===a.mvc&&(d=ZA(this.c,d)),b.mvc=d,this.A=UA)):(b.mvc=d,this.A="parent"));else return;$A(this.c,b.mvc)||a.mvc===b.mvc||YA(this.c,b.mvc,a.mvc)||(this.notify("onDragover",a.mvc,b.mvc,c,this.A),this.P=a.mvc,this.F=b.mvc,this.ea=c,eB(this.c,this.P,this.F,this.A),fB(this),Qv(this.M),this.J=XA(this.c,this.F,c,this.A))}};
f.zi=function(a){TA.m.zi.call(this,a);var b=this.Xc();if(0!=b.page.x){a=this.P;var c=this.F,d=this.ea,e=!1,g=this.Ca+7;if(b.page.x>=this.Ia-7){b=this.c.g[this.J.before];if($A(this.c,b)||YA(this.c,a,b))return;a:{for(var e=this.c,h=this.J.before,b=a.getId(),b=e.f.g[b].temporaryX||e.f.g[b].x,g=b+1,h=e.f.P.indexOf(h),k;0<h;h--){k=e.f.g[e.f.P[h]];if(k.x<b)break;if(k.x===g){b={mvc:e.g[k.id],type:"sibling"};break a}if(k.x===b){b={mvc:e.g[k.id],type:"parent"};break a}}b=null}e=!0;if(null!=b&&"parent"===b.type){if(this.c.Qj(b.mvc))return;
this.D="parent";c=b.mvc;this.A="parent";d="top"}else null!=b&&"sibling"===b.type&&(this.D="parent",c=b.mvc,this.A=UA,d="bottom")}else if(b.page.x<g){a:{e=this.c;d=this.J.after;if(null!==d)for(c=a.getId(),d=gB(e,d),c=e.f.g[c].temporaryX||e.f.g[c].x,b=e.f.P.length;d<b;d++){g=e.f.g[e.f.P[d]];if(g.x<c)break;if(g.x===c){e=!0;break a}}e=!1}if(e)return;this.A=this.D=UA;a:{e=this.c;d=this.J.before;c=a.getId();d=e.f.P.indexOf(d);for(c=(e.f.g[c].temporaryX||e.f.g[c].x)-1;0<d;d--)if(b=e.f.g[e.f.P[d]],b.x===
c){b=e.g[b.id];break a}b=null}if(null!=b){e=!0;a:{c=this.c;d=b.getId();g=gB(c,d);d=c.f.g[d].x;g+=1;for(h=c.f.P.length;g<h;g++){k=c.f.g[c.f.P[g]];if(k.x<d)break;if(k.x===d){c=c.g[k.id];break a}}c=null}if(null!=c)if(c.getId()===this.J.after)d="top";else return;else c=b,d="bottom"}else return}!e||null==a||null==c||a===c||c===this.F&&d===this.ea||(this.notify("onDragover",a,c,d,this.A),this.P=a,this.F=c,this.ea=d,eB(this.c,this.P,this.F,this.A),fB(this))}};
f.ye=function(a){TA.m.ye.call(this,a);this.notify("onDrop",this.P,this.F,this.ea,this.A)};f.Fe=function(a){TA.m.Fe.call(this,a);this.ea=this.F=this.P=null;this.reset();this.init();a=this.c;a.f.P=a.f.xa};function WA(a,b){var c;c=a.c;var d=b.id;c=null!=c.g[c.F[d]]?{mvc:c.g[c.F[d]],position:"inner"}:null;null===c&&(c=a.c,d=b.id,c=null!=c.g[c.U[d]]?{mvc:c.g[c.U[d]],position:"top"}:null);return c}f.X=function(){TA.m.X.call(this);this.G.dispose();this.h.dispose()};
function fB(a){var b=S.wc(a.P.B()),b=a.S.getPosition().x-b.x,c=a.Xc();a.Ca=c.page.x-25-b;a.Ia=c.page.x+25-b}f.Vi=function(a,b){var c=r.TreeMenuDragDrop.scrollSensitivity;this.o=0;b<this.wa&&b>this.wa-c?(this.o=-r.TreeMenuDragDrop.scrollAmount,this.h.c||aw(this.h)):b>this.wa+this.gb&&b<this.wa+this.gb+c?(this.o=r.TreeMenuDragDrop.scrollAmount,this.h.c||aw(this.h)):this.h.c&&bw(this.h)};
f.vm=function(){this.U.scrollTop+=this.o;Qv(this.M);(0>this.U.scrollTop+this.o||this.md-this.gb<this.U.scrollTop+this.o)&&bw(this.h)};function hB(a,b,c){tz.call(this,a,b,c);this.g=c.ff()}n(hB,tz);f=hB.prototype;f.fv=function(){iB(this.getParent(),!this.g);jB(this,!this.g)};f.pa=function(a){hB.m.pa.call(this,a);jB(this,this.g)};f.O=function(){hB.m.O.call(this);this.getParent().observe("onClickTreeItem",this.fv,this)};f.Yj=function(){var a=this.getParent(),b=!D(this.G);b!==a.g&&(a.g=b,sz(a.view,a.g,a.ff()))};
function jB(a,b){a.g=b;qz(a.view,a.g);u(a.G,function(a){a instanceof kB&&(a.D=this.g,a.view.wg())},a);var c=new H(a.g?"treeGroupOpen":"treeGroupClose",a);a.ca(c)}f.ff=function(){return this.g};f.kf=function(){};f.Zh=function(a){Yi(this.f,a)};f.ma=function(a){"treeItemActivate"!==a.getType()&&"treeGroupOpen"!==a.getType()||this.ff()||(iB(this.getParent(),!0),jB(this,!0))};I.j().register("wnd.ui.TreeMenuGroup",Dj,pz,hB);function kB(a,b,c){tz.call(this,a,b,c);this.g=this.D=this.l=this.w=!1}n(kB,tz);f=kB.prototype;f.fu=function(){return P(this.f,"isRoot")};f.ff=function(){return this.w};f.Ha=function(){return this.l};f.Ra=function(){return this.D};function iB(a,b){b!==a.w&&(a.w=b,sz(a.view,a.g,a.ff()))}f.O=function(){kB.m.O.call(this);this.c.H(this.view.Me(),U,this.vB)};
f.vB=function(a){a.stopPropagation();if(this.l){var b=new H("treeItemRefresh",this);this.ca(b);a.target===this.view.Ae&&this.notify("onClickTreeItem")}else this.Wa(),this.ff()&&a.target!==this.view.Ae||this.notify("onClickTreeItem")};f.Wa=function(){this.view.setActive(!0);this.l=!0;var a=new H("treeItemActivate",this);this.ca(a)};f.pb=function(){this.view.setActive(!1);this.l=!1};function lB(a){a=a.G;return a[a.length-1]}f.getName=function(){return N(this.f,"name")};
f.Ce=function(a,b){""!==a||b||(a=this.getName());this.view.Ce(a)};function bB(a){return N(a.f,"parent_id")}f.yj=function(){return N(this.f,"lang_id")};f.kf=function(){};f.Je=function(){return this.view.Je()};f.hh=function(a){this.view.hh(a)};f.Ge=function(a){this.view.Ge(a)};f.Zh=function(a,b){Yi(this.f,a);this.view.Ce(this.getName());l(b)&&this.getParent().getId()!==bB(this)&&Bi(this,b)};
f.tl=function(a){eh(this.getName(),a)?(a=this.view,a.o=a.Me().cloneNode(!0),Hl(a.o,[P(a.f,"css")["item-descendants"],P(a.f,"css")["item-opened"]]),a=a.o):a=null;return a};I.j().register("wnd.ui.TreeMenuItem",Ej,rz,kB);function mB(a,b,c){tz.call(this,a,b,c)}n(mB,tz);function nB(a,b){my.call(this,a,b)}n(nB,my);nB.prototype.hk=function(a,b,c,d){var e=this;d||(d=this.f.Ea);d.call(this.f,function(b,d,k,p){d=e.Hb(d,p);e.notify("onBeforeRenderContent");a.call(c,b,d,k);e.notify("onRenderContent")},b,c)};nB.prototype.Hb=function(a){return a};function oB(a,b){my.call(this,a,b)}n(oB,nB);oB.prototype.da=function(){};oB.prototype.Wg=function(){return 1==P(this.f,"initRenderFlag")};oB.prototype.setSize=function(a,b,c){c=c||this.c;null!==a&&S.setStyle(c,"width",a);null!=b&&S.setStyle(c,"height",b);a=S.getBounds(c);return{height:a.height,width:a.width}};function pB(a,b){for(var c=a.c.children,d=0,e=c.length;d<e;d++)S.aa(c[d],b)};function qB(a,b){my.call(this,a,b);this.$b=!0;this.o=this.F=this.w=null}n(qB,oB);f=qB.prototype;f.gd=function(){};f.xd=function(){return this.o};f.zd=function(){return this.w};f.lc=function(){return this.F};f.Qk=function(){El(this.zd(),P(this.f,"css")["search-inuse"])};f.Of=function(){Gl(this.zd(),P(this.f,"css")["search-inuse"])};f.Lm=function(){El(this.lc(),P(this.f,"css")["search-not-empty"])};f.Km=function(){Gl(this.lc(),P(this.f,"css")["search-not-empty"])};
f.sl=function(){El(this.B(),P(this.f,"css")["menu-with-search"]);this.lc().value&&(this.lc().value="",this.Of());S.aa(this.zd(),!0)};f.ql=function(){this.Of();Gl(this.B(),P(this.f,"css")["menu-with-search"]);S.aa(this.zd(),!1)};function rB(a,b){my.call(this,a,b);this.$b=!0}n(rB,oB);rB.prototype.da=function(){};rB.prototype.ze=function(){return this.B()};function sB(a,b){rB.call(this,a,b);this.$b=!1}n(sB,rB);sB.prototype.da=function(){this.c=Tr(ct,this.N());this.bb().appendChild(this.c)};sB.prototype.N=function(){return{id:P(this.f,"id"),css:P(this.f,"css"),ag:P(this.f,"legend"),rb:P(this.f,"tooltip")}};sB.prototype.xk=function(){R(this.B(),"wnd-form-fieldset-error",P(this.f,"state")==Oy)};function tB(a,b){sB.call(this,a,b);this.$b=!1;this.W=et;this.P=!1;this.uh=this.Cf=this.La=null}n(tB,sB);tB.prototype.da=function(){this.c=Tr(this.W,this.N());jy(this.c,Fa.View.contentElementTypeAttr,this.f.ba());this.F();this.bb().appendChild(this.c)};tB.prototype.F=function(){this.La=this.c.querySelector(".wnd-adv-fieldset-content");this.Cf=this.c.querySelector(".wnd-ctrl-type-submit");this.uh=this.c.querySelector(".wnd-adv-fieldset-legend")};
function uB(a){a.P=!a.P;R(a.c,"wnd-adv-fieldset-opened",a.P)}tB.prototype.N=function(){var a=tB.m.N.call(this);a.fc=!!P(this.f,"showIcon");null!=P(this.f,"extendCssClass")&&(a.css=(a.css?" ":"")+P(this.f,"extendCssClass"));a.$x=!P(this.f,"withoutSaveButton");return a};tB.prototype.ze=function(){return this.La};function vB(a,b){rB.call(this,a,b);this.$b=!0;this.R=null}n(vB,rB);f=vB.prototype;f.gd=function(){};f.da=function(){this.R=Tr(gt,this.N());this.c.appendChild(this.R)};f.ze=function(){return this.R};f.N=function(){return{id:P(this.f,"id"),method:P(this.f,"method"),us:P(this.f,"class"),eC:this.f.C()+"_form_content"}};f.oa=function(){return S.oa(this.B())};function wB(a,b){tB.call(this,a,b);this.$b=!1;this.W=qt;this.R=this.w=this.o=null}n(wB,tB);wB.prototype.N=function(){var a=wB.m.N.call(this);null!=P(this.f,"editButton")&&(a.rl=P(this.f,"editButton"));return a};wB.prototype.da=function(){wB.m.da.call(this);S.setStyle(this.o,"width",this.o.offsetWidth-S.Nh()+"px")};wB.prototype.F=function(){wB.m.F.call(this);this.o=this.c.querySelector(".wnd-adv-fieldset-legend-text");this.w=this.o.querySelector("i");this.R=this.o.querySelector("strong")};
wB.prototype.ue=function(a){a?(S.Uh(this.w)||S.aa(this.w,!0),this.R.innerHTML=Tg(a)):(S.aa(this.w,!1),this.R.innerHTML="")};function xB(a,b){wB.call(this,a,b);this.W=pu}n(xB,wB);xB.prototype.ue=function(){};function yB(a,b){rB.call(this,a,b);this.hb={}}n(yB,rB);yB.prototype.da=function(){var a=P(this.f,"controls");if(!0!==(null===a)){this.hb={};pp(this.B());var b=null,c=null;!0===(null!=a.left)&&(b=Tr(Fs),zB(this,a.left,b));!0===(null!=a.right)&&(c=Tr(Gs),zB(this,a.right,c));!0===(null!=b)&&this.B().appendChild(b);!0===(null!=c)&&this.B().appendChild(c)}};function zB(a,b,c){var d;u(b,function(a){var b={control:a};null!=P(this.f,a)&&df(b,P(this.f,a));d=Tr(Hs,b);this.hb[a]=d;c.appendChild(d)},a)}
yB.prototype.eb=function(a,b){!0===(null!=this.hb[a])&&S.aa(this.hb[a],b)};function AB(a,b){rB.call(this,a,b);this.h={"class":"wnd-popup-header"}}n(AB,rB);AB.prototype.da=function(){Qr(this.c,Gt,this.N())};AB.prototype.N=function(){var a=P(this.f,"title"),b=P(this.f,"switchGroups");return{title:a?a:"",Te:b?b:[]}};function BB(a,b){my.call(this,a,b);this.o=null;this.xc=!1}n(BB,oB);BB.prototype.render=function(){this.Nf();this.notify("onRender")};
BB.prototype.da=function(){var a=CB(this).getContext("2d");a.clearRect(0,0,a.canvas.width,a.canvas.height);var b=this.f.gb(),c=N(this.f,"selection"),d=0,e=0;!1===this.xc&&(a.drawImage(b,d,e,a.canvas.width,a.canvas.height),a.fillStyle=r.CropImagePopup.selection.transparency,a.fillRect(d,e,a.canvas.width,a.canvas.height),a.setLineDash([]),a.strokeStyle=r.CropImagePopup.line.color,a.lineWidth=r.CropImagePopup.line.width,a.strokeRect(c.x,c.y,c.width,c.height),d=c.x,e=c.y);c.width>a.canvas.width&&(c.width=
a.canvas.width);0>c.x&&(c.x=0);c.height>a.canvas.height&&(c.height=a.canvas.height);0>c.y&&(c.y=0);a.drawImage(b,c.x,c.y,c.width,c.height,d,e,c.width,c.height);if(!1===this.xc)for(a.strokeStyle=r.CropImagePopup.line.colorDotted,a.lineWidth=r.CropImagePopup.line.width,a.setLineDash(r.CropImagePopup.line.dotted),b=r.CropImagePopup.selection.gridParts,d=1;d<b;d++){var e=a,g=c.x+d*c.width/b,h=c.y,k=c.x+d*c.width/b,p=c.y+c.height;e.beginPath();e.moveTo(g,h);e.lineTo(k,p);e.stroke();e=a;g=c.x;h=c.y+d*c.height/
b;k=c.x+c.width;p=c.y+d*c.height/b;e.beginPath();e.moveTo(g,h);e.lineTo(k,p);e.stroke()}};function CB(a){null===a.o&&(a.o=document.createElement("canvas"),a.B().appendChild(a.o));return a.o}function DB(a,b,c){b==a.o&&(a.o.className=c)};function EB(a,b){rB.call(this,a,b);this.Ve=null}n(EB,rB);EB.prototype.da=function(){var a=Tr(mt,this.N());this.B().appendChild(a);if(a=P(this.f,"linkName"))this.Ve=Tr(pt,{lu:a}),this.B().appendChild(this.Ve)};EB.prototype.N=function(){return{type:P(this.f,"type")||"",zx:P(this.f,"title")||"",yx:P(this.f,"text")||""}};function GB(a,b){my.call(this,a,b);this.$b=!0}n(GB,oB);GB.prototype.da=function(){GB.m.da.call(this);Qr(this.B(),It,this.N())};GB.prototype.N=function(){var a=P(this.f,"text");null!=a&&!ia(a)&&(a=[a]);return{type:P(this.f,"type"),title:P(this.f,"title"),text:a,xx:P(this.f,"params")}};function HB(a,b){AB.call(this,a,b);this.ve={};this.o=null}n(HB,AB);HB.prototype.da=function(){HB.m.da.call(this);u(this.c.querySelectorAll("b[data-wnd_media_upload]"),function(a){var b=ky(a,"wnd_media_upload");this.ve[b]=a},this);IB(this,!1);this.o=this.c.querySelector("b.wnd-loading.upload")};function IB(a,b,c){!0===(null!=c)?S.aa(a.ve[c],b):z(a.ve,function(a){S.aa(a,b)},a)}HB.prototype.Pc=function(a){S.aa(this.o,a)};HB.prototype.N=function(){var a=HB.m.N.call(this);a.Aa=!0;return a};function JB(a,b){rB.call(this,a,b);this.h={"class":r.MediaTypes.css.content};this.Xa={};this.o=null}n(JB,rB);JB.prototype.da=function(){JB.m.da.call(this);var a=gs(Rt,{});u(a.querySelectorAll("li"),function(a){var c=ky(a,"wnd_media_type");this.Xa[c]=a},this);np(this.B(),a);KB(this,P(this.f,"showTypes"));LB(this,P(this.f,"activeType"))};function KB(a,b){1===b.length?a.hide():(a.show(),z(a.Xa,function(a,d){S.aa(a,-1<b.indexOf(d))},a))}
function LB(a,b){!0===(null!=a.o)&&R(a.o,r.MediaTypes.css.active,!1);!1!==(null!=a.Xa[b])&&(a.o=a.Xa[b],R(a.o,r.MediaTypes.css.active,!0))};function MB(a,b,c){tz.call(this,a,b,c);this.S=null}n(MB,mB);function Zz(a){for(a=a.getParent();a&&"popup"!=a.pd()&&"bubble"!=a.pd()&&"toolbox"!=a.pd();)a=a.getParent();return a}f=MB.prototype;f.Wf=function(a){a.stopPropagation();this.nd=ky(a.currentTarget,"wnd_content_switch");a=P(this.f,"switchContainer").toString();Ng(I.j(),a)&&I.j().get(a).Lc(this.nd)};
f.pa=function(a){MB.m.pa.call(this,a);var b;this.getParent()&&na(this.getParent().Ne)?b=this.getParent().Ne():b=NB({});a=this.view.setSize(Jj(this.f,b),Kj(this.f,b));O(this.f,"style",a);!1===this instanceof OB&&na(this.getParent().Ji)&&this.getParent().Ji(a.width,a.height)};f.Ji=function(a,b){var c=P(this.f,"style");l(c.usedWidth)&&l(c.usedHeight)||(c=NB(c));c.usedWidth+=parseInt(a,10);c.usedHeight+=parseInt(b,10);O(this.f,"style",c)};
f.Ne=function(){var a=P(this.f,"style");null===a?(a=NB({}),O(this.f,"style",a)):l(a.usedWidth)&&l(a.usedHeight)||(a=NB(a),O(this.f,"style",a));return a};function NB(a){a.usedWidth=0;a.usedHeight=0;return a}f.setSize=function(a,b){var c=this.view.setSize(a,b);O(this.f,"style",c);O(this.f,"width",a);O(this.f,"height",b)};function PB(a){return!0===P(a.f,"resize")}
f.Aa=function(a){if(!this.S){var b=this.B().offsetHeight?this.B().offsetHeight+"px":0;b||(b=Kj(this.f,{usedWidth:0,usedHeight:0}));var c=this.B().offsetWidth?this.B().offsetWidth+"px":0;c||(c=Jj(this.f,{usedWidth:0,usedHeight:0}));this.S=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.B(),this,{properties:{type:"popup",text:a,height:b,width:c}})}pB(this.view,!1);this.S.show()};f.Fa=function(){this.S&&(pB(this.view,!0),this.S.dispose(),this.S=null)};
f.X=function(){this.S&&(this.S.dispose(),this.S=null);MB.m.X.call(this)};f.sd=function(a,b){var c=!0,d=fg(this.G);if(d)for(var e=null,g=0,h=d.length;g<h;g++)if(e=d[g],e instanceof MB&&!1===e.sd(a,b)){c=!1;break}return c};function QB(a,b,c){MB.call(this,a,b,c);O(this.f,"extendCssClass",P(this.f,"css").base);this.I=null;this.g={};this.F={};this.U={};this.T={};this.V=this.l=null;this.D=[];this.w=[];this.ka={};this.ea=!!P(this.f,"enabledDragDrop");this.xa=new Er}n(QB,MB);f=QB.prototype;
f.pa=function(a){QB.m.pa.call(this,a);a=this.view;null==a.o&&(a.w=gs(Bt,{css:P(a.f,"css")["search-form"],value:"",placeholder:"Search...",maxLength:255}),a.F=a.w.querySelector("input"),a.o=gs(zt,{css:P(a.f,"css").menuItems}),a.B().appendChild(a.w),a.B().appendChild(a.o));this.f.Ea(this.gk,null,this)};
f.gk=function(a,b,c,d){this.Fa();if(l(d.order)&&0!==d.order.length){this.ka=b;null===this.I&&(this.I=d.order[0]);a=d.order.length;r.ListMenu.minCountForSearch<a?this.view.sl():this.view.ql();for(b=0;b<a;b++){c=this.f;var e=this.ka[d.order[b]];c={id:Number(e[Q(c,"id")]),name:e[Q(c,"name")],identifier:e[Q(c,"identifier")],item_order:null!=e[Q(c,"item_order")]?Number(e[Q(c,"item_order")]):null,html_title:e[Q(c,"html_title")],content_items:e[Q(c,"content_items")],date:e[Q(c,"date")],lang_id:Number(e[Q(c,
"lang_id")]),listing_page_id:Number(e[Q(c,"listing_page_id")]),meta_description:e[Q(c,"meta_description")],meta_keywords:e[Q(c,"meta_keywords")],private_access:null!=e[Q(c,"private_access")]?Number(e[Q(c,"private_access")]):null,publish_date:e[Q(c,"publish_date")]};this.D.push(c.id);e=P(this.f,"css")["item-id-prefix"]+c.id;this.F[e]=c.id;Ng(I.j(),e)?this.g[c.id].Zh(c):this.g[c.id]=I.j().create(e,"wnd.ui.ListMenuItem",this.xd(),this,{id:c.id,create:{data:c},properties:{initRenderFlag:!0,css:P(this.f,
"css"),enbaledDragDrop:this.ea}});this.ea&&(this.U[this.g[c.id].Je().id]=c.id,this.T[this.g[c.id].vj().id]=c.id);c.id==this.I&&(this.g[c.id].Wa(),this.l=this.g[c.id])}this.w=fg(this.D);this.ea&&(null===this.V&&(this.V=new gA(this)),this.V.observe("onDragstart",this.QA,this),this.V.observe("onDragend",this.OA,this),this.V.observe("onDragover",this.PA,this),this.V.observe("onDrop",this.Cr,this),this.V.init())}else this.notify("onListItemActivate",null,null)};
f.O=function(){QB.m.O.call(this);null!=this.view.zd()&&this.c.H(this.view.zd(),U,m(this.NA,this));null!=this.view.lc()&&(Fr(this.xa,this.view.lc()),this.c.H(this.xa,"key",m(this.RA,this)),this.c.H(this.view.lc(),"blur",m(this.MA,this)))};f.NA=function(a){this.view.Qk();this.view.lc()!==a.target&&this.view.lc().focus()};f.RA=function(a){requestAnimationFrame(m(this.LA,this,a,a.target.value))};f.LA=function(a,b){var c=a.target.value;z(this.g,function(a){a.tl(c)},this);c&&!b?this.view.Lm():c||this.view.Km()};
f.MA=function(a){a.target.value||this.view.Of()};f.xd=function(){return this.view.xd()};f.ma=function(a){"listItemActivate"===a.getType()?(this.l!==a.c&&(null!=this.l&&this.l.pb(),this.l=a.c),this.I=a.c.getId(),a.stopPropagation(),this.notify("onListItemActivate",a.c.getId(),a.c)):"listItemRefresh"===a.getType()&&a.stopPropagation()};function hA(a){z(a.g,function(a){var c=this.V;-1<c.A.w.indexOf(a.getId())&&(c.Ka(a.B()),Sz(c,a.Je()),Sz(c,a.vj()))},a)}
f.QA=function(a,b){var c=this.g[this.F[b.Bb.id]];Vz(this.V,{sourceElement:b.Bb,realGrip:!0});c.Ge(!0);this.w=fg(this.D);c=this.w.indexOf(c.getId());this.w.splice(c,1)};
f.PA=function(a,b,c,d,e){if(!l(c))throw new Pa("Unable to find MVC target items.");if("top"===d)try{qp(b.B(),c.B())}catch(g){throw new Pa("Cannot change DOM: goog.dom.insertSiblingBefore("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}else if("bottom"===d)try{rp(b.B(),c.B())}catch(g){throw new Pa("Cannot change DOM: goog.dom.insertSiblingAfter("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}};
f.Cr=function(a,b,c,d){b.Ge(!1);if(null!==c){a=new hi("moveListItem",1);gr(Qh.j(),a);var e=Cg.j().get(this.f.K()),g={};"bottom"===d?g.after=c.getId():g.before=c.getId();b=b.getId();c=m(this.Lw,this);e.c(b,null,g,c,a)}};f.OA=function(){var a;a=this.V;a={mvcDragging:a.c,mvcDropped:a.P,position:a.J};null===a.mvcDragging&&null===a.mvcDropped||this.Cr(0,a.mvcDragging,a.mvcDropped,a.position)};f.Lw=function(a,b,c){a=c.getData();a=new zg("dataCreate","parent_propagation",this.f.K(),this,a.id);this.ca(a)};
function kA(a,b){var c=a.w.indexOf(b);-1===c&&(c=a.D.indexOf(b));return c}f.Ua=function(a){QB.m.Ua.call(this,a);this.Aa()};function RB(a){a.Aa();z(a.g,function(a){a.dispose()},a);a.g={};a.F={};a.U={};a.T={};a.I=null;a.l=null;a.w=[];a.D=[];a.ka={};null!=a.V&&(a.V.reset(),a.V=null)}f.Dj=function(a){a=kA(this,a.getId());return this.g[this.w[a-1]]};
f.Y=function(a){QB.m.Y.call(this,a);a.K()===this.f.K()&&("dataCreate"===a.getType()?(RB(this),this.f.update("data_updated"),this.f.Ea(this.gk,null,this),this.I=a.g):"dataUpdate"!==a.getType()||a.c instanceof lA?"dataDelete"===a.getType()&&(RB(this),this.f.update("data_deleted"),this.f.Ea(this.gk,null,this)):(this.f.update("data_updated"),this.f.Ea(this.gk,null,this)))};I.j().register("wnd.ui.ListMenu",Lj,qB,QB);function SB(a,b,c){MB.call(this,a,b,c);this.ka={};this.contents={};this.Fb=[];this.vc=500;this.Xa=400;this.ea=this.gb="";this.xa=[];this.ym={}}n(SB,MB);f=SB.prototype;f.pd=function(){return"container"};f.pa=function(a){this.Fb=$o("wnd-content-switcher",this.view.B());SB.m.pa.call(this,a);this.fa()};f.show=function(){this.B()?(this.view.show(),this.O()):this.view.render();this.Ox()};f.hide=function(){this.view.hide();this.Za();this.notify("onHide");return!0};
function TB(a){a.view.hide();a.notify("onHideContent")}f.O=function(){SB.m.O.call(this);0!==this.Fb.length&&u(this.Fb,function(a){this.c.H(a,U,this.Wf)},this)};
f.L=function(a,b,c,d){var e;l(this.ym[a])&&(d=this.ym[a],b=d.type,c=d.vC,d=d.AC);!0===Ng(I.j(),a)?(b=I.j().get(a),b.show()):b=I.j().create(a,b,this.view.ze(),this,d);null!=c&&(d=b,c=c?c:this.ua(),this.ka[c]||(this.ka[c]={},this.xa.push(c)),this.ka[c][a]||(this.ka[c][a]=d));this.contents[a]=b;"popup"==this.pd()||"bubble"==this.pd()||"toolbox"==this.pd()?e=this:e=Zz(this);return e.md[a]=b};f.ym=null;
function UB(a,b,c){z(VB(a,b),function(a){if(!0===c||!1===WB(this,a,b)){var e=!!c,g=a.B();if(g){var h=bp(r.PopupContentContainer.animateOverlayCss,g);null!==h&&sp(h);!1===e&&(S.setStyle(g,"position","relative"),S.setStyle(g,"top",0),S.setStyle(g,"left",0),S.setStyle(g,"width","auto"))}a.show()}},a)}function XB(a,b,c){z(VB(a,b),function(a){!0!==c&&!1!==YB(this,a,b)||a.hide()},a)}f.ua=function(){return"default"};function VB(a,b){var c=b?b:a.ua();return a.ka[c]}
f.Lc=function(a,b){if(this.ea!=a){var c;z(this.ka,function(d,e){e==a?(UB(this,e,b),c=e):XB(this,e,b)},this);this.ea=c}};
function WB(a,b,c){if(!1===l(b.Ug)||"function"===typeof b.Ug&&!0!==b.Ug()||!1===l(c)||""===a.ea)return!1;b.show();var d=b.B();if(!1===b instanceof ZB){var e=b.getParent().B();S.setStyle(e,"overflowX","hidden")}b=S.getBounds(d);if(a.xa.indexOf(c)>a.xa.indexOf(a.gb))c=a.vc,S.setStyle(d,"width",b.width+"px"),S.setStyle(d,"position","absolute"),S.setPosition(d,b.left+b.width,0);else{c=a.Xa;var g=bp(r.PopupContentContainer.animateOverlayCss,d);if(null!==g){var h=new Bw(g,c);h.play();Vm(h,"end",function(){sp(g)})}a instanceof
wr||!1===a instanceof OB&&Zz(a)instanceof wr?S.setPosition(d,-(b.width/2),0):S.setPosition(d,b.left-b.width,0)}a=new uw(d,[0,0],c,ee);a.play();Vm(a,"end",function(){S.setStyle(d,"position","relative");S.setStyle(d,"width","auto");!0===l(e)&&S.setStyle(e,"overflowX","auto")});return!0}
function YB(a,b,c){if(!1===l(b.Ug)||"function"===typeof b.Ug&&!0!==b.Ug()||!1===l(c)||a.ea!==c)return!1;var d=b.B(),e=S.oa(d);S.setStyle(d,"width",e.width+"px");S.setStyle(d,"position","absolute");!1===b instanceof ZB&&S.setStyle(d,"overflowX","hidden");a.xa.indexOf(c)>a.xa.indexOf(a.gb)?(a=a.Xa,e=[e.width,0],e=new uw(d,e,a,ee),e.play()):(a=a.vc,c=ip("div",{"class":r.PopupContentContainer.animateOverlayCss,style:"width:"+e.width+"px;height:"+e.height+"px;opacity:0;"}),d.appendChild(c),e=[-(e.width/
2),0],e=new uw(d,e,a,ee),e.play(),(new Cw(c,a)).play());Vm(e,"end",function(){!1===b instanceof ZB&&S.setStyle(d,"overflowX","auto");b.hide();S.setPosition(d,0,0)});return!0}f.Ug=function(){return!0===P(this.f,"switchAnimation")};function $B(a,b){a.gb=b;a.ea=b}
f.Ox=function(){var a=P(this.f,"width"),b=P(this.f,"height");if(!0===(!0===P(this.f,"resizeAnimation"))&&null!=a&&null!=b){var c;c=Zz(this).view.Va;var d=S.oa(c),a=new ww(c,[d.width,d.height],[parseInt(a,10),parseInt(b,10)],r.Popup.animationDuration.resize);a.H("end",m(this.Es,this));a.H("animate",m(this.ns,this));a.play()}};f.Es=function(){var a=P(this.f,"width"),b=P(this.f,"height");a&&b&&(Zz(this).Ji(a,b),Zz(this).setSize(a,b),Zz(this).tf())};f.ns=function(){Zz(this).tf(!0)};
f.ma=function(a){if("popupResize"===a.getType()&&"container"==this.pd()&&Zz(this).C()===a.c.C()&&PB(this)){var b=Zz(this),c=S.oa(b.B());a=this.Ne().width;b=c.height-(b.Ne().height-this.Ne().height);this.view.setSize(a+"px",b+"px")}};function Hz(a,b,c){SB.call(this,a,b,c)}n(Hz,SB);Hz.prototype.fa=function(){};Hz.prototype.L=function(a,b,c,d){a=Hz.m.L.call(this,a,b,c,d);b=this.ib();D(b.w)||(b.w=[]);return a};Hz.prototype.ib=function(){for(var a=this.getParent();a;){if(a instanceof Gz)return a;a=a.getParent()}throw new Pa("Unable to find the form object.");};Hz.prototype.setState=function(a){O(this.f,"state",a);this.view.xk();this.notify("onChangeState",a)};I.j().register("wnd.ui.Fieldset",Nj,sB,Hz);function aC(a,b,c){SB.call(this,a,b,c);this.w=[]}n(aC,Hz);aC.prototype.O=function(){aC.m.O.call(this);this.c.H(this.view.uh,U,m(this.Fk,this));null!=this.view.Cf&&this.c.H(this.view.Cf,U,m(this.$j,this))};aC.prototype.Fk=function(){this.view.P?this.reset():uB(this.view);this.notify(this.view.P?"onOpen":"onClose",this)};
aC.prototype.$j=function(a){a.stopPropagation();a=bC(this);if(!a)return this.notify("onCheckAccess",this,a),!1;var b=0;a=!0;var c=cC(this);ha(this.ib())&&dC(this.ib(),c)&&(u(c,function(a){Cz(a)&&(Dz(a),b++)},this),0<b&&(a=this.ib().nh(cC(this))),a&&this.view.P&&uB(this.view));return!0};function cC(a){D(a.w)&&u(a.G,function(a){a instanceof wz&&this.w.push(a)},a);return a.w}function bC(a){var b=!0;u(cC(a),function(a){Az(a)||(b=!1)},a);return b}
aC.prototype.reset=function(){this.view.P&&uB(this.view);u(cC(this),function(a){a.reset()},this)};I.j().register("wnd.ui.AdvancedFieldset",Nj,tB,aC);function Gz(a,b,c){SB.call(this,a,b,c);this.w=[];this.Na=[];this.l=null;this.fb={}}n(Gz,SB);function eC(a){a=a.f;a.J||(a.J=0);a.J++;return a.C()+"_item_"+a.J}f=Gz.prototype;f.L=function(a,b,c,d){a=Gz.m.L.call(this,a,b,c,d);D(this.w)||(this.w=[]);return a};f.O=function(){Gz.m.O.call(this);this.c.H(this.B(),"submit",m(this.yc,this));var a=Zz(this);a&&P(this.f,"saveBeforeClose")&&fC(a,"onBeforeClose",m(this.Ci,this),a)};f.Ci=function(){this.ra()};
f.yc=function(a){a.stopPropagation();a.preventDefault();Zz(this)&&Zz(this).mb()};f.pa=function(a){Gz.m.pa.call(this,a);this.pi()};f.fa=function(){};f.show=function(){this.B()&&P(this.f,"updateBeforeShow")&&this.Bc();Gz.m.show.call(this);this.pi()};function dC(a,b){var c=!0,d=b||a.Yc();u(d,function(a){a.Ya()&&!a.Wh()?(a.setState(Oy),c&&a.focus(),c=!1):xz(a)!==ej&&a.setState("defaultItem")},a);return c}
f.ra=function(){var a=[];u(this.Yc(),function(b){!b.Xl()||b.F&&!b.Zl()||b instanceof Wz||!Ez(b)||!b.Ya()||a.push(b)},this);return this.nh(a)};f.nh=function(a){var b=!1;if(dC(this,a)){var c={};u(a,function(a){gC(this,c,this.uj(a))},this);this.Xe(c);b=!0}return b};f.Xe=function(a){this.fb=a=a||this.Fc();this.f.ra(!0,a)};function hC(a,b){return xh(a.Yc(),function(a){return a.getName()==b},a)}function iC(a,b){return xh(a.Yc(),function(a){return a.C()==b},a)}f.Yc=function(){D(this.w)&&jC(this);return this.w};
function kC(a){D(a.Na)&&jC(a);return a.Na}f.Fc=function(){var a={},b;u(this.Yc(),function(c){!c.Xl()||c.F&&!c.Zl()||c instanceof Wz||!Ez(c)||!c.Ya()||(b=this.uj(c),gC(this,a,b))},this);return a=gf(a,{})};f.Bc=function(){u(this.Yc(),function(a){this.vk(a)},this)};f.uj=function(a){return{name:a.getName(),value:a.getValue()}};f.vk=function(a){na(a.getName)&&na(a.jc)&&(a.F||a.jc("value",this.Gk(a)),a.oi())};f.Y=function(a){"children_propagation"==a.h&&a.K()==this.K()&&a.g==this.C()&&this.Bc()};
function Fz(a){return!!P(a.f,"autoSave")}f.nk=function(a,b){var c=iC(this,a);null!=c&&(b?c.show():c.hide());return c};function jC(a){for(var b=a.G,c,d=0,e=b.length;d<e;d++)c=b[d],c instanceof Hz?lC(a,c):!1!==c instanceof wz&&c.Ta()&&a.w.push(c)}function lC(a,b){a.Na.push(b);for(var c=b.G,d,e=0,g=c.length;e<g;e++)d=c[e],d instanceof Hz?lC(a,d):d.Ta()&&a.w.push(d)}
function gC(a,b,c){var d=c.name,e=c.value;-1!=d.indexOf(":")?(d=d.split(":"),c=d[0],dg(d,c),d=d.join(":"),b[c]={},gC(a,b[c],{name:d,value:e})):b[c.name]=e}f.Gk=function(a){var b=a.getName();if(-1!=b.indexOf(":")){b=b.split(":");a=N(this.f,b[0]);for(var c=1,d=b.length;c<d;c++)null!=a&&(a=a[b[c]])}else a=N(this.f,a.getName());return a};f.hide=function(){var a=Gz.m.hide.call(this);this.notify("onHide");return a};
function mC(a){var b=!0;a.w=[];D(a.Yc())?b=!1:u(a.Yc(),function(a){a.w||(b=!1)},a);return b}f.pi=function(){mC(this)?this.Fa():this.Aa()};f.Aa=function(a){if(null===this.l){var b=this.view.oa();this.l=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.B(),this,{properties:{type:wj,text:a,height:b.height,width:b.width}})}this.l.Ya()||(this.l.show(),nC(this,!1))};f.Fa=function(){null!=this.l&&(this.l.dispose(),this.l=null,nC(this,!0))};
function nC(a,b){u(a.Yc(),function(a){if(b){var d=P(a.f,"display");na(d)&&(d=d());if(!la(d)||d)a.view.Vg()||a.view.show()}else a.view.hide()},a);a.notify("onChangeItemsVisibility")};function oC(a,b,c){aC.call(this,a,b,c);this.l=this.g=null}n(oC,aC);f=oC.prototype;f.O=function(){oC.m.O.call(this);this.c.H(this.B(),U,m(this.av,this))};f.av=function(a){a=a.target;("LABEL"==a.nodeName||Dl(a,"wnd-form-item-icon"))&&this.reset()};
f.L=function(a,b,c,d){if(0<this.G.length)throw new Pa("InfoFieldset can contain only one child.");this.g=oC.m.L.call(this,a,b,c,d);this.g.observe("onViewRender",m(this.rm,this,this.g),this);this.g.observe("onReset",m(this.tm,this),this);this.g.observe("onSaveDataValue",m(this.tm,this),this);this.g.observe("onSetValue",m(this.sm,this),this);this.g.show();this.g instanceof dA&&(this.l=new Er(this.g.Ta()),this.c.H(this.l,"key",m(this.JA,this)));return this.g};f.JA=function(a){13===a.keyCode&&this.$j(a)};
f.rm=function(a){this.tm(0,a)};f.tm=function(a,b){this.view.ue(b.Mh())};f.sm=function(a,b){this.view.ue(b.Mh())};f.Fk=function(a){var b=bC(this);this.view.P||b?oC.m.Fk.call(this,a):(a.stopPropagation(),this.notify("onCheckAccess",this,b))};f.$j=function(a){(a=oC.m.$j.call(this,a))&&null!=this.g&&(this.view.ue(this.g.Mh()),this.g.Ta().blur());return a};f.Za=function(){oC.m.Za.call(this);null!=this.l&&(this.l.dispose(),this.l=null)};I.j().register("wnd.ui.InfoFieldset",Nj,wB,oC);function pC(a,b,c){Gz.call(this,a,b,c)}n(pC,Gz);pC.prototype.Xe=function(a){this.fb=a=a||this.Fc();var b=this.f,c=this.uf,d=b.l;b.l=!0;a&&Hj(b,a,c,this);b.l=d};pC.prototype.uf=function(){};pC.prototype.vk=function(a){"function"===typeof a.getName&&"function"===typeof a.jc&&Gj(this.f,a.getName(),m(this.Pq,this,a),this)};pC.prototype.Pq=function(a,b,c){a.jc("value",c)};function qC(a,b,c){oC.call(this,a,b,c)}n(qC,oC);qC.prototype.Fk=function(a){Dl(a.target,"wnd-form-item-tooltip")?a.stopPropagation():(this.view.P&&(a=this.g,a.view.Uc(""),a.rf()),uB(this.view),this.notify(this.view.P?"onOpen":"onClose",this))};qC.prototype.rm=function(a,b){qC.m.rm.call(this,a,b);a.isEmpty()||uB(this.view)};qC.prototype.reset=function(){(this.g.isEmpty()&&this.view.P||!this.g.isEmpty()&&!this.view.P)&&uB(this.view);this.g.reset()};
qC.prototype.sm=function(a,b){qC.m.sm.call(this,a,b);this.reset()};I.j().register("wnd.ui.SwitchFieldset",Nj,xB,qC);function rC(a,b,c){Gz.call(this,a,b,c);this.g=null}n(rC,pC);rC.prototype.fa=function(){this.f.Ea(this.Gb,null,this)};rC.prototype.Gb=function(a,b){this.Fa();this.tn.apply(this,arguments);sC(this)};function sC(a){u(a.Yc(),function(a){a.observe(a instanceof aC?"onEditStart":"onClick",m(this.W,this),this);a instanceof aC&&a.observe("onEditEnd",m(this.hb,this),this)},a);u(kC(a),function(a){a instanceof aC&&a.observe("onOpen",m(this.W,this),this)},a)}
rC.prototype.W=function(a,b){this.g instanceof aC&&(b.getParent()===this.g||b===this.g)||(null!=this.g&&(this.g.reset(),this.g=null),b instanceof aC&&(this.g=b))};rC.prototype.hb=function(){this.g=null};function tC(a){u(a.Yc(),function(a){a.reset()},a);u(kC(a),function(a){a.reset()},a)};function uC(a,b,c){SB.call(this,a,b,c);a=P(this.f,"extendCssClass");O(this.f,"extendCssClass","wnd-popup-controls"+(a?" "+a:""));this.l={Submit:m(this.Nk,this),ConfirmDelete:m(this.Nk,this),ConfirmDisableMemberLogin:m(this.Nk,this),Cancel:m(this.Ii,this),Delete:m(this.Ur,this),Close:m(this.Mk,this),SaveAnyway:m(this.Yr,this),Reload:m(this.Jn,this),Login:m(this.Jn,this),Upgrade:m(this.Zr,this),Publish:m(this.Xr,this)}}n(uC,SB);f=uC.prototype;f.fa=function(){};
f.Id=function(a){z(a,function(a,c){O(this.f,c,a)},this);this.view.dc()};f.O=function(){this.Za();uC.m.O.call(this);z(this.Ig(),function(a){this.c.H(a,U,m(this.tA,this))},this)};f.tA=function(a){a.stopPropagation();a=ky(a.target,"wnd_content_button");return"function"!==typeof this.l[a]?!1:this.l[a].call(this,a)};f.Nk=function(){Zz(this).mb();return!0};f.Ii=function(){Zz(this).cancel();return!0};
f.Ur=function(){var a=Zz(this),b=""+P(this.f,"confirmDeleteTitle"),c=null;na(a.remove)&&(c=m(a.remove,a));vC(E.j(),{title:b,text:"Warning: all content will be permanently removed!",leftButtons:["ConfirmDelete"]},this,c);return!0};f.Mk=function(){var a=Zz(this);a.cancel();a.hide(null,!0);return!0};f.Yr=function(){var a=Zz(this),b=P(a.f,"serverObject");wC(xC.j());null!=b&&yC(b);a.mb()};f.Jn=function(){Zz(this).Br()};f.Zr=function(){this.notify("onUpgrade")};f.Xr=function(){this.notify("onPublish")};
f.eb=function(a,b){this.view.eb(a,b)};f.Ig=function(){return this.view.hb};I.j().register("wnd.ui.BasicControlBar",Pj,yB,uC);function zC(a,b,c){SB.call(this,a,b,c)}n(zC,SB);zC.prototype.fa=function(){};I.j().register("wnd.ui.BasicNavigationBar",Qj,AB,zC);function AC(a,b,c){SB.call(this,a,b,c)}n(AC,SB);AC.prototype.fa=function(){};AC.prototype.O=function(){AC.m.O.call(this);this.view.Ve&&this.c.H(this.view.Ve,U,this.g)};AC.prototype.g=function(a){a.stopPropagation();Zz(this).hide(null,!0);a=new H("openProjectSettings",this);this.ca(a)};I.j().register("wnd.ui.InfoBubbleContent",Mj,EB,AC);function BC(a,b,c){MB.call(this,a,b,c)}n(BC,MB);BC.prototype.pd=function(){return"popup"};BC.prototype.Id=function(a){z(a,function(a,c){O(this.f,c,a)},this);this.view.dc()};I.j().register("wnd.ui.InfoPopupContent",Ij,GB,BC);function CC(a,b,c){uC.call(this,a,b,c)}n(CC,uC);CC.prototype.Ii=function(){this.notify("onUploadCancel");return!0};I.j().register("wnd.ui.MediaFooter",Pj,yB,CC);function DC(a,b,c){SB.call(this,a,b,c)}n(DC,zC);f=DC.prototype;f.O=function(){DC.m.O.call(this);z(this.view.ve,function(a){this.c.H(a,U,m(this.ix,this))},this)};f.Wf=function(){};f.ix=function(a){a.stopPropagation();a=ky(a.currentTarget,"wnd_media_upload");this.notify("onUploadClick",a)};
function EC(a,b){IB(a.view,!1);IB(a.view,!0,b);if(b===Vj||b===Wj)var c=r.MediaHeader.cssFile,d=r.MediaHeader.cssImage,e=a.view.B();else c=r.MediaHeader.cssImage,d=r.MediaHeader.cssFile,e=a.view.B();Gl(e,d);El(e,c)}function FC(a){IB(a.view,!1);var b=r.MediaHeader.cssImage,c=r.MediaHeader.cssFile;a=a.view.B();Gl(a,c);El(a,b)}f.Aa=function(){this.view.Pc(!0)};f.Fa=function(){this.view.Pc(!1)};I.j().register("wnd.ui.MediaHeader",Qj,HB,DC);function GC(a,b,c){SB.call(this,a,b,c);this.g=P(this.f,"activeType")}n(GC,SB);var Vj="myFiles",Wj="myFavicons",Uj="myImages",fr="myVideos";function HC(a,b){O(a.f,"activeType",b);a.g=b;LB(a.view,a.g)}GC.prototype.fa=function(){};GC.prototype.O=function(){GC.m.O.call(this);z(this.view.Xa,function(a){this.c.H(a,U,m(this.l,this))},this)};
GC.prototype.l=function(a){a.stopPropagation();a=a.currentTarget;!1!==ly(a,"wnd_media_type")&&(this.g=ky(a,"wnd_media_type"),LB(this.view,this.g),this.notify("onChangeMediaType",this.g))};function IC(a,b){var c=Uj;"static_server"==a&&(c=qo(b)?"publicIcons":"publicImages");return c}I.j().register("wnd.ui.MediaTypes",Tj,JB,GC);function JC(){K.call(this);return this}n(JC,K);f=JC.prototype;f.Er="";f.De="";f.Sh="";f.Gq="";f.cb="";f.Dr=0;f.Fr=0;f.Qc="";f.bf="";f.Pn="";f.Eg="";f.Jf=0;
f.Sd=function(a){for(var b in a)if(a.hasOwnProperty(b))switch(b){case "id":this.Ga(a[b]);break;case "mediaType":KC(this,a[b]);break;case "dataType":this.Ab(a[b]);break;case "color":LC(this,a[b]);break;case "image":MC(this,a[b]);break;case "src":NC(this,a[b]);break;case "poster":OC(this,a[b]);break;case "height":this.setHeight(a[b]);break;case "width":this.setWidth(a[b]);break;case "mime":PC(this,a[b]);break;case "cssClassName":QC(this,a[b]);break;case "backgroundType":RC(this,a[b]);break;case "filename":SC(this,
a[b]);break;case "brightness":TC(this,a[b])}return this};f.Ga=function(a){this.Er=a;return this};f.getId=function(){return this.Er};function KC(a,b){a.ja=b;return a}f.Ab=function(a){this.o=a;return this};f.K=function(){return this.o};function LC(a,b){a.De=b;return a}function MC(a,b){a.Sh=b;return a}function NC(a,b){a.Gq=b;return a}f.ya=function(){return this.Gq};function UC(a){return a.cb?a.cb:a.ya()}function OC(a,b){l(b.src)?a.cb=b.src:a.cb=b;return a}
f.setHeight=function(a){this.Dr=parseInt(a,10);return this};f.getHeight=function(){return this.Dr};f.setWidth=function(a){this.Fr=parseInt(a,10);return this};f.Ma=function(){return this.Fr};function PC(a,b){a.Qc=b;return a}function QC(a,b){a.bf=b;return a}function RC(a,b){a.Pn=b;return a}f.Kh=function(){return this.Pn};function SC(a,b){a.Eg=b;return a}function TC(a,b){a.Jf=parseFloat(b);return a}function VC(a){return"filesystem_files"===a.K()&&(300>a.getHeight()||1E3>a.Ma())};function WC(a,b){K.call(this);a&&(this.c=null,a&&0<a.length&&(this.c=af(a)));b&&XC(this,b);this.g=!1;this.G=!0}n(WC,K);f=WC.prototype;f.$e={};
function YC(a){a.h=[];a.o={};a.M=0;a.l=0;a.notify("onInit");var b=new H("saveContentItems");Di(bg.j(),b);a.g=!0;for(b=0;b<a.c.length;b++)if(a.qb()){var c,d=a,e=a.c[b];c=new rf;c.h=e;c.data.file_active=d.G;d.w&&(c.data.parent_file_id=d.w);d.J&&(c.data.effect=d.J);c.data.file_group=d.A;c.data.file_name=e.name;var e=c,g=Math.floor(16777216*(1+Math.random())).toString(16).substring(1);e.c=g;mf(c,m(d.Kw,d));d=m(d.Dw,d);c.g.push(d);a.notify("onStart",c);a.h.push(c.c);"image"==a.A?(d=a.c[b],ZC(d.type)&&
F(t.fileUploadAllowExtension,$C(d.name))?a.o[c.c]=c:(c='Cannot upload image "'+(a.c[b].name+('" with "'+(a.c[b].name.replace("image/","")+'" extension.'))),a.gh(a.c[b],c))):vo.j().hasFeature("premium_upload")?F(t.restrictedUploadExtensions,$C(a.c[b].name))?(c='Cannot upload file "'+(a.c[b].name+('" with "'+($C(a.c[b].name)+'" extension.'))),a.gh(a.c[b],c)):aD(a,c):F(t.fileUploadAllowExtension,$C(a.c[b].name))?aD(a,c):(bD(),a.cancel())}"image"==a.A&&cD(a,q.UploadManager.processImagesCount)}
function cD(a,b){!1===(null!=b)&&(b=1);for(var c=0;c<b;c++){var d=Te(a.o);if(null!=d){var e=a,g=a.o[d],h=new FileReader;h.onload=m(e.Gw,e,h,g);var k=g.h;e.notify("onLoading",g);null!=k&&(dD(k.type)?h.readAsArrayBuffer(k):h.readAsDataURL(k));delete a.o[d]}}}function ZC(a){return F(q.UploadManager.supportedImagesMime,a)}function $C(a){return a.substr(a.lastIndexOf(".")+1).toLowerCase()}
f.cancel=function(){this.g=!1;for(var a=Qh.j(),b=0;b<a.c.length;b++)a.ng[a.c[b]]&&hy(a.ng[a.c[b]]),delete a.h[a.c[b]];a.c=[];for(b=0;b<a.g.length;b++)delete a.h[a.g[b]];a.g=[];this.notify("onFinish",this.h)};
f.Kw=function(a,b,c){0==(c.data.chunks_total||0)||sf(c)==(c.data.chunks_total||0)-1||"error"==a?(this.notify("onResponse",a,b,c),"success"==a?(this.M++,a=SC(PC(NC((new JC).Ga(b.id).Ab(b.dataType),b.url),b.mime),b.name).setWidth(b.width).setHeight(b.height),this.notify("onComplete",a,c),a=this.h.indexOf(c.c),-1<a&&this.h.splice(a,1)):this.l++,this.M+this.l==this.c.length&&(this.g=!1,this.notify("onFinish",this.h)),c=c.c,null!=this.$e[c]&&delete this.$e[c]):aD(this,c)};
f.Dw=function(a,b,c){var d=c.c;null!=this.$e[d]&&(b={loaded:b.loaded+sf(c)*t.maxChunkFileLimit,total:this.$e[d].size});this.notify("onProgress",a,b,c)};
function aD(a,b){if(a.qb()){var c=eD(a,b);if(c.size>t.maxUploadFileLimit)a.gh(c,'The file "'+(c.name+('" is too big. Maximum size for upload is '+(Math.round(t.maxUploadFileLimit/1048576)+" MB"+(", but your file is "+(Math.round(c.size/1048576)+" MB."))))));else if(c.size>t.maxChunkFileLimit)if(vo.j().hasFeature("premium_upload")){var c=b.c,d=eD(a,b),e=new hi("fileUpload",1);null!=a.$e[c]?b.data.chunk_processed=sf(b)+1:(a.$e[b.c]=d,b.data.chunk_processed=0,b.data.chunks_total=Math.ceil(d.size/t.maxChunkFileLimit));
b.h=new Blob([d.slice(sf(b)*t.maxChunkFileLimit,(sf(b)+1)*t.maxChunkFileLimit)],{type:d.type});Sh(Qh.j(),b,e)}else bD(),a.cancel();else c=new hi("fileUpload",1),Sh(Qh.j(),b,c)}}function eD(a,b){var c=b.c,d=b.h;null!=a.$e[c]&&(d=a.$e[c]);return d}
f.Gw=function(a,b){var c=b.h,d=1;if(dD(c.type)){var e=a.result,g=1,e=(new Hf).getData(e);!1!==e&&e.Orientation&&(g=e.Orientation);F(q.UploadManager.imageOrientation,g)||(g=1);d=g}g=new Image;e='Image "'+(c.name+'" is corrupted and cannot be uploaded.');g.onerror=m(this.gh,this,c,e,b);g.onload=m(this.Sv,this,g,b,d);try{if(dD(c.type)){for(var h,k=c.type,d="",p=new Uint8Array(a.result),w=0;w<p.byteLength;w++)d+=String.fromCharCode(p[w]);h="data:"+k+";base64,"+window.btoa(d);g.src=h}else g.src=a.result}catch(v){this.gh(c,
e,b)}};
f.Sv=function(a,b,c){var d=b.h,e;e=q.UploadManager.maxCanvasResolution.low;if(Xp)e=q.UploadManager.maxCanvasResolution.low;else if(aq&&(e=q.UploadManager.maxCanvasResolution.normal),Zp&&(e=q.UploadManager.maxCanvasResolution.normal,-1!=window.navigator.userAgent.indexOf("Linux")&&(e=q.UploadManager.maxCanvasResolution.high)),Yp||$p)e=q.UploadManager.maxCanvasResolution.high;if(a.width>e||a.height>e)this.gh(d,'Width or height of image "'+(d.name+('" exceeds the maximum limit of '+(e+"px. Please try to resize the image."))),b);
else{e=fD(a,d.type,q.FilesystemPreviewSize.small,c);this.notify("onPreview",b,e);e=q.UploadManager.maxResizeImageDimension;if(a.width>e||a.height>e||1<c)e=fD(a,d.type,e,c),a=gD(e,d.type),b.h=a;b.data.file_name=d.name;aD(this,b);cD(this)}};f.gh=function(a,b,c){this.notify("onError",a,b,c);this.l++;this.M+this.l==this.c.length?(this.g=!1,this.notify("onFinish",this.h)):cD(this)};function dD(a){return F(q.UploadManager.supportedExifMime,a)}
function fD(a,b,c,d){var e=document.createElement("canvas"),g=a.width,h=a.height;if(g>c||h>c)g>h?(h*=c/g,g=c):(g*=c/h,h=c);var k=q.UploadManager.imageTransformation[d];k.ratio&&(g=[h,h=g][0]);e.width=g;e.height=h;d=e.getContext("2d");d.translate(g/2,h/2);k.flip&&d.scale(-1,1);d.rotate(k.degree*Math.PI/180);k.ratio?d.drawImage(a,-h/2,-g/2,h,g):d.drawImage(a,-g/2,-h/2,g,h);if(c==q.FilesystemPreviewSize.small){a=d.getImageData(0,0,g,h);c=a.data;for(g=0;g<c.length;g+=4)h=.34*c[g]+.5*c[g+1]+.16*c[g+2],
c[g]=h,c[g+1]=h,c[g+2]=h;d.putImageData(a,0,0)}return e.toDataURL(b)}function gD(a,b){for(var c=window.atob(a.split(";base64,")[1]),d=new Uint8Array(c.length),e=0;e<c.length;++e)d[e]=c.charCodeAt(e);return new Blob([d],{type:b})}function XC(a,b){var c=["image","file","favicon"];b&&-1!=c.indexOf(b)||(b="image");a.A=b}function hD(a,b,c,d){a.A="image";if(!1===ZC(c))throw new Ia("Only image can be set by this method");b=gD(b,c);b.name=d;a.c=[b]}f.qb=function(){return this.g};function iD(){K.call(this)}n(iD,K);ea(iD);
function jD(a,b,c){c=c||!1;a=q.VideoLoaderManager.orientationClassName;var d=q.FilesystemPreviewSize.small,e=Yq(Tq.j(),b.cb,b.K(),d);null===e&&(e=po(b.cb,b.K(),d));var g=q.VideoLoaderManager.className+" ",g=b.Ma()>=b.getHeight()?g+a.landscape:g+a.portrait,d="img";a=null;b.ja!==fr||c||(d="div",a=" ");var g={"data-video":po(b.ya(),b.K()),"data-video-width":b.Ma(),"data-video-height":b.getHeight(),"class":g},h=b.si;null!=h&&(h.c&&(g["data-video-sound"]=""),g["data-video-start"]=h.h);if("videos"===b.ja||
c)g.src=e;return Pu(d,g,a)};function kD(a,b,c){K.call(this);a&&(this.h=a);b&&(this.c=b);c&&(this.A=c);return this}n(kD,K);kD.prototype.getSelection=function(){return this.h};kD.prototype.ea=function(){return this.c};kD.prototype.getParent=function(){return this.A};function lD(a,b){K.call(this);a&&mD(this,a);b&&nD(this,b);return this}n(lD,K);function mD(a,b){a.c=b;return a}lD.prototype.getType=function(){return this.c};function nD(a,b){a.A=b;return a}lD.prototype.getParent=function(){return this.A};function oD(){JC.call(this);return this}n(oD,JC);oD.prototype.Sd=function(a){oD.m.Sd.call(this,a);for(var b in a)if(a.hasOwnProperty(b))switch(b){case "mediaItemType":pD(this,a[b]);break;case "isUsed":this.g=1==a[b]}return this};function pD(a,b){a.c=b;return a};function qD(a,b,c){M.call(this,a,b,c);this.I={};this.Xa=[];this.W={};this.S=[];this.hb=null}n(qD,Mj);f=qD.prototype;
f.fh=function(a,b){this.W={};this.S=[];if(null!=b.order&&!D(b.order)){this.S=b.order;Ch(this.Xa,b.order);for(var c,d,e,g=0,h=b.order.length;g<h;g++){c=b.order[g];d=a[c];e=KC(pD((new oD).Ga(c),P(this,"itemType")).Ab(this.dataType),P(this,"mediaType"));if(null!=d[Q(this,"link")]){var k=e,p=q.FilesystemPreviewSize.small;"favicon"===P(this,"fileGroup")&&(p=null);p=po(d[Q(this,"src")],"filesystem_files",p);PC(SC(NC(MC(k,p),d[Q(this,"src")]),d[Q(this,"name")]).setWidth(d[Q(this,"width")]).setHeight(d[Q(this,
"height")]),d[Q(this,"mime_type","filesystem_types")]).g=d[Q(this,"is_used")]}else null!=d.hash?(k=e,PC(NC(k,d.path).setWidth(d.width).setHeight(d.height),d.mime),p="",d.type===rD||d.type===sD||d.type===tD?(p=po(d.poster,"static_server",q.FilesystemPreviewSize.small),OC(k,d.poster)):p=d.type===uD?po(d.path,"static_server"):po(d.path,"static_server",q.FilesystemPreviewSize.small),MC(k,p)):null!=d[Q(this,"source")]&&(k=d,OC(MC(NC(e,k[Q(this,"url")]).setWidth(k[Q(this,"width")]).setHeight(k[Q(this,"height")]),
k[Q(this,"thumbnail")]),k[Q(this,"thumbnail")]));this.I[c]=e;this.W[c]=e}}};f.hn=function(){return this.Md()?this.Xa:null};f.Md=function(){return!Ye(this.I)};f.Aj=function(){return this.Md()?0:Se(this.Md()?this.I:null)};f.le=function(a){return null!=this.I[a]?this.I[a]:null};function vD(a,b){rB.call(this,a,b);this.h={"class":"wnd-media-list"};this.l={};this.La={};this.kb={};this.gc={};this.F=null;this.re=!1;this.I=this.o=this.R=null}n(vD,rB);vD.prototype.da=function(){null===this.I&&(this.I=Tr(Mt,{css:"wnd-media-items"+(P(this.f,"dragDrop")?" wnd-media-list-drag-area":"")}),this.B().appendChild(this.I))};
function wD(a,b,c){l(c)&&c||(xD(a),a.l={});null===b?yD(a):(u(b,function(a){if(null==this.l[a]){var b=zD(this,this.f.le(a));null!=b&&(this.I.appendChild(b),null!=this.l[a]||(this.l[a]=b))}},a),a.notify("onRenderContent"))}
function zD(a,b){var c={xl:b.getId(),css:r.MediaList.itemCssPrefix+b.c};b.Sh&&(c.Bx=b.Sh);switch(b.c){case AD:c.name=b.Eg;break;case tD:c.css+=hr(b.Ma(),b.getHeight());if("videos"===b.ja||b.ja===fr)c.css+=" wnd-media-video";P(a.f,"checkLowResolution")&&VC(b)&&(c.css+=" wnd-image-low-resolution");c.Sm=!0;break;case BD:c.Sm=!0;break;case CD:c.backgroundColor=b.De;break;case uD:c.Sm=!0;break;default:return null}return Tr(Nt,c)}function yD(a){xD(a);a.R=Tr(Ot);a.B().appendChild(a.R)}
function DD(a){null!=a.R&&(sp(a.R),a.R=null)}function ED(a,b,c){if(!a.l[b]){var d=(new oD).Ga(b);P(a.f,"fileGroup")==AD?pD(SC(d,c),AD):pD(MC(d,no(r.MediaList.imagePlaceholder.src)).setWidth(r.MediaList.imagePlaceholder.width).setHeight(r.MediaList.imagePlaceholder.height),tD);c=zD(a,d);El(c,"wnd-upload-item");El(c,"wnd-disable-element");a.Mc(c);a.l[b]=c;a.La[b]=c.querySelector("img")}}
function FD(a,b,c){var d=a.gc[b];d&&S.aa(d,!1);var e=a.l[b];if(e){var g=a.La[b];g&&(g.src=c,g.onload=function(){Gl(e,"wnd-upload-item");S.aa(g,!0)})}}function GD(a,b){var c=a.l[b];if(c&&!a.gc[b]){var d=Tr(eu);a.gc[b]=d;c.appendChild(d);(c=a.La[b])&&S.aa(c,!1)}}function HD(a,b,c){var d=a.La[b];if(d){d.src=c;var e=a.kb[b];d.onload=function(){e&&S.aa(zp(e),!1)}}}function ID(a,b){var c=a.l[b];c&&sp(c)}
function JD(a,b,c,d){c=zD(a,c);if(null===c)return null;S.aa(c,!1);a.re&&El(c,"wnd-disable-element");a.I.appendChild(c);a.l[b]&&(tp(c,a.l[b]),sp(a.l[b]),null!=d&&(delete a.l[b],a.l[d]=c),S.aa(c,!0));return c}vD.prototype.Mc=function(a){null==this.F&&(this.F=vp(this.c));this.F?qp(a,this.F):this.I.appendChild(a)};vD.prototype.T=function(a){this.c.style.overflow=!0===a?"hidden":"auto"};function xD(a){z(a.l,function(a){sp(a)},a)}vD.prototype.$c=function(a){return this.l[a]||null};
function KD(a){z(a.l,function(a){El(a,"wnd-disable-element")})}function LD(a){z(a.l,function(a){Gl(a,"wnd-disable-element")})}function MD(a,b){null!=a.o&&S.Uh(a.o)&&(S.aa(a.o,!1),S.setOpacity(a.l[b],1))};function ND(a,b){vD.call(this,a,b);this.W=null}n(ND,vD);function OD(a,b){var c=a.$c(b);null!=c&&Gl(c,"wnd-item-hover");a.W=null};function PD(a,b,c){qD.call(this,a,b,c)}n(PD,qD);PD.prototype.dataType="filesystem_files";function QD(a,b){ND.call(this,a,b);this.w=null}n(QD,ND);function RD(a){null!=a.w&&S.aa(a.w,!1)}function SD(a){null===a.w&&(a.w=Tr(Qt),S.aa(a.w,!1),a.B().appendChild(a.w));return a.w};function TD(a,b,c){qD.call(this,a,b,c)}n(TD,qD);TD.prototype.dataType="static_server";function UD(a,b){vD.call(this,a,b);this.w={}}n(UD,vD);function VD(a,b){var c=b.getId(),d=a.$c(c);if(null!=d){var e=d.querySelector("i > img");if(e){var g=ip("video",{width:e.offsetWidth,height:e.offsetHeight,src:po(b.ya(),b.K(),q.FilesystemPreviewSize.small),poster:po(b.cb,b.K(),q.FilesystemPreviewSize.small)});g.addEventListener("canplay",function(){tp(g,e)});a.w[c]=g}}};function WD(a,b,c){qD.call(this,a,b,c)}n(WD,qD);WD.prototype.dataType="my_videos";function XD(a,b){rB.call(this,a,b);this.$b=!0;this.h={"class":"wnd-empty-block wnd-clearfix"}}n(XD,rB);function ZB(a,b,c){SB.call(this,a,b,c)}n(ZB,SB);f=ZB.prototype;f.fa=function(){};f.pa=function(a){ZB.m.pa.call(this,a);PB(this)||O(this.f,"style",this.getParent().Ne());!0===P(this.f,"showLoading")&&this.Aa()};f.Ne=function(){return PB(this)?ZB.m.Ne.call(this):this.getParent().Ne()};f.show=function(){ZB.m.show.call(this);u(this.G,function(a){a.show()},this)};f.hide=function(){ZB.m.hide.call(this);u(this.G,function(a){a.hide()},this);return!0};I.j().register("wnd.ui.PopupEmptyBlock",Yj,XD,ZB);function YD(){JC.call(this);return this}n(YD,JC);f=YD.prototype;f.ki="";f.nj="";f.mj="";f.tb=null;f.si=null;f.ie=null;
f.Sd=function(a){YD.m.Sd.call(this,a);for(var b in a)if(a.hasOwnProperty(b))switch(b){case "switcherType":ZD(this,a[b]);break;case "text":$D(this,a[b]);break;case "fxImage":this.nj=a[b];break;case "fxStyle":this.h=a[b];break;case "cropDefinition":var c=new kD,d=a[b],e=void 0;for(e in d)if(d.hasOwnProperty(e))switch(e){case "selection":c.h=d[e];break;case "previewSize":c.c=d[e];break;case "parent":var g=(new JC).Sd(d[e]);c.A=g}this.tb=c;break;case "effectDefinition":c=new lD;d=a[b];e=void 0;for(e in d)if(d.hasOwnProperty(e))switch(e){case "type":mD(c,
d[e]);break;case "parent":g=new JC,nD(c,g.Sd(d[e]))}aE(this,c);break;case "videoDefinition":c=new ii;d=a[b];e=void 0;for(e in d)if(d.hasOwnProperty(e))switch(e){case "sound":c.c=d[e];break;case "start":c.h=d[e]}this.si=c}return this};function ZD(a,b){a.ii=b;return a}function $D(a,b){a.ki=b;return a}function aE(a,b){a.ie=b;return a}f.getParent=function(){return this.A};function bE(a,b,c){MB.call(this,a,b,c)}n(bE,MB);f=bE.prototype;f.pd=function(){return"popup"};f.getSelection=function(){return N(this.f,"selection")};
f.init=function(){var a=this.f.gb(),b=a.width,c=a.height,d=CB(this.view);d.width=b;d.height=c;this.view.setSize(a.width+r.CropImagePopup.image.padding+"px",a.height+"px");this.notify("onCenter");a=CB(this.view).getBoundingClientRect();this.f.D=a;this.view.xc=!1;a=this.f;b=a.gb();c=Math.floor(b.width/r.CropImagePopup.selection.initSize);d=Math.floor(b.height/r.CropImagePopup.selection.initSize);Xi(a,"selection",{x:c,y:d,width:b.width-2*c,height:b.height-2*d,px:c,py:d});this.l=!1;cE(this)};
function cE(a){var b=[zj,Aj,Bj,Cj];a.g={};u(b,function(a){Ng(I.j(),"wnd_pc_CropImageCube_"+a)?this.g[a]=I.j().get("wnd_pc_CropImageCube_"+a):this.g[a]=I.j().create("wnd_pc_CropImageCube_"+a,"wnd.ui.CropImageCube",CB(this.view),null,{properties:{type:a}});a=this.g[a];var b=N(this.f,"selection");a.f.Xn=b;a.Rc("data_created")},a)}f.O=function(){bE.m.O.call(this);this.c.H(document.body,hq,m(this.Pv,this));this.c.H(CB(this.view),eq,m(this.Ov,this));this.c.H(document.body,fq,m(this.Qv,this))};
f.Pv=function(a){var b=this.f.D,c=Math.floor(a.clientX-b.left),d=Math.floor(a.clientY-b.top);if(this.l)DB(this.view,a.target,"wnd-cursor-move"),Sj(this.f,c,d);else{DB(this.view,a.target,"wnd-cursor-default");var e=!1;z(this.g,function(b,h){var k=bf(b.f.md);b.f.md=!1;var p=b.f.getPosition(),w=r.CropImagePopup.cube.size;c>p.x-w&&c<p.x+w&&d>p.y-w&&d<p.y+w&&(DB(this.view,a.target,"wnd-cursor-"+h+"-resize"),b.f.md=!0);if(!0===b.f.uh){var k=this.f,p=bf(N(k,"selection")),v,C,G,J;switch(h){case zj:G=0>c-
p.se?0:c-p.se;J=0>d-p.te?0:d-p.te;v=p.width+p.x-G;C=p.height+p.y-J;break;case Aj:G=p.x;J=0>d-p.te?0:d-p.te;v=c>k.D.width?k.D.width-G:c-p.se-G;C=p.height+p.y-J;break;case Bj:G=p.x;J=p.y;v=c>k.D.width?k.D.width-G:c-p.se-G;C=d>k.D.height?k.D.height-J:d-p.te-J;break;case Cj:G=0>c-p.se?0:c-p.se,J=p.y,v=p.width+p.x-G,C=d>k.D.height?k.D.height-J:d-p.te-J}v>10*r.CropImagePopup.cube.size&&C>10*r.CropImagePopup.cube.size&&(p.width=v,p.height=C,p.x=G,p.y=J,Xi(k,"selection",p))}else k!=b.f.md&&(e=!0)},this);
e&&this.Rc("data_updated")}};f.Ov=function(a){var b=this.f.D,c=Math.floor(a.clientX-b.left),d=Math.floor(a.clientY-b.top),e=N(this.f,"selection");e.se=c-e.x;e.te=d-e.y;Re(this.g,function(a){return!0===a.f.md?(a.f.uh=!0,a=a.getPosition(),e.se=c-a.x,e.te=d-a.y,!0):!1},this);a=r.CropImagePopup.cube.size;c>e.x+a&&c<e.x+e.width-a&&d>e.y+a&&d<e.y+e.height-a&&(this.l=!0)};f.Qv=function(){var a=N(this.f,"selection");this.l=!1;a.se=0;a.te=0;z(this.g,function(a){a.f.uh=!1},this)};
f.Jb=function(a,b){if(!1===this.view.xc){var c=N(this.f,"selection");z(this.g,function(a){a.f.Xn=c;b&&a.Rc(b)},this)}};I.j().register("wnd.ui.CropImageContent",Rj,BB,bE);function dE(a,b,c){M.call(this,a,b,c);this.data={};this.Hb=l(P(this,"pagination"))&&!0===P(this,"pagination");this.kb=this.La=0;this.F=1;this.Ef=!1}n(dE,M);dE.prototype.le=function(a){return l(a)?this.data[a]||null:this.data};function eE(a,b,c){dE.call(this,a,b,c);this.Ze=!1;l(P(this,"useItemAsTitle"))&&(this.Ze=!!P(this,"useItemAsTitle"));if(!this.Ze&&!l(P(this,"title")))throw new Pa('Missing property "title" for the Dropdown switcher.');}n(eE,dE);function fE(a,b){my.call(this,a,b);this.h={"class":"wnd-switcher"};this.F=r.StyleSwitcher.block;this.A=null;this.R={};this.Gb=this.Gc=this.W=this.vc=this.Af=this.o=this.fb=null}n(fE,my);f=fE.prototype;
f.da=function(){this.Nf();null!=P(this.f,"title")&&Qr(this.B(),ju,{title:P(this.f,"title")});this.A=Tr(ku);if(!0===this.f.Hb){var a=Tr(lu);this.W=a.querySelector(".wnd-switcher-paginate-items");this.Gc=a.querySelector(".wnd-change-page.wnd-prev");this.Gb=a.querySelector(".wnd-change-page.wnd-next");this.W.appendChild(this.A);this.B().appendChild(a)}else this.B().appendChild(this.A);null!=P(this.f,"moreItems")&&(a={},ia(P(this.f,"moreItems"))?a={name:P(this.f,"moreItems")[0],next:P(this.f,"moreItems")[1]}:
a={name:P(this.f,"moreItems")},this.o=Tr(ou,a),this.Af=this.o.querySelector("a"),this.vc=this.o.querySelector("i"),gE(this,!1),this.B().appendChild(this.o));null!=P(this.f,"items")&&hE(this)};function gE(a,b){null===a.o||S.aa(a.o,b)}function hE(a){a.f.La=0;u(P(a.f,"items"),a.fl,a);!0===a.f.Hb&&(a.f.kb=Math.ceil(a.f.La/7),1===a.f.kb?(El(a.B(),"wnd-hide-arrows"),iE(a,!1),jE(a,!1)):(1===a.f.F&&iE(a,!1),7>a.f.La&&jE(a,!1)));gE(a,!0)}
f.fl=function(a){this.f.data[a.getId()]=a;var b=this.Kl(a);null!==b&&(this.R[a.getId()]=Tr(mu,b),P(this.f,"selected")===a.getId()&&(this.fb=this.R[a.getId()]),a=this.R[a.getId()],this.A.appendChild(a),this.f.La++)};f.$c=function(a){return this.R[a]};
f.Kl=function(a){var b={tp:a.getId(),selected:P(this.f,"selected")===a.getId()};switch(a.ii){case kE:b.style={color:a.De};break;case lE:b.style={Vl:a.Sh};"patterns"!=a.ja&&mE(this,b.style,a);a.h&&(b.zo=!0,b.oj=a.h);a.bf&&(b.jl=a.bf);break;case nE:a.nj||a.mj?(b.zo=!0,b.kt=a.bf,a.mj?b.oj={np:a.mj}:b.oj={Vl:a.nj},mE(this,b.oj,a)):b.jl=a.bf;break;case oE:b.gy=a.getId();break;case pE:b.jl=a.bf;b.text=a.ki;break;case qE:b.Ap=this.f.La+1;break;default:return null}return b};
function mE(a,b,c){c.Ma()>c.getHeight()?b.left=parseInt((a.F.width*(c.Ma()/c.getHeight())-a.F.width)/2,10):c.getHeight()>c.Ma()&&(b.top=parseInt((a.F.height*(c.getHeight()/c.Ma())-a.F.height)/2,10))}function rE(a){null!==a.fb&&Gl(a.fb,"selected")}f.$k=function(a){pp(this.A);gE(this,!1);a&&!1!==this.f.Hb&&(S.setPosition(this.A,0,0),this.f.F=1,jE(this,!0),iE(this,!1))};
function sE(a,b){if(!1!==a.f.Hb){var c=new tw(a.A,[parseInt(a.A.style.left,10)||0,0],[-((null!=a.W?a.W.offsetWidth:0)*(b-1)),0],r.StyleSwitcher.fxDurationSlide);Vm(c,"end",m(function(){this.f.Ef=!1},a));a.f.Ef=!0;c.play()}}function jE(a,b){null!=a.Gb&&R(a.Gb,"disabled",!b)}function iE(a,b){null!=a.Gc&&R(a.Gc,"disabled",!b)};function tE(a,b){fE.call(this,a,b);this.h={"class":"wnd-dropdown-switcher"};this.Hb=this.S=null;this.La=!1}n(tE,fE);f=tE.prototype;f.da=function(){this.Nf();var a="";if(l(P(this.f,"title"))||P(this.f,"title"))a=""+P(this.f,"title");this.S=Tr(Ps,{title:a});this.Hb=this.S.querySelector("b");this.A=Tr(ku);null!=P(this.f,"maxHeight")&&S.setStyle(this.A,"max-height",P(this.f,"maxHeight")+"px");this.Qe(!1);uE(this);null!=P(this.f,"items")&&hE(this);this.B().appendChild(this.S);this.B().appendChild(this.A)};
function uE(a){P(a.f,"showArrow")&&(a.w||(a.w=Tr(Qs)),a.A.appendChild(a.w))}f.$k=function(a){tE.m.$k.call(this,a);uE(this)};f.fl=function(a){tE.m.fl.call(this,a);this.f.Ze&&P(this.f,"selected")===a.getId()&&vE(this,a.ki)};f.Kl=function(a){var b={tp:a.getId(),selected:P(this.f,"selected")===a.getId()};switch(a.ii){case wE:b.text=a.ki;break;case xE:b.mp={src:a.ya(),width:a.Ma(),height:a.getHeight()};break;default:b=tE.m.Kl.call(this,a)}return b};
f.Qe=function(a){S.aa(this.A,a);R(this.S,"wnd-toggle-open",a);if(a){Gl(this.A,"wnd-dropdown-top");S.setStyle(this.A,"top","");this.La&&(S.setStyle(this.A,"height",""),this.La=!1);a=null;var b=r.Toolbox.topOffset,c=S.getBounds(this.A),d=S.getBounds(this.S),e=ep(window),g=fp(document),h="bottom";e.height+g.y<c.top+c.height&&(h="top");"top"===h&&g.y+e.height/2>d.top&&(h="bottom");R(this.A,"wnd-dropdown-top","top"===h);S.setStyle(this.A,"top","top"===h?-c.height+"px":"");c=S.getBounds(this.A);"top"===
h&&c.top<g.y+b?(a=d.top-g.y-b,S.setStyle(this.A,"top",-a+"px")):"bottom"===h&&c.top+c.height>g.y+e.height-r.DropdownSwitcher.bottomOffset&&(a=g.y+e.height-r.DropdownSwitcher.bottomOffset-c.top);null!=a&&(a<r.DropdownSwitcher.itemsHeightLimit&&(a=r.DropdownSwitcher.itemsHeightLimit),S.setStyle(this.A,"height",a+"px"),this.La=!0);S.setStyle(this.A,"left","");a=S.getBounds(this.A);a.left+a.width>ep(window).width&&(a=S.getBounds(this.S).width-a.width,S.setStyle(this.A,"left",a+"px"));this.w&&(a=S.getBounds(this.A),
b=S.getBounds(this.S),this.w.style.left=b.left-a.left+b.width-r.DropdownSwitcher.arrowOffset+"px")}};function vE(a,b){null!==a.Hb&&(a.Hb.innerHTML=b)}function yE(a){a=S.Go(a);return"auto"!=a?parseInt(a,10):0};function zE(a,b,c){tz.call(this,a,b,c);this.l=this.g=null}n(zE,tz);var kE="color",lE="bgr",nE="cssbgr",oE="variant",pE="transform",qE="numbers",wE="dropdown",xE="dropdown_image";f=zE.prototype;
f.O=function(){zE.m.O.call(this);this.c.H(this.view.A,U,m(this.Yh,this));null!=this.view.Af&&this.c.H(this.view.Af,U,m(this.bv,this));null!=this.view.vc&&this.c.H(this.view.vc,U,m(this.cv,this));this.c.H(this.B(),U,m(this.lv,this));null!=this.view.Gc&&this.c.H(this.view.Gc,U,m(this.Tp,this,!1));null!=this.view.Gb&&this.c.H(this.view.Gb,U,m(this.Tp,this,!0))};
f.Tp=function(a,b){b.stopPropagation();this.f.Ef||(a?this.f.F>=this.f.kb||(1===this.f.F&&iE(this.view,!0),this.f.F++,sE(this.view,this.f.F),this.f.F===this.f.kb&&jE(this.view,!1)):1>=this.f.F||(this.f.F===this.f.kb&&jE(this.view,!0),this.f.F--,sE(this.view,this.f.F),1===this.f.F&&iE(this.view,!1)))};f.lv=function(a){a.stopPropagation()};
f.Yh=function(a){null!=this.l&&this.l.Ra()&&this.l.hide(null,!0);var b;a:{b=a.target;do{if(ly(b,"wnd_switch_item"))break a;if(b===this.B())break}while(b=b.parentNode);b=null}if(null===b)return null;a.stopPropagation();a=ky(b,"wnd_switch_item");var c=this.f.le(a);if(c.ii!=pE){var d=this.view;null!==d.fb&&Gl(d.fb,"selected");El(b,"selected");d.fb=b}this.notify("selectItem",a,c);return c};f.bv=function(a){a.stopPropagation();this.notify("showMoreItems",P(this.f,"collectionSettings"))};
f.cv=function(a){a.stopPropagation();this.notify("onNextAction")};f.Qd=function(a,b,c){this.Fa();this.f.data={};O(this.f,"items",a);O(this.f,"selected",b);this.view.$k(c);hE(this.view)};f.Ua=function(a){zE.m.Ua.call(this,a);null!=P(this.f,"items")||this.Aa()};f.Aa=function(){this.g||(this.g=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.view.A,this,{properties:{type:wj}}));this.g.show()};f.Fa=function(){this.g&&(this.g.dispose(),this.g=null)};f.X=function(){this.g&&this.g.dispose();zE.m.X.call(this)};
f.gx=function(){};f.$c=function(a){return this.view.$c(a)};I.j().register("wnd.ui.StyleSwitcher",dE,fE,zE);function AE(a,b,c){qD.call(this,a,b,c)}n(AE,qD);AE.prototype.fh=function(a){this.I={};l(this.c.collectionSettings)&&l(this.c.collectionSettings.colors)&&u(this.c.collectionSettings.colors,function(a){"none"!==a.Kh()&&BE(this,a.getId(),a.De,"solidColorSchemes")},this);z(a,function(a,c){u(a.colors,function(a){BE(this,c+"-"+a.rgb,a.rgb,P(this,"mediaType"),a.brightness)},this)},this);this.W=this.I;this.S=this.Xa};
function BE(a,b,c,d,e){a.I[b]=KC(pD(LC((new oD).Ga(b),c),P(a,"itemType")),d);e&&TC(a.I[b],e);a.Xa.push(b)}AE.prototype.dataType="tpl_color_sets";function CE(a,b,c){zE.call(this,a,b,c);this.D=this.f.Hb=!1;this.I=!!P(this.f,"useOverlay");this.w=null}n(CE,zE);f=CE.prototype;f.O=function(){CE.m.O.call(this);this.c.H(this.view.S,U,m(this.cx,this))};f.cx=function(a){this.Qe(!this.D);a.stopPropagation()};f.Yh=function(a){a=CE.m.Yh.call(this,a);this.Qe(!1);null!=a&&this.f.Ze&&(vE(this.view,a.ki),this.notify("titleChanged",a));return a};
f.Qe=function(a){this.view.Qe(a);if(this.D=a){this.I&&this.ac().show();a=this.view;var b=yE(this.getParent().B())+2;a.S.style.zIndex=b;a.A.style.zIndex=b;this.c.H(window,"scroll",this.yr,!1);this.w=S.Zb(document);this.notify("onOpen",this)}else this.I&&this.ac().hide(),a=this.view,a.S.style.zIndex="auto",a.A.style.zIndex="auto",this.c.Ac(window,"scroll",this.yr),this.w=null,this.notify("onClose",this)};
f.ac=function(){var a=yE(this.getParent().B())+1;return oA.j().get("Transparent",this.B(),"dropdown",a,m(this.dv,this))};f.dv=function(){this.D&&this.Qe(!1)};f.X=function(){this.Qe(!1);CE.m.X.call(this)};f.yr=function(a){a.stopPropagation();a.preventDefault();null!=this.w&&window.scrollTo(this.w.x,this.w.y);return!1};I.j().register("wnd.ui.DropdownSwitcher",eE,tE,CE);function DE(a,b,c){CE.call(this,a,b,c);O(this.f,"selected",t.page.langId.toString());O(this.f,"title",EE(this));null!=P(this.f,"items")||O(this.f,"items",FE(this))}n(DE,CE);f=DE.prototype;f.O=function(){DE.m.O.call(this);this.c.H(document.body,U,m(this.KA,this))};f.Y=function(a){DE.m.Y.call(this,a);var b=t.page.langId;"dataDelete"===a.getType()&&a.K()===r.FeLanguages.DataType&&a.g!=b&&(O(this.f,"selected",b.toString()),this.Qd(FE(this),b,!0))};
function EE(a){var b=parseInt(P(a.f,"selected"),10),b=Ti(Ri.j(),b);return P(a.f,"fullTitle")?b.getName():Wf(b)}function FE(a){var b=[];z(Ri.j().c,function(a){var d=a.getId();a=P(this.f,"fullItemName")?a.getName():Wf(a);b.push(ZD($D(new YD,a).Ga(d.toString()),wE))},a);return b}f.Qd=function(a,b,c){1===Ri.j().hd()?(this.hide(),this.notify("hideSwitcher")):(DE.m.Qd.call(this,a,b,c),this.close(),vE(this.view,EE(this)))};
f.Id=function(a){a=a.selected;null!=a&&P(this.f,"selected")!=a&&(O(this.f,"selected",a),this.Qd(FE(this),a,!0))};f.KA=function(){this.close()};f.close=function(){this.Qe(!1)};f.Yh=function(a){a=DE.m.Yh.call(this,a);null!=a&&(O(this.f,"selected",a.getId()),vE(this.view,EE(this)));return a};I.j().register("wnd.ui.LanguageSwitcher",eE,tE,DE);function GE(a,b){rB.call(this,a,b);this.h={"class":"wnd-upload"};this.bd=this.ab=this.yh=null}n(GE,rB);GE.prototype.da=function(){var a=Tr(zu,this.N());this.yh=a.querySelector("b");this.ab=a.querySelector('input[name="file"]');this.bd=a.querySelector(".wnd-upload-drag-area");this.c.appendChild(a)};
GE.prototype.N=function(){var a={multiple:P(this.f,"multipleUpload"),wl:P(this.f,"fileGroup"),nu:P(this.f,"newGallery")};"image"==a.wl?a.accept=q.UploadManager.supportedImagesMime.join():"favicon"==a.wl&&(a.accept=q.UploadManager.supportedFaviconMime.join());return a};GE.prototype.show=function(){GE.m.show.call(this);this.ab.value="";HE(this)};function HE(a){a.o&&(a.o=!1,Gl(a.bd,"active"))};function IE(a,b,c){SB.call(this,a,b,c);this.g=new WC;this.g.observe("onInit",m(this.zB,this),this);this.g.observe("onStart",m(this.$w,this),this);this.g.observe("onLoading",m(this.mw,this),this);this.g.observe("onPreview",m(this.Aw,this),this);this.g.observe("onError",m(this.Fv,this),this);this.g.observe("onProgress",m(this.Cw,this),this);this.g.observe("onResponse",m(this.AB,this),this);this.g.observe("onComplete",m(this.wB,this),this);this.g.observe("onFinish",m(this.yB,this),this);this.l=[];this.D=
null}n(IE,SB);f=IE.prototype;f.fa=function(){};f.O=function(){IE.m.O.call(this);this.c.H(this.view.yh,U,this.Jr);this.c.H(this.view.ab,"change",this.send);var a=this.view.bd;this.w=new Pr(a,!0);this.c.H(a,"dragover",m(this.xB,this));this.c.H(a,"dragleave",m(this.wv,this));this.c.H(this.w,"drop",m(this.send,this))};f.Za=function(){IE.m.Za.call(this);this.w&&(this.w.dispose(),this.w=null)};
f.Jr=function(a,b){!0===(null!=a)&&a.stopPropagation();if(P(this.f,"multipleUpload")&&b&&1==b){var c=E.j(),d=m(this.click,this);JE(c,{title:"Tip: Select Multiple Files",text:'To upload multiple files at the same time, press the "Ctrl" key and click on the files you want to transfer.',extendCssClass:"wnd-select-multiple-files"},this,d)}else this.click()};f.click=function(){this.view.ab.click()};
f.send=function(a){a.stopPropagation();var b=[];"drop"===a.type?"function"===typeof a.M&&(b=a.c.dataTransfer.files,P(this.f,"multipleUpload")||(b=Eh(b,0,1))):b=this.view.ab.files;if(0<b.length){a=P(this.f,"fileGroup");this.g.G=!0;var c=this.g;c.c=null;b&&0<b.length&&(c.c=af(b));XC(this.g,a);YC(this.g)}};f.zB=function(){this.l=[];this.notify("onInitUpload")};f.$w=function(a,b){this.notify("onStartUpload",b)};f.mw=function(a,b){this.notify("onLoadingUpload",b)};
f.Aw=function(a,b,c){this.notify("onPreviewUpload",b,c)};f.Fv=function(a,b,c,d){this.l.push(c);this.notify("onErrorUpload",b,d)};f.Cw=function(a,b,c,d){this.notify("onProgressUpload",b,c,d)};
f.AB=function(a,b,c,d){"error"==b&&c.text&&(null!=c.code&&c.code==za.errorCode.notEnoughStorage?(a=E.j(),KE(a,{type:"notEnoughStorage",params:{upgradeUri:xo(vo.j(),"storage",t.keenIo.refs.notEnoughStoragePopup),upgradeText:"Upgrade storage"}}),this.g.cancel()):this.l.push(c.text));this.notify("onResponseUpload",b,c,d)};f.wB=function(a,b,c){this.notify("onCompleteUpload",b,c)};
f.yB=function(a,b){this.view.ab.value="";HE(this.view);0<this.l.length&&LE(E.j(),this.l,this);this.notify("onFinishUpload",b,0<this.l.length)};f.xB=function(){var a=this.view;a.o||(a.o=!0,El(a.bd,"active"));window.clearTimeout(this.D)};f.wv=function(){this.D=window.setTimeout(m(function(){HE(this.view);this.notify("onDragOut")},this),100)};f.cancel=function(){""!=this.view.ab.value&&this.g.cancel()};f.qb=function(){return this.g.qb()};I.j().register("wnd.ui.UploadFilePopupContent",Mj,GE,IE);function ME(a,b,c){SB.call(this,a,b,c);this.f.observe("onDataLoaded",this.Hp,this);this.xc=!1;this.ga=null;this.Gb=!1;this.Ia=0;this.qa=r.MediaList.itemsOnPage;this.I=[];this.D=[];this.hb=m(this.ef,this);this.W=m(this.Rg,this);this.Pc=m(this.Ul,this);this.g=null;this.T=!1;this.wa=null}n(ME,SB);var tD="image",BD="icon",AD="file",CD="solidColor",rD="video",sD="pattern",uD="favicon";f=ME.prototype;f.pa=function(a){ME.m.pa.call(this,a);this.mg()};
f.mg=function(a){a&&(a=this.f,a.Xf()&&(a.hb=bf(a.c.collectionSettings.limit),a.c.collectionSettings.limit.count=a.hb.from+a.hb.count,a.c.collectionSettings.limit.from=0));this.f.Ea(this.Hp,null,this)};f.Hp=function(a,b,c,d){this.f.fh(b,d);a=this.f;null!==a.hb&&(a.c.collectionSettings.limit=bf(a.hb),a.hb=null);this.kh()};
f.kh=function(){if(Ye(this.f.W))this.T?this.Fa():!0===P(this.f,"canUpload")?(xD(this.view),NE(this)):(this.Fa(),yD(this.view));else{var a=this.f;wD(this.view,Ye(a.W)?null:a.S,this.T);this.Fa();this.T=!1;null!=this.ga&&this.ga.Ya()&&TB(this.ga);!0===this.Gb&&this.bh()}};f.fa=function(){};
f.O=function(){null!=this.c&&this.c.removeAll();ME.m.O.call(this);this.c.H(this.B(),"dragstart",m(this.xv,this));this.c.H(this.B(),"dragover",m(this.$A,this));this.c.H(this.B(),U,m(this.Ik,this));this.f.Xf()&&this.c.H(this.B(),"scroll",m(this.Ei,this));var a=$o("wnd-media-item",this.view.B());this.D=fg(a);u(this.D,function(a){this.c.H(a,"mouseover",this.hb);this.c.H(a,gq,this.W);this.c.H(a,U,this.Pc)},this)};
f.$A=function(){!0===P(this.f,"canUpload")&&(null===this.ga||null!=this.ga&&this.ga.Ya())&&(NE(this),this.xc=!0)};f.vv=function(){!0===this.xc&&TB(this.ga)};f.xv=function(a){a.preventDefault();a.stopPropagation();return!1};f.Ik=function(){};f.Ul=function(a){var b=null;null!=this.g&&(b=this.f.le(this.g));null!=b&&(a.stopPropagation(),b.g=!0,this.notify("onItemClick",OE(b)))};
f.Ei=function(a){!this.T&&null===this.f.hb&&this.view.I.offsetHeight-a.target.scrollTop<a.target.offsetHeight+r.MediaList.scrollDistance&&(this.pp(),a.stopPropagation())};f.pp=function(){this.f.Qm();this.T=!0;this.Aa();this.mg()};f.Aa=function(a){this.T?(null===this.wa&&(this.wa=I.j().create(this.C()+"_loading_refill","wnd.ui.Loading",this.B(),this,{properties:{type:"popup",height:50,width:this.B().offsetWidth}})),this.wa.show()):ME.m.Aa.call(this,a)};
f.Fa=function(){ME.m.Fa.call(this);null!=this.wa&&this.wa.hide()};function PE(a,b){if(null!=a.ga&&a.ga.qb())return null;var c;a:{c=b.target;do{if(ly(c,"wnd_media_file"))break a;if(c===a.B())break}while(c=c.parentNode);c=null}b.stopPropagation();if(null===c)return null;c=ky(c,"wnd_media_file");c=a.f.le(c);return null===c?null:c}
function OE(a){var b=KC((new JC).Ga(a.getId()),a.ja);switch(a.c){case tD:case BD:case AD:case uD:PC(OC(SC(NC(b.Ab(a.K()),a.ya()),a.Eg).setWidth(a.Ma()).setHeight(a.getHeight()),a.cb),a.Qc);break;case CD:TC(LC(b,a.De),a.Jf)}return b}function QE(a){a.Aa();a.view.T(!1);a.mg(!0)}f.bh=function(){if(!0===P(this.f,"canUpload")){this.Gb=!1;null===this.ga&&NE(this);this.f.Md()?(TB(this.ga),this.view.T(!1)):this.ga.view.show();var a=this.f.Aj();this.ga.Jr(null,a)}};f.ah=function(){null!=this.ga&&this.ga.cancel()};
function NE(a){!0===P(a.f,"canUpload")&&(a.Fa(),a.view.T(!0),null!=a.ga?a.ga.view.show():RE(a))}
function RE(a){a.ga=a.L(a.C()+"_media_upload","wnd.ui.UploadFilePopupContent",null,{properties:{initRenderFlag:!0,multipleUpload:P(a.f,"multipleUpload"),closeAfterUpload:!1,fileGroup:P(a.f,"fileGroup"),width:r.UploadFilePopupContent.width,height:r.UploadFilePopupContent.height}});a.ga.observe("onDragOut",m(a.vv,a),a);a.ga.observe("onInitUpload",m(a.Ye,a),a);a.ga.observe("onStartUpload",m(a.xn,a),a);a.ga.observe("onLoadingUpload",m(a.aB,a),a);a.ga.observe("onPreviewUpload",m(a.bB,a),a);a.ga.observe("onErrorUpload",
m(a.Gv,a),a);a.ga.observe("onProgressUpload",m(a.cB,a),a);a.ga.observe("onResponseUpload",m(a.um,a),a);a.ga.observe("onCompleteUpload",m(a.Di,a),a);a.ga.observe("onFinishUpload",m(a.wn,a),a)}f.Ye=function(){this.Ia=0;this.view.re=!0;this.I=[];this.ga.Ya()&&TB(this.ga);KD(this.view);this.notify("onInitUpload")};f.xn=function(a,b){ED(this.view,b.c,b.h.name)};f.aB=function(a,b){GD(this.view,b.c)};f.bB=function(a,b,c){this.ga.qb()&&FD(this.view,b.c,c)};
f.cB=function(a,b,c,d){if(this.ga.qb()){if(!F(this.I,d.c)&&(this.I.push(d.c),0<this.Ia&&0==this.Ia%this.qa)){a=D(this.I)?void 0:this.I[Math.floor(this.I.length-.5)];if(a){b=this.view;var e=b.B();l(b.l[a])&&(new vw(e,[e.scrollLeft,e.scrollTop],[e.scrollLeft,b.l[a].offsetTop],r.MediaList.animationScrollTime)).play()}this.qa<r.MediaList.itemsOnPage&&(this.qa=r.MediaList.itemsOnPage)}a=this.view;d=d.c;c=Math.round(c.loaded/c.total*100);if(b=a.l[d]){e=a.kb[d];if(!e&&!a.kb[d]){var g=Tr(du),e=g.querySelector("i");
b.appendChild(g);a.kb[d]=e}S.setWidth(e,c+"%")}}};f.um=function(a,b,c,d){F(this.I,d.c)&&dg(this.I,d.c);"error"==b&&ID(this.view,d.c)};f.Di=function(){this.ga.qb()&&this.Ia++};f.Gv=function(a,b,c){c&&ID(this.view,c.c)};f.wn=function(a,b){this.view.re=!1;SE(this,b);this.view.T(!1);LD(this.view);this.notify("onFinishUpload")};function SE(a,b){u(b,function(a){ID(this.view,a)},a)}f.bg=function(a){ME.m.bg.call(this,a);this.f.Md()||this.Aa()};f.K=function(){return this.f.K()};f.mt=function(){return this.g};
function TE(a){var b=new T(a.clientX,a.clientY),c=S.Zb(window.document);a=S.getBounds(a.currentTarget);a.left-=c.x;a.top-=c.y;c=b.x==a.left||b.x==a.left+a.width||b.y==a.top||b.y==a.top+a.height;return a.contains(b)&&!c}f.ef=function(a){this.g=ky(a.currentTarget,"wnd_media_file")};f.Rg=function(){};I.j().register("wnd.ui.MediaList",qD,vD,ME);function UE(a,b,c){ME.call(this,a,b,c);this.F=this.l=this.U=this.bd=this.V=null;1==P(this.f,"dragDrop")&&(this.V=new SA(this),this.V.observe("onDragstart",this.EA,this),this.V.observe("onDragend",this.DA,this),this.V.observe("onDrop",this.FA,this))}n(UE,ME);f=UE.prototype;f.Y=function(a){UE.m.Y.call(this,a);var b=!1;null!=this.ga&&this.ga.qb()&&(b=!0);b||a.K()!=this.K()||"dataCreate"===a.getType()&&this.f.le(a.g)||(this.f.update("data_updated"),QE(this),!1===this.f.Md()&&NE(this))};
f.qg=function(a){if(this.D)for(var b=this.D.length,c=!1,d=null,e=null,g=0;g<b;g++)d=this.D[g],c=a?d.id==a:g==b-1,!c&&l(this.D[g+1])&&(e=this.D[g+1],c=S.getBounds(d).left>S.getBounds(e).left),e=this.V,e.tc(d,"left",null,"wnd.ui.EditableMediaListDropStripe"),e.Ka(d),c&&e.tc(d,"right",null,"wnd.ui.EditableMediaListDropStripe"),e.P+=Math.round(d.offsetHeight/Math.floor(e.c.offsetWidth/d.offsetWidth))};
f.EA=function(a,b){if(!Rz){null!=this.Pa()&&this.Pa().hide();var c=b.Bb;c?Vz(this.V,{sourceElement:c,realGrip:!0}):Vz(this.V,{blockType:this.Bo()})}};f.Bo=function(){return"general"};f.DA=function(){};f.FA=function(a,b,c,d){"left"!=d&&"right"!=d||this.move(b,c,d);a=$o("wnd-media-item",this.view.B());this.D=fg(a);this.V.reset();this.V.init()};f.move=function(){};
f.Wl=function(){this.bd=E.j().create("wnd.ui.Toolbox",this.C()+"_toolbox",this.bb(),this,{withOverlay:!1},{arrow:!0,extendCssClass:"wnd-toolbox-gallery",viewportSize:S.oa(this.B())})};f.Ai=function(){return[qi(ni(li(new ki,VE),m(this.ep,this)),!0)]};f.Ua=function(a){1==P(this.f,"dragDrop")&&(KA(this.V,this.B()),this.V.U=this.view.I,requestAnimationFrame(m(function(){this.V.reset();this.V.init()},this)));P(this.f,"toolbox")&&ga(this.Pa())&&this.Wl();UE.m.Ua.call(this,a)};
f.Za=function(){UE.m.Za.call(this);this.V&&(this.V.reset(),this.V.dispose());null!=this.Pa()&&this.Pa().hide()};function WE(a,b,c){null!=a.Pa()&&(c=c||b.currentTarget,b=S.Le(c,a.bb()),c=S.oa(c),a.Pa().f.rd=new pm(b.x,b.y,c.width,c.height),cg(a.Pa(),a.Ai(),!1))}f.zr=function(a){var b;if(!(b=null==this.Pa()||XE(this.Pa(),a))){b=this.Pa();var c;(c=null===b.Na)||(c=oA.j(),c=!l(c.c[b.Na]));b=c?!1:a.target===b.ac().B()}b||this.Pa().hide(a.c,!0)};
f.ef=function(a){UE.m.ef.call(this,a);if((null==this.ga||!this.ga.qb())&&null!=this.g){a=this.view;var b=this.g;null!=a.W&&OD(a,a.W);El(a.$c(b),"wnd-item-hover");a.W=b}};f.Rg=function(a){UE.m.Rg.call(this,a);TE(a)||(this.zr(a),null!=this.g&&OD(this.view,this.g))};f.Ei=function(a){UE.m.Ei.call(this,a);null!=this.g&&(this.Pa().hide(a.c,!0),OD(this.view,this.g),this.g=null)};f.X=function(){this.Pa().dispose();UE.m.X.call(this)};f.Ye=function(a){this.V&&this.V.reset();UE.m.Ye.call(this,a)};f.Pa=function(){return this.bd};
f.Ik=function(a){null!=this.Pa()&&this.Pa().hide(null,!0);UE.m.Ik.call(this,a)};f.ep=function(a){a.stopPropagation();this.Bm()};f.Bm=function(){var a=this.g;if(a){this.Pa().hide();Rz=this.Ca=!0;var b=new Bw(this.view.$c(a),x.PhotoGalleryListContent.fxDurationRemove);Vm(b,"end",m(this.Bi,this,a));b.play();this.g=null}};f.Bi=function(a){sp(this.view.l[a]);Rz=this.Ca=!1;this.Pa()&&this.Pa().hide()};
function YE(a,b){if(La(t.visibleRelease,"deleteEditFilesystemFiles")){if(null===a.U){a.U=zi(qi(ni(li(new ki,ZE),m(a.Nt,a)),!0),!0);if(b){var c=a.U;c.aq=!0;qi(c,!0)}null==a.l&&(a.l=Mr.j(),a.l.o?zi(a.U,!1):a.l.observe("onLoad",a.Eu,a),a.l.observe("onOpen",a.Fu,a),a.l.observe("onSave",a.Gu,a),a.l.observe("onClose",a.Cu,a))}return a.U}}f.Nt=function(a){a.stopPropagation();this.F=this.f.le(this.g);a=po(this.F.ya(),this.F.K());Zq(Tq.j(),a,m(this.Av,this,this.F));OD(this.view,this.g)};
f.Av=function(a){a=Xq(Tq.j(),a.ya(),a.K());if(null!=a){var b=this.view;sp(a);S.aa(a,!1);b.bb().appendChild(a);b=this.l;b.Wd.launch({image:a.id,onReady:m(b.Iw,b),onSave:m(b.Nw,b),onClose:m(b.qA,b)});b.g=null;b.l=null}};f.Eu=function(){zi(this.U,!1)};f.Fu=function(){this.Pa().hide()};f.Cu=function(){null!=this.ga&&this.ga.qb()||(this.F=null)};f.Gu=function(a,b,c){this.l.Wd.showWaitIndicator();Zq(Tq.j(),c,m(this.Du,this,b,c))};
f.Du=function(a,b){this.l.Wd.hideWaitIndicator();this.l.close();var c=Tq.j(),c=null!=c.c[b]&&!1!==c.c[b].complete?c.c[b]:null,d=this.l.c.mimeType,e=document.createElement("canvas");e.width=c.width;e.height=c.height;e.getContext("2d").drawImage(c,0,0);c=e.toDataURL(d);null===this.ga&&RE(this);d=this.ga.g;e=this.l;hD(d,c,this.l.c.mimeType,e.g+"."+e.c.settings.fileFormat);YC(d)};I.j().register("wnd.ui.EditableMediaList",qD,ND,UE);function $E(a,b,c){UE.call(this,a,b,c);this.w=null}n($E,UE);f=$E.prototype;f.O=function(){$E.m.O.call(this);this.c.H(SD(this.view),U,m(this.Vt,this));this.c.H(SD(this.view),gq,m(this.Wt,this))};f.kh=function(){$E.m.kh.call(this);RD(this.view)};f.Ye=function(a){var b=this.view;b.F=vp(b.c);$E.m.Ye.call(this,a)};
f.Di=function(a,b,c){if(this.ga.qb()){var d=PC(NC(SC((new oD).Ga(b.getId()).Ab(b.K()),b.Eg),b.ya()),b.Qc).setWidth(b.Ma()).setHeight(b.getHeight());if(P(this.f,"fileGroup")==AD)KC(pD(d,AD),P(this.f,"mediaType")),JD(this.view,c.c,d,d.getId());else{var e=q.FilesystemPreviewSize.small,g=tD;"favicon"===P(this.f,"fileGroup")&&(e=null,g=uD);var h=po(d.ya(),d.K(),e);KC(pD(MC(d,h),g),P(this.f,"mediaType"));Uq(Tq.j(),d.ya(),d.K(),m(this.Rv,this,c.c,d),d.getId(),e)}this.f.I[d.getId()]=d}$E.m.Di.call(this,a,
b,c)};f.Rv=function(a,b){ED(this.view,a,{imageUrl:b.Sh});JD(this.view,a,b,b.getId());var c=this.view.$c(b.getId());null!=c&&(this.c.H(c,"mouseover",this.hb),this.c.H(c,gq,this.W),this.c.H(c,U,this.Pc))};f.Wl=function(){$E.m.Wl.call(this);this.Pa().observe("onAfterClose",this.$m,this)};f.Ai=function(){var a=[],b=YE(this);null!=b&&a.push(b);return Ah(a,$E.m.Ai.call(this))};f.$m=function(){this.w&&(RD(this.view),MD(this.view,this.w),OD(this.view,this.w),this.w=null)};f.zr=function(){};
f.ef=function(a){if(!this.w&&($E.m.ef.call(this,a),null!=this.g)){if(La(t.visibleRelease,"deleteEditFilesystemFiles")){var b=this.view,c=a.currentTarget,d=S.oa(c),e;null==b.qd&&(b.qd=S.oa(SD(b)));e=b.qd;c=S.Le(c,b.B());d=new T(c.x+d.height-e.height,c.y+b.B().scrollTop);S.setPosition(SD(b),d.round());S.aa(SD(b),!0)}P(this.f,"checkLowResolution")&&VC(this.f.le(this.g))&&(b=this.view,d=this.g,a=a.currentTarget,null===b.o&&(b.o=Tr(Pt),S.aa(b.o,!1),b.B().appendChild(b.o)),S.Uh(b.o)||(a=S.Le(a,b.B()),a=
new T(a.x,a.y+b.B().scrollTop),S.setPosition(b.o,a.round()),S.aa(b.o,!0),null!=b.l[d]&&S.setOpacity(b.l[d],.2)))}};f.Rg=function(a){this.w||($E.m.Rg.call(this,a),null==this.g||TE(a)||(RD(this.view),P(this.f,"checkLowResolution")&&VC(this.f.le(this.g))&&MD(this.view,this.g)))};f.Ei=function(a){this.$m();this.Pa().hide(null,!0);null!=this.g&&(RD(this.view),MD(this.view,this.g));$E.m.Ei.call(this,a)};f.Ul=function(a){this.w?(this.$m(),this.ef(a)):$E.m.Ul.call(this,a)};
f.Vt=function(a){a.stopPropagation();this.g&&(WE(this,a,this.view.$c(this.g)),this.w=this.g)};f.Wt=function(a){this.g&&a.G!==this.view.$c(this.g)&&this.Rg(a)};f.ep=function(a){a.stopPropagation();this.f.le(this.g).g?vC(E.j(),{title:"Do you really want to delete this picture?",text:"Warning: You are using this picture on your website. Deleting it will also delete it from your website.",useDelete:!0},this,m(this.Bm,this)):this.Bm()};
f.Bi=function(a){var b=Cg.j().get(this.K()),c=new hi("removeFile",2),d=Qh.j(),e=new Mg;e.data.fileId=parseInt(a,10);Sh(d,e,c);Zh(b,a,function(){var b=new zg("dataDelete","parent_propagation",this.K(),this,a);this.ca(b)}.bind(this),c);$E.m.Bi.call(this,a)};I.j().register("wnd.ui.MediaListFilesystem",PD,QD,$E);function aF(a,b,c){ME.call(this,a,b,c)}n(aF,ME);I.j().register("wnd.ui.MediaListSolidColors",AE,vD,aF);function bF(a,b,c){ME.call(this,a,b,c)}n(bF,ME);bF.prototype.O=function(){bF.m.O.call(this);"videos"==P(this.f,"mediaType")&&(this.c.H(this.B(),"mouseover",m(this.w,this)),this.c.H(this.B(),gq,m(this.l,this)))};bF.prototype.w=function(a){a=PE(this,a);if(null!=a){var b=this.view,c=a.getId();!1===l(b.w[c])&&null!=b.$c(c)&&VD(b,a);l(b.w[c])&&b.w[c].paused&&b.w[c].play()}};bF.prototype.l=function(a){var b=PE(this,a);null!=b&&(a=this.view,b=b.getId(),a.w[b]&&!1===a.w[b].paused&&a.w[b].pause())};
I.j().register("wnd.ui.MediaListStaticServer",TD,UD,bF);function cF(a,b,c){ak.call(this,a,b,c);dF(this,P(this,"selectedItem"))}n(cF,ak);function dF(a,b){if(b.tb){a.Gc=b.tb;var c=b.tb.getParent();a.qa=c}else c=new kD,c.c=a.ea(),a.Gc=c,a.qa=b}function eF(a,b,c){a.J=new Image;a.J.crossOrigin="anonymous";a.J.onload=b;if(c){b=a.Gc;var d=b.getSelection();null!=d&&(d=fF(d,c/b.ea()),b.h=d,b.c=c)}b=a.J;a=a.qa;c=po(a.ya(),a.K(),c);b.src=c+"?t="+(new Date).getTime()}cF.prototype.gb=function(){if(!1===(null!=this.J))throw new Ia("Load image source first!");return this.J};
function fF(a,b){a.x=parseInt(a.x*b,10);a.y=parseInt(a.y*b,10);a.width=parseInt(a.width*b,10);a.height=parseInt(a.height*b,10);return a}cF.prototype.ea=function(){return window.innerWidth<q.FilesystemPreviewSize.detail||window.innerHeight<q.FilesystemPreviewSize.detail?q.FilesystemPreviewSize.normal:q.FilesystemPreviewSize.detail};function gF(a,b){vB.call(this,a,b);this.La=this.Fb=this.F=this.o=null}n(gF,vB);function hF(a){a.o=Tr(Ct,a.N());a.F=a.o.querySelector(".wnd-ctrl-type-delete");a.Fb=a.o.querySelector(".wnd-ctrl-type-edit");a.La=a.o.querySelector(".wnd-ctrl-type-close");a.B().appendChild(a.o)}gF.prototype.W=function(){return"There are no items to be shown."};function iF(a){Qr(a.c,Dt,{text:a.W()})}gF.prototype.U=function(){return this.F};gF.prototype.md=function(){return this.La};
function jF(a,b){S.aa(a.ze(),b);null!=a.o&&S.aa(a.o,b)}gF.prototype.N=function(){var a={},b=P(this.f,"buttons");null!=b&&(a.buttons=b);return a};function kF(a){a.F&&S.aa(a.F,!1);a.Fb&&S.aa(a.Fb,!1)};function lF(a,b,c){rC.call(this,a,b,c);O(this.f,"extendCssClass","wnd-page-edit");this.f.observe("onUpdateCancelled",this.WA,this);this.U=!1;this.I=this.wa=null}n(lF,rC);f=lF.prototype;f.select=function(a){null===a?(this.Za(),iF(this.view),hF(this.view),kF(this.view),this.O()):(null!=this.wa&&u(this.Yc(),function(a){a.ce()},this),this.getId()!==a&&(this.Ga(a),this.U||this.fa()));this.wa=a};f.ak=function(){this.Bc()};
f.tn=function(a,b){if(!this.U&&l(b[Q(this.f,"id")])){this.mo(b);this.F=this.L(this.C()+"_date_fieldset","wnd.ui.SwitchFieldset",null,{properties:{initRenderFlag:!0,legend:"Schedule Publishing Date",showIcon:!0,withoutSaveButton:!0,tooltip:"Postpone the publication of your post by setting a publication date. If this option is not activated, your blog post will be published instantly. If you activate this option, you are able to choose the date you would like your post to be published.",extendCssClass:"wnd-blog-schedule-publishing"}});
var c=this.F.L(this.C()+"_date","wnd.ui.DateFormItem",null,{properties:{id:eC(this),name:Q(this.f,"publish_date"),defaultValue:b[Q(this.f,"publish_date")],initRenderFlag:!1,required:!1,showIcon:!1,label:"Publish on",validateType:"validateDate",validateContinuous:!0,extendCssClass:"wnd-ps-site-publish-date"}});this.F.observe("onOpen",m(c.tw,c),this);this.T=this.L(this.C()+"_private_access_area","wnd.ui.PrivateAccessFieldset",null,{properties:{initRenderFlag:!0,data:b,dataType:this.f.K()}});this.D=
this.L(this.C()+"_advanced_settings","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,legend:"Blog Post SEO Settings",showIcon:!0,withoutSaveButton:!0,extendCssClass:"wnd-blog-advance-settings"}});this.D.L(this.C()+"html_title","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"html_title")]}},properties:{id:eC(this),label:"Title",name:Q(this.f,"html_title"),defaultValue:b[Q(this.f,"html_title")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});
this.qa=this.D.L(this.C()+"identifier","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"identifier")]}},properties:{id:eC(this),label:"Page Address (URL)",name:Q(this.f,"identifier"),defaultValue:b[Q(this.f,"identifier")],initRenderFlag:!0,required:!0,validateType:"validateIdentifier",validateArgs:{max:255,pattern:/^[a-z0-9\-%]+$/},validateContinuous:!0}});this.D.L(this.C()+"meta_description","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_description")]}},properties:{id:eC(this),
label:"Meta Description",name:Q(this.f,"meta_description"),defaultValue:b[Q(this.f,"meta_description")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});this.D.L(this.C()+"meta_keywords","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_keywords")]}},properties:{id:eC(this),label:"Keywords",name:Q(this.f,"meta_keywords"),defaultValue:b[Q(this.f,"meta_keywords")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});hF(this.view);
this.O();this.U=!0}};f.mo=function(a){this.I=this.L(this.ba()+"_name","wnd.ui.ShortTextFormItem",null,{create:{data:{value:a[Q(this.f,"name")]}},properties:{id:eC(this),name:Q(this.f,"name"),defaultValue:a[Q(this.f,"name")],identifier:a[Q(this.f,"identifier")],required:!0,hideLabel:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},extendCssClass:"wnd-page-edit-name"}})};f.WA=function(){this.Fa()};
f.Y=function(a){lF.m.Y.call(this,a);"dataCreate"===a.getType()&&null!=this.I&&this.I.focus()};f.Aa=function(){lF.m.Aa.call(this);jF(this.view,!1)};f.Fa=function(){lF.m.Fa.call(this);jF(this.view,!0)};f.O=function(){this.Za();lF.m.O.call(this);null!=this.I&&this.c.H(this.I.B(),"keyup",m(this.bw,this));null!=this.view.U()&&this.c.H(this.view.U(),U,m(this.zs,this));null!=this.view.Fb&&this.c.H(this.view.Fb,U,m(this.VA,this));this.view.md()&&this.c.H(this.view.md(),U,m(Zz(this).hide,Zz(this),null,!0))};
f.bw=function(){this.notify("onItemNameChange",this.I.getValue())};f.Uo=function(){return{title:"Confirm delete",text:"Are you sure you want to delete this item?"}};f.zs=function(a){a.stopPropagation();var b=this.Uo();vC(E.j(),{title:b.title,text:b.text,leftButtons:["ConfirmDelete"]},this,m(this.TA,this,a))};f.TA=function(a){a.stopPropagation();this.Aa();a=new hi("deleteItem",1);gr(Qh.j(),a);var b=Cg.j().get(this.f.K()),c=this.getId(),d=m(this.UA,this);$h(b,c,d,a)};
f.UA=function(){this.notify("onDeleteItem");this.Fa()};f.VA=function(){this.notify("onEditItem")};f.uf=function(a,b,c){lF.m.uf.call(this,a,b,c);l(b.affectedRows)&&0<b.affectedRows&&this.notify("onSaveData")};function mF(a,b){AB.call(this,a,b)}n(mF,AB);mF.prototype.N=function(){var a=null!=P(this.f,"title")?""+P(this.f,"title"):"Listing items";return null!=P(this.f,"addButton")?{title:a,Te:[P(this.f,"addButton")]}:{title:a}};function nF(a,b,c){SB.call(this,a,b,c);O(this.f,"extendCssClass","wnd-blog")}n(nF,zC);nF.prototype.Wf=function(a){a.stopPropagation();ky(a.currentTarget,"wnd_content_switch");this.notify("onBlogAddArticle",a)};I.j().register("wnd.ui.ListingNavigationBar",Qj,mF,nF);function oF(a,b){rB.call(this,a,b);this.pe=!1;this.$b=!0;this.h={"class":"wnd-base wnd-popup-base"};this.kb=S.Nh()}n(oF,rB);f=oF.prototype;f.ac=function(){return oA.j().get(this.Po(),document.body,"popup")};f.Po=function(){return"Popup"};f.Va=null;f.da=function(){this.Va=Tr(Yt);this.c.appendChild(this.Va)};
f.hl=function(){!1!==N(this.f,"withOverlay")&&(this.ac().show(),S.setStyle(document.documentElement,"overflow","hidden"),S.setStyle(document.querySelector("#wnd_toolbar"),"paddingRight",this.kb+"px"),S.setStyle(document.querySelector(".wnd-page"),"paddingRight",this.kb+"px"),S.setStyle(document.querySelector(".tb-right"),"right",this.kb+"px"),this.Wm(!0))};f.setZIndex=function(a){null!=this.B()&&(this.B().style.zIndex=a)};
f.An=function(a){if(!1!==N(this.f,"withOverlay")||!0===a)this.ac().hide(),S.setStyle(document.documentElement,"overflow","auto"),S.setStyle(document.querySelector("#wnd_toolbar"),"paddingRight",""),S.setStyle(document.querySelector(".wnd-page"),"paddingRight",""),S.setStyle(document.querySelector(".tb-right"),"right","0"),this.Wm(!1)};
f.zn=function(a){if(!1!==N(this.f,"centered")){var b=S.getBounds(this.ac().B()),c=S.getBounds(this.c),d=!1;if(!a){var e;c.width>b.width?e=parseInt(.9*b.width,10):P(this.f,"width")&&(e=parseInt(P(this.f,"width"),10));S.setWidth(this.Va,e?e:"");var g;a=parseInt(.9*b.height,10);c.height>b.height?g=a:P(this.f,"height")&&(g=parseInt(P(this.f,"height"),10),g=a<g?a:g);S.setHeight(this.Va,g?g:"");d=!0}!0===d&&(c=S.getBounds(this.c));g=parseInt(b.width/2-c.width/2,10);S.setStyle(this.c,"top",parseInt(b.height/
2-c.height/2,10)+"px");S.setStyle(this.c,"left",g+"px")}};f.ze=function(){return bp("wnd-popup",this.B())};f.setSize=function(a,b){return oF.m.setSize.call(this,a,b,this.Va)};f.Wm=function(a){bq||Zp||u(r.Popup.suppression,function(b){R(Um(b),"wnd-suppression",a)},this)};function pF(a,b){var c=S.getBounds(a.B()),d=S.Zb(document),c=new pm(c.left-d.x,c.top-d.y,c.width,c.height);return c.contains(b)};function qF(a,b){oF.call(this,a,b);this.h={"class":"wnd-base wnd-bubble-base"};this.o=null}n(qF,oF);f=qF.prototype;f.da=function(){this.Va=Tr(Ks);this.o=Tr(Ls);this.c.appendChild(this.Va);this.c.appendChild(this.o)};function rF(a,b){S.setStyle(a.o,"left",0!==b.x?b.x+"px":"");ka(b.y)&&(R(a.o,"bottom","bottom"===b.y),R(a.o,"top","top"===b.y),R(a.o,"right","right"===b.y))}f.ze=function(){return bp("wnd-bubble",this.B())};f.zn=function(){};f.Po=function(){return"Transparent"};
f.hl=function(){!1!==N(this.f,"withOverlay")&&this.ac().show()};f.An=function(a){if(!1!==N(this.f,"withOverlay")||!0===a)this.ac().hide(),sF()||(this.Wm(!1),S.setStyle(document.documentElement,"overflow","auto"),S.setStyle(document.querySelector("#wnd_toolbar"),"paddingRight",""),S.setStyle(document.querySelector(".wnd-page"),"paddingRight",""),S.setStyle(document.querySelector(".tb-right"),"right","0"))};function tF(a,b){qF.call(this,a,b)}n(tF,qF);tF.prototype.w=function(){var a=[this.f.left,this.f.top];S.setPosition(this.B(),this.f.left,this.f.top+r.InfoBubble.fadeInAndSlideStart);var b=new Cw(this.B(),r.InfoBubble.fadeInAnimation),a=new uw(this.B(),a,r.InfoBubble.slideAnimation,ee);b.play();a.play()};function OB(a,b,c){SB.call(this,a,b,c);delete this.T;this.wa=null;this.md={};this.qa=[];this.Ia=!1}n(OB,SB);f=OB.prototype;f.pd=function(){return"popup"};f.fa=function(){};f.setZIndex=function(a){this.W=a;this.view.setZIndex(a);this.view.ac().setZIndex((bk||this.f.Ia())-1)};f.getZIndex=function(){return this.W};f.show=function(){sF()||(bk=null);this.view.hl();!1===this.T?(this.view.show(),this.hc(),this.Lc(this.ua(),!0)):this.view.render();this.setZIndex(this.f.Oo());this.T=!0;this.rg()};
f.rg=function(){this.tf();uF()};f.hc=function(){this.O();var a=mh.j(),b=this.C(),c=m(this.hg,this);if(null!=a.c[b]){for(var d=Object.keys(a.c[b]),e=0;e<d.length;e++)c.call(a,a.c[b][d[e]]);a.c[b]={}}};f.hide=function(a,b){var c=this.sd(a,b);if(c){this.yn();this.Xk();for(var d=0,e=this.qa.length;d<e;d++)Jh(this,this.qa[d].name,this.qa[d].Lf);this.qa=[];this.Hd()}return c};
f.sd=function(a,b){if(a&&a.type===U&&1==this.Ia)return this.Ia=!1;var c=!0;if(this.W!==(bk||this.f.Ia())&&this.W<(bk||this.f.Ia())&&1<vr(E.j()).length)return!1;if(!1!==b&&a&&a.type==U){a.stopPropagation();var c=S.getBounds(this.B()),d=S.Zb(document),c=new pm(c.left-d.x,c.top-d.y,c.width,c.height),d=new T(a.clientX,a.clientY),c=0<a.clientX&&0<a.clientY&&0==c.contains(d)}c&&!b&&(c=OB.m.sd.call(this,a,b));return c};
f.Xk=function(){this.T&&(this.setZIndex(this.f.To()),this.notify("onClose"),!0===N(this.f,"destroyAfterClose")?this.dispose():(vF(this),this.view.hide(),this.T=!1,this.Za()),uF())};f.O=function(){OB.m.O.call(this);this.wa=new Er(document.body);this.c.H(this.wa,"key",this.Gr);this.c.H(window,"resize",this.bk);this.c.H(document.body,U,this.hide);this.c.H(document.body,eq,this.hB);this.view.ac().B()&&this.c.H(this.view.ac().B(),U,this.hide)};
f.Za=function(){OB.m.Za.call(this);null!==this.wa&&(this.wa.dispose(),this.wa=null)};f.bk=function(){this.tf()};f.tf=function(a){this.view.zn(a);a=new H("popupResize",this);a.h="children_propagation";this.ca(a)};f.Gr=function(a){switch(a.keyCode){case 27:this.hide(null,!0)}};f.X=function(){vF(this);var a=this.view;null!==a.c&&(sp(a.c),a.c=null);this.Za();this.T=!1;uF();delete E.j().g[this.C()];OB.m.X.call(this)};f.yn=function(){this.notify("onBeforeClose")};f.Hd=function(){this.notify("onAfterClose")};
f.Ra=function(){return this.T};f.mb=function(){};f.cancel=function(){this.hide()};f.resize=function(a,b){!0===ma(a)&&(a+="px");!0===ma(b)&&(b+="px");this.view.setSize(a,b);this.tf(!0)};function fC(a,b,c,d){a.qa.push({name:b,Lf:c});a.observe(b,c,d)}function vF(a){var b=vr(E.j()),c=b.length,b=b[c-2]||null;(1==c||1<c&&null!=b&&b instanceof wr)&&a.view.An(void 0)}f.Id=function(a){l(a)&&(this.f.c.properties=a)};
f.hg=function(a){if(!1===this.Ya()&&"children_propagation"==a.h){var b=mh.j(),c=this.C();b.c[c]||(b.c[c]={});var d=a.getType();a.c&&a.c instanceof tz&&(d+="-"+a.c.C());a instanceof zg&&(d+="-"+a.K()+"-"+a.g);b.c[c][d]=a}else OB.m.hg.call(this,a)};f.hB=function(a){this.Ia=pF(this.view,new T(a.clientX,a.clientY))};function wr(a,b,c){OB.call(this,a,b,c);this.Ca=!0;null!=P(this.f,"hideAllBeforeShow")&&(this.Ca=!!P(this.f,"hideAllBeforeShow"));this.hb="bottom"}n(wr,OB);f=wr.prototype;f.pd=function(){return"bubble"};f.show=function(){if(this.Ca){var a=wF(E.j());u(a,function(a){a.hide()},this)}wr.m.show.call(this)};f.sd=function(){var a=!0,b=vr(E.j());"popup"!=this.pd()&&"bubble"!=this.pd()||u(b,function(b){b.getZIndex()>this.getZIndex()&&(a=!1)},this);return a};f.rg=function(){xF(this);uF()};
f.ma=function(a){"resizeWindow"===a.getType()&&this.Ra()&&xF(this)};
function xF(a){var b;if(na(P(a.f,"coordinates"))){b=P(a.f,"coordinates").call();b=new pm(b.left,b.top,b.width,b.height);var c,d,e,g,h,k;c=S.df(document.body);d=S.oa(a.view.Va);e=a.Al();g=b.left+b.width/2-r.Bubble.arrow.spaceLeft;h=b.top+b.height+r.Bubble.arrow.spaceTop;k={x:0,y:"top"};if(g+d.width>c.right){var p=g+d.width-c.right+r.Bubble.offset;if(aq||bq)p+=S.Nh();g-=p;k.x=r.Bubble.arrow.defaultLeft+p}g<c.left&&(p=c.left+r.Bubble.offset-g,g=c.left+r.Bubble.offset,k.x=r.Bubble.arrow.defaultLeft-p);
h+e.height>c.bottom&&(h-=b.height+d.height+2*r.Bubble.arrow.spaceTop,k.y="bottom",a.hb="top");0!==k.x&&1>k.x?k.x=1:k.x>=d.width&&(k.x=d.width-1);rF(a.view,k);a.f.left=g;a.f.top=h;b=new T(g,h);S.setPosition(a.view.B(),b)}}f.Al=function(){return S.oa(this.view.Va)};f.Xk=function(){wr.m.Xk.call(this);this.T||this.view.An()};f.O=function(){wr.m.O.call(this);!1===N(this.f,"withOverlay")&&(this.c.H(this.B(),"mouseover",this.vA),this.c.H(this.B(),gq,this.uA))};
f.vA=function(){kr.j().pause("addContent",!0);this.notify("onMouseOver")};f.uA=function(){tr(kr.j());this.notify("onMouseOut")};function yF(a,b,c){OB.call(this,a,b,c);this.l=this.g=null;this.D=this.I=!1;this.w=new WC;this.w.observe("onResponse",m(this.xA,this),this);this.w.observe("onComplete",m(this.wA,this),this)}n(yF,OB);f=yF.prototype;
f.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Crop image",initRenderFlag:!0}});this.g=this.L(this.C()+"_content","wnd.ui.CropImageContent",this.ua(),{properties:{width:q.FilesystemPreviewSize.detail+"px",height:q.FilesystemPreviewSize.normal+"px",initRenderFlag:!0,previewSize:this.f.ea()}});this.g.observe("onCenter",this.Ku,this);this.l=this.L(this.C()+"_control","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},
initRenderFlag:!0}});zF(this)};f.Ku=function(){this.tf()};f.Vx=function(){this.g.Fa();this.I=!1;var a=this.f.gb();O(this.g.f,"image",a);this.g.init();this.g.w=this.f.qa.Qc;a=this.f.Gc.getSelection();null!=a&&Xi(this.g.f,"selection",a)};f.hc=function(){yF.m.hc.call(this);this.g.init();var a=this.f.Gc.getSelection();null!=a&&Xi(this.g.f,"selection",a)};f.Id=function(a){var b=P(this.f,"selectedItem");a=a.selectedItem;a.ya()!=b.ya()&&O(this.f,"selectedItem",a);dF(this.f,a);zF(this)};
f.mb=function(){!1===this.I&&!1===this.D&&(this.D=!0,this.g.Aa("Wait please..."),this.l.eb("Cancel",!1),this.l.eb("Submit",!1),eF(this.f,m(this.Ps,this)))};
f.Ps=function(){var a;a=this.g;var b=this.f.gb(),c=this.f.ea();b&&O(a.f,"image",b);c&&O(a.f,"previewSize",c);var b=a.f,c=b.gb(),d=P(b,"previewSize"),c=c.width>c.height?c.width/d:c.height/d,b=bf(N(b,"selection"));b.x=parseInt(b.x*c,10);b.y=parseInt(b.y*c,10);b.width=parseInt(b.width*c,10);b.height=parseInt(b.height*c,10);b.se=0;b.te=0;var c=b.width,d=b.height,e=CB(a.view);e.width=c;e.height=d;a.view.xc=!0;Xi(a.f,"selection",b);b=a.w;a=CB(a.view).toDataURL(b);b=this.f.qa.Qc;this.w.G=!1;"filesystem_files"==
this.f.qa.K()&&(c=this.f.qa.getId(),this.w.w=c);c=this.w;d=r.CropImagePopup.image.prefix+this.f.qa.getId()+b.replace("image/",".");hD(c,a,b,d);YC(this.w)};f.xA=function(a,b,c){"success"!=b&&(this.l.eb("Cancel",!0),this.l.eb("Submit",!0),this.hide(),this.D=!1,c.text&&(a=[c.text],LE(E.j(),a,this)))};
f.wA=function(a,b){var c=this.f.ea(),d=this.f.qa,e=bf(this.g.getSelection()),g=d.Ma()>d.getHeight()?c/d.Ma():c/d.getHeight(),e=fF(e,g),c=new kD(e,c,d);this.f.Gc=c;this.notify("onCropImage",b,c);this.D=!1;this.l.eb("Cancel",!0);this.l.eb("Submit",!0);this.hide()};f.cancel=function(){this.hide()};f.bk=function(a){yF.m.bk.call(this,a);this.f.ea()!=this.f.Gc.ea()&&(a=P(this.f,"selectedItem"),a.tb?(a=a.tb.getParent(),this.f.qa=a):this.f.qa=a,zF(this))};
function zF(a){a.g.Aa();a.I=!0;eF(a.f,m(a.Vx,a),a.f.ea())}I.j().register("wnd.ui.CropImagePopup",cF,oF,yF);function AF(a,b,c){OB.call(this,a,b,c);this.g=this.l=null}n(AF,OB);f=AF.prototype;f.fa=function(){this.l=this.L(this.C()+"_content","wnd.ui.InfoPopupContent",null,{properties:{initRenderFlag:!0,type:P(this.f,"type"),title:P(this.f,"title"),text:P(this.f,"text"),params:P(this.f,"params"),extendCssClass:"wnd-info-content"}});this.zh()};f.zh=function(){this.g=this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:this.sj(P(this.f,"params"))})};
f.Id=function(a){if(a.extendCssClass!=P(this.f,"extendCssClass")){var b=this.view,c=a.extendCssClass,d=P(b.f,"extendCssClass"),b=b.B();Gl(b,d);El(b,c);O(this.f,"extendCssClass",a.extendCssClass)}this.l.Id(a);null!=this.g&&null!=a.params&&this.g.Id(this.sj(a.params))};
f.sj=function(a){var b={controls:{left:["Submit"]},initRenderFlag:!0,extendCssClass:"wnd-info-controls"};null===a!==!0&&l(a.Upgrade)&&(b.controls={left:["Upgrade"],right:["Close"]},b.Upgrade=a.Upgrade);null===a!==!0&&l(a.Reload)&&(b.controls={left:["Reload"]},b.Reload=a.Reload);null===a!==!0&&l(a.Login)&&(b.controls={left:["Login"]});return b};f.Br=function(){location.reload()};f.mb=function(){Jh(this,"onClose");this.notify("onConfirm");this.hide()};I.j().register("wnd.ui.InfoPopup",ak,oF,AF);function BF(a,b,c){AF.call(this,a,b,c)}n(BF,AF);BF.prototype.zh=function(){this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:{controls:{left:["SaveAnyway"],right:["Reload"]},initRenderFlag:!0,extendCssClass:"wnd-info-controls"}})};BF.prototype.Br=function(){var a=P(this.f,"serverObject");null!=a&&(a.kj=[]);this.hide(null,!0)};I.j().register("wnd.ui.ChecksumPopup",ak,oF,BF);function CF(a,b,c){AF.call(this,a,b,c)}n(CF,AF);CF.prototype.zh=function(){var a=["Submit"];P(this.f,"leftButtons")&&(a=P(this.f,"leftButtons"));this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:{controls:{left:a,right:["Cancel"]},initRenderFlag:!0,extendCssClass:"wnd-info-controls"}})};I.j().register("wnd.ui.ConfirmPopup",ak,oF,CF);function DF(a,b,c){OB.call(this,a,b,c);this.g=this.l=this.D=null;this.w=!1}n(DF,OB);f=DF.prototype;
f.fa=function(){this.D=this.L(this.C()+"_nav_bar","wnd.ui.ListingNavigationBar",null,{properties:this.Ol()});var a=this.L(this.C()+"_listing_area","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,height:r.ListingPopup.mainContent.height,width:r.ListingPopup.mainContent.width}});this.l=a.L(this.C()+"_list_menu","wnd.ui.ListMenu",null,{collectionSettings:this.No(),properties:this.Ll()});this.g=a.L(this.C()+"_item_edit","wnd.pc.BlogPostEdit",null,{properties:this.Fl()})};f.Ol=function(){return{initRenderFlag:!0}};
f.No=function(){return{orderBy:r.ListingPopup.dataSettings.orderBy,filter:r.ListingPopup.dataSettings.filter}};f.Ll=function(){return{initRenderFlag:!0,enabledDragDrop:!0,width:r.ListMenu.width,height:r.ListMenu.height}};f.Fl=function(){return{initRenderFlag:!0,width:r.ListingItemEdit.width,height:r.ListingItemEdit.height,autoSave:!0}};
f.O=function(){DF.m.O.call(this);this.g.observe("onItemNameChange",m(this.aw,this),this);this.g.observe("onDeleteItem",m(this.XA,this),this);this.g.observe("onEditItem",m(this.YA,this),this);this.g.observe("onSaveData",m(this.ZA,this),this)};f.aw=function(a,b){var c=this.l;null===c.l||c.l.Ce(b)};f.XA=function(){var a=this.l;if(null!==a.l){var a=a.l,b=new zg("dataDelete","parent_propagation","listing_items",a,a.getId());a.ca(b)}this.w=!0};
f.YA=function(){var a=this.l;null!==a.l&&(window.location.href=a.l.Zc())};f.ZA=function(){this.w=!0};f.hc=function(){DF.m.hc.call(this);this.g.Bc();this.w=!1};function EF(a,b,c){AF.call(this,a,b,c)}n(EF,AF);EF.prototype.zh=function(){this.g=this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:this.sj(P(this.f,"params"))});this.g.observe("onUpgrade",m(this.notify,this,"onUpgrade"),this);this.g.observe("onPublish",m(this.notify,this,"onPublish"),this)};
EF.prototype.sj=function(a){var b={uri:"",text:"",target:"_blank"},c={left:["Upgrade"],right:["Cancel"]};null!=a&&(b.uri=a.upgradeUri||"",b.text=a.upgradeText||"",null!=a.controls&&(c.left=a.controls.left||["Upgrade"],c.right=a.controls.right||["Cancel"]));return{controls:c,Upgrade:b,initRenderFlag:!0,extendCssClass:"wnd-info-controls"}};I.j().register("wnd.ui.PremiumPopup",ak,oF,EF);function FF(a,b,c){AF.call(this,a,b,c)}n(FF,AF);FF.prototype.zh=function(){};FF.prototype.hide=function(a,b){b&&FF.m.hide.call(this,a,b);return!1};I.j().register("wnd.ui.WaitingPopup",ak,oF,FF);function GF(a,b){rB.call(this,a,b)}n(GF,rB);GF.prototype.da=function(){Qr(this.B(),Zt)};function HF(a,b,c){SB.call(this,a,b,c)}n(HF,SB);HF.prototype.Wa=function(){this.Aa();var a=Cg.j().get("server_projects"),b=m(this.g,this);a.c("",{"server_projects.private_access_type":"MEMBER_LOGIN"},null,b,void 0)};HF.prototype.g=function(){this.Fa();this.notify("onActivateMemberLogin")};HF.prototype.fa=function(){};I.j().register("wnd.ui.PrivateAccessActivationArea",tv,GF,HF);function IF(a,b,c){uC.call(this,a,b,c);this.l.Continue=m(this.g,this);this.l.TryForFree=m(this.g,this)}n(IF,uC);IF.prototype.g=function(){this.notify("onContinue");return!0};I.j().register("wnd.ui.PrivateAccessActivationBar",Pj,yB,IF);function JF(a,b,c){OB.call(this,a,b,c)}n(JF,OB);
JF.prototype.fa=function(){this.l=this.L(this.C()+"_activation-area","wnd.ui.PrivateAccessActivationArea",this.ua(),{properties:{initRenderFlag:!0}});this.l.observe("onActivateMemberLogin",this.D,this);var a=["Continue"];vo.j().hasFeature("approve_members_enabled")||(a=["TryForFree"]);this.g=this.L(this.C()+"_control_bar","wnd.ui.PrivateAccessActivationBar",this.ua(),{properties:{initRenderFlag:!0,extendCssClass:"wnd-info-controls",controls:{left:a,right:["Cancel"]}}});this.g.observe("onContinue",
this.w,this)};JF.prototype.D=function(){this.g.show();this.notify("onActivatePrivateAccess","MEMBER_LOGIN");this.hide()};JF.prototype.w=function(){!0===P(this.f,"withActivation")?(this.l.Wa(),this.g.hide()):(this.notify("onActivatePrivateAccess","MEMBER_LOGIN"),this.hide())};I.j().register("wnd.ui.PrivateAccessActivationPopup",ak,oF,JF);function KF(a,b){sB.call(this,a,b)}n(KF,sB);function LF(a,b,c){if(null==a.o){var d="#";null!=t.usersManagementUrl&&(d=t.usersManagementUrl);a.o=gs($t,{href:d,type:P(a.f,"dataType")})}c&&rp(a.o,b.querySelector("label"));S.aa(a.o,c)};function MF(a,b){qF.call(this,a,b);this.pe=!1;this.h={"class":"wnd-base wnd-toolbox-base"};this.W={};this.qa=null;this.Mc=new T(0,0);this.Ze=!0;this.La=!1;this.J=this.ad=this.w=null;this.gc=!1;this.R=this.F=null}n(MF,qF);f=MF.prototype;f.da=function(){null==this.Va&&(this.Va=Tr(qu),this.setZIndex(r.Toolbox.zIndex),this.o=Tr(ru),this.w=Tr(su),this.ad=Tr(tu),this.J=Tr(vu),this.Va.appendChild(this.o),this.Va.appendChild(this.w),this.Va.appendChild(this.ad),this.Va.appendChild(this.J),this.B().appendChild(this.Va))};
function NF(a,b,c){S.setStyle(a.o,"visibility",b?"visible":"hidden");!0===b&&rF(a,{x:parseInt(a.Va.offsetWidth/2-r.Toolbox.arrowCorrectPosition,10),y:c||"bottom"});a.Ze=b}f.hl=function(){};f.je=function(a){return this.W[a]||null};function OF(a){var b=parseInt(r.Toolbox.topOffset,10);a.gc&&(b-=r.Toolbox.largeBoxDifference);return b}function PF(){return r.Toolbox.arrowOffset}function QF(){return r.Toolbox.offset}function RF(){return r.Toolbox.leftSideOffset}
function SF(){return r.Toolbox.rightSideOffset}f.setStyle=function(a){R(this.Va,"white",a===TF)};function UF(a,b){null!=a.w&&(a.w.style.height=b?"calc(100% + "+b+"px)":"")}function VF(a){!0===(null!=a.qa)&&(sp(a.qa),a.qa=null)}f.getBounds=function(){null===this.F&&(this.F=S.getBounds(this.B()));var a=this.F.clone();if(this.f.Nd()){var b=S.Zb(document);a.top-=b.y;a.left-=b.x}return a};function WF(a,b){R(a.Va,"wnd-tbx-large",b===yi);a.gc=b===yi}
f.Om=function(a){this.B()&&(this.B().style.position=a?"fixed":"")};function XF(a,b,c){wr.call(this,a,b,c);this.I=!1;this.Na=null;this.l=!1;this.D={};this.g={};this.w={};this.Gb=[YF,ZF,$F,aG,bG,cG];this.xc=[dG,eG,fG,gG];this.Ca=this.F=!1;this.U=null}n(XF,wr);var VE="remove",YF="edit-text",ZE="edit-image",dG="change-style",eG="change-font",fG="change-align",gG="change-listing-variant",cG="logo-edit-text",ZF="format-bold",$F="format-italic",aG="format-font-decrease",bG="format-font-increase",TF="light",yi="large";f=XF.prototype;f.pd=function(){return"toolbox"};
f.pa=function(a){XF.m.pa.call(this,a);this.hide(null,!0)};function cg(a,b,c,d,e,g){D(b)?a.hide(null,!0):a.Ya()?(hG(a),iG(a)):(g=!!g,a.f.xh=g,a.view.Om(g),a.show(),a.view.show(),jG(a,b,c,a.view.ad,!0,e)?(a.O(),a.I=!0,b=!!P(a.f,"arrow"),c&&(b=!1),NF(a.view,b),iG(a),d&&ma(d)&&a.view.setZIndex(r.Toolbox.zIndex+d)):a.hide())}f.Ya=function(){return this.I};f.Ra=function(){return!1};
f.sd=function(a,b){var c=b||this.Ya()&&!kG(this,a,!0);ag($f.j(),this.C())&&a&&a.type===U&&(c=!1);c&&(c=XF.m.sd.call(this,a,b));return c};f.hide=function(a,b){if(!1===XF.m.hide.call(this,a,b))return!1;hG(this);lG(this);this.Za();this.view.setZIndex(r.Toolbox.zIndex);WF(this.view,"normal");this.view.hide();this.I=!1;return!0};function kG(a,b,c){var d=!1;a.Da()&&b&&(d=a.Da(),d=S.getBounds(d.view.B()),b=pr(kr.j(),b),d=d.contains(b)||!0===c&&mG(a.Da()));return d}
function jG(a,b,c,d,e,g){var h=!1,k=b.length;a.f.ed=c;u(b,function(a){if(F(this.xc,a.c)){if(l(this.g[a.c]))this.g[a.c].Qd(a.A,a.o,!0);else{var b=I.j().create(this.C()+"_dropdown_"+a.c,"wnd.ui.DropdownSwitcher",d,this,{properties:{initRenderFlag:!0,title:a.vg,items:a.A,selected:a.o,maxHeight:a.l}});b.observe("selectItem",a.Do.call(a),this);b.observe("titleChanged",m(this.bx,this),this);b.observe("onOpen",m(this.uw,this),this);b.observe("onClose",m(this.gv,this),this);this.g[a.c]=b}h=!0}else{var c;
c=this.view;b=[];b.push(r.Toolbox.buttonClassName);b.push(a.c);a.dj&&b.push(r.Toolbox.disabledButtonClassName);b={className:b.join(" "),icon:a.Bq,name:a.vg,title:a.Tn};switch(a.c){case VE:case "remove-confirm":case "remove-form-confirm":1===k&&!1===c.f.ed&&(b.name="Delete");break;case "add-link":b.name="Add link";break;case "field-properties":Rg(a.vg)&&(b.name="Properties");break;case "edit-link":case "edit-or-remove-link":Rg(a.vg)&&(b.name="Edit link");break;case "edit":case ZE:case "edit-map":case "edit-video":b.name=
"Edit";break;case YF:b.name="Edit text";break;case "edit-select-options":b.name="Edit options";break;case "edit-email-notification":Rg(a.vg)&&(b.name="Contact email");break;case "list-add":b.name="Add item";break;case "list-manager":b.name="Manage Item";break;case "list-layout":b.name="Layout";break;case "blog-add":b.name="Add a Blog Post";break;case "blog-manager":b.name="Manage Posts";break;case dG:b.icon=1===k;b.name="Style";break;case "change-image":b.name="Change image";break;case eG:b.name=
"Font";break;case gG:b.name="Listing variant";break;case "go-to":b.name="Go to";break;case "form-submit-action":b.name="Action after submitting";break;case "form-action-after-login":b.name="Action after login"}null!=c.W[a.c]?c=null:(a.aq&&delete b.name,b=Tr(uu,b),d.appendChild(b),e&&(c.W[a.c]=b),S.aa(b,!0),c=b);if(null!=c){var b=c,g=null;switch(a.c){case "remove-confirm":g=m(this.el,this,a,null);break;case "remove-form-confirm":g=m(this.el,this,a,"remove-form-confirm");break;case "add-link":case "edit-link":case "field-properties":case "edit-or-remove-link":case "edit-map":case "edit-video":case "image-edit":case "form-submit-action":case "form-action-after-login":case "edit-select-options":case "edit-email-notification":g=
m(this.Is,this,a);break;case "go-to":g=m(this.Ht,this,a);break;default:l(a.Fi)&&(g=a.Fi)}a.h&&(g=m(this.Os,this,a));this.c.H(b,U,m(this.jB,this,g,a));h=!0;e&&(this.f.buttons.push(a),this.f.Ca.push(a.c))}else{b=oh(this.f.Ca,a.c);if(-1===b)return;ia(this.f.buttons[b])||(this.f.buttons[b]=[this.f.buttons[b]]);this.f.buttons[b].push(a)}}a.observe("onChangeDisabledState",m(this.Iu,this,c),this)},a);R(a.view.Va,"inside",c);!1===a.getParent()instanceof nG&&(a.f.Fh=c?TF:"dark",a.view.setStyle(a.f.Fh));null!=
g&&WF(a.view,g);return h}f.Iu=function(a,b,c){R(a,r.Toolbox.disabledButtonClassName,c.dj)};f.jB=function(a,b,c){c.stopPropagation();b.dj||(oG(this),!F(this.Gb,b.c)&&this.Da()&&this.Da().$i(),null!=a?a.call(this,c):F(this.f.Ca,b.c)&&(a=this.f.buttons[oh(this.f.Ca,b.c)],ia(a)?(uh(a,function(a){return mG(a.Da())?(b=a,!0):!1},this),b.Fi.call(b,c)):a.Fi.call(b,c)))};
f.O=function(){XF.m.O.call(this);this.c.H(window,"scroll",m(this.nB,this));this.c.H(this.B(),"mouseover",m(this.mB,this));this.c.H(this.B(),gq,m(this.lB,this));this.c.H(this.B(),U,m(this.kB,this));this.c.H(this.view.J,U,m(this.ev,this),!1)};f.nB=function(a){if(this.F)return a.stopPropagation(),a.preventDefault(),!1;iG(this,!0);return!0};f.mB=function(a){this.notify("overToolbox",a)};f.lB=function(a){this.notify("outToolbox",a)};f.kB=function(a){var b=new iq(a);(kG(this,a)||XE(this,b,!0))&&a.stopPropagation()};
f.ev=function(a){a.stopPropagation();pG(this)};function lG(a){D(a.f.Ca)||(u(a.f.Ca,function(a){var c=this.view,d=c.je(a);!0!==(null===d)&&(sp(d),delete c.W[a])},a),a.f.buttons=[],a.f.Ca=[]);a.f.ed=!1;Ye(a.g)||(z(a.g,function(a){a.dispose()},a),a.g={});Ye(a.w)||(z(a.w,function(a){S.aa(a,!1)},a),a.w={});null!=a.U&&(UF(a.view),a.U=null)}
function iG(a,b){var c;(c=!a.Ya()||a.ub||cq)||(c=ag($f.j(),a.C())&&b);if(c)return!1;c=a.f.ed;a.f.ed=c&&!a.l;var d=a.view;P(d.f,"expandWidth")&&S.setWidth(d.B(),d.f.rd.width);var e=P(d.f,"buttonPosition");e&&El(d.B(),e);var d=a.view,g=a.getParent()instanceof SB,e=a.l;if(oa(d.f.rd)){var h=!0,k;k=d.f.rd;var p=k.left+k.width-d.getBounds().width,w=k.top;if(!0===d.f.ed){k=p;var p=QF(),v;aq||bq?(null===d.R&&(d.R=S.Nh()),v=d.R+5):v=0;p=k-(p+v);w+=QF()}else switch(w-=d.getBounds().height+QF()+PF(),P(d.f,"position")){case "left":p=
k.left;break;case "right":break;default:p-=k.width/2-d.getBounds().width/2}k=new T(p,w);p=w=k.y;v=b||!1;if(null===P(d.f,"noScroll")||!1===P(d.f,"noScroll")){var C=OF(d),G=d.f.rd;if(!1===d.f.Nd()&&document.body===d.bb()){var J=p-C,G=G.top+G.height-d.getBounds().height-C-PF(),ba=fp(document);ba.y>J&&ba.y<=G?p=ba.y+C:ba.y>G&&!1===g&&(!1===v&&window.scrollTo(ba.x,G-C),p=G+C)}v=OF(d);var C=d.f.rd,J=fp(document),G=S.df(Ex()),ba=C.height+C.top,Sa=d.getBounds().height+QF()+PF(),J=C.top-Sa<v&&G.bottom-G.top>
ba+Sa-J.y,G="bottom";!g&&(C.top<=v||J)&&(p=C.top+C.height+QF()+PF(),G="top");NF(d,d.Ze,G)}k=k.x;v=P(d.f,"withoutSideCorrection");if(null===v||!1===v)v=ep(window),C=k,k+d.getBounds().width+SF()>v.width?k=v.width-d.getBounds().width-SF():k<RF()&&(k=RF()),C!==k&&rF(d,{x:parseInt(d.Va.offsetWidth/2-5+C-k,10),y:null});v=p;k===d.getBounds().left&&v===d.getBounds().top?d=!1:(d.La!==(w==p)&&(d.La=w==p,R(d.Va,"expanded",d.La)),g&&(g=k,h=p,w=null,k=d.f.rd,k.top+k.height<d.getBounds().height&&(e?(h+=PF(),w=
"top"):h=k.top-k.height),e=P(d.f,"viewportSize"),l(e)&&g+d.getBounds().width>e.width&&(g=k.left+k.width-d.getBounds().width+RF()),rF(d,{x:parseInt(k.left+k.width/2-g-r.Toolbox.arrowCorrectPosition,10),y:w}),e=new T(g,h),k=e.x,p=e.y,h=!1),d.Mc=(new T(k,p)).round(),S.setPosition(d.B(),d.Mc),d=h)}else d=!1;a.f.ed=c;return d}f.je=function(a){return this.view.je(a)};
function qG(a,b){D(a.f.Ca)||(S.aa(a.view.ad,b),a.f.ed&&!1===a.getParent()instanceof nG&&(a.f.Fh=b?TF:"dark",a.view.setStyle(a.f.Fh)),R(a.view.Va,"inside",a.f.ed))}function hG(a){null!=a.view.qa&&(a.l=!1,VF(a.view),a.notify("removeCancelled"));rG(a);qG(a,!0);NF(a.view,!a.f.ed);a=a.view;a.R=null;a.F=null}function sG(a){a.Ya()&&(WF(a.view,"normal"),hG(a),iG(a))}function pG(a){var b=a.view;b.R=null;b.F=null;iG(a)&&!a.view.Ze&&NF(a.view,!0,void 0)}f.mb=function(){this.hide();this.Da()&&this.Da().sb()};
f.Da=function(){var a=null;null!=this.getParent()&&l(this.getParent().Da)&&(a=this.getParent().Da());return a};function XE(a,b,c){var d=!1;c?(a=a.view.getBounds(),b=pr(kr.j(),b.c),d=a.contains(b)):d=-1<a.B().outerHTML.indexOf(b.target.outerHTML);return d}f.ac=function(){var a=this.getZIndex()-1,a=oA.j().get("Transparent",this.bb(),"toolbox_form",a,m(this.kp,this));this.Na=a.C();return a};f.kp=function(){N(this.f,"withOverlay")&&this.ac().hide()};
f.el=function(a,b,c){c&&c.stopPropagation();rG(this);qG(this,!1);this.l=!0;c=this.view;b=b?b:"remove";VF(c);c.qa=Tr(wu,{Ds:b});b=c.qa.querySelector("a");c.J.appendChild(c.qa);this.c.H(b,U,a.Do.call(a));a=this.f.ed;TF===this.f.Fh&&this.view.setStyle("dark");this.f.ed&&(this.f.ed=!1,R(this.view.Va,"inside",!1));pG(this);this.f.ed=a;this.notify("removeConfirm")};
f.Ht=function(a,b){b.stopPropagation();if(a.Hj){var c=new H("saveAndDeactivateContentItems",this);this.ca(c);a.cq?window.open(a.Hj):window.location.href=a.Hj}};f.Is=function(a,b){b.stopPropagation();rG(this);qG(this,!1);this.l=!0;if(l(this.D[a.c])){var c=a.g?a.g.call():a.Da().C();this.D[a.c].Ga(c);this.D[a.c].show()}else c=a.G.call(a,this,a),c.observe("onChangeItemsVisibility",this.Ou,this),this.D[a.c]=c;pG(this);"image-edit"===a.c&&this.ac().show()};f.Ou=function(){pG(this)};
function rG(a){VF(a.view);z(a.D,function(a,c){c===eG?(a.dispose(),delete this.D[c]):a.hide()},a);z(a.w,function(a){S.aa(a,!1)},a);a.kp();a.l=!1}f.uw=function(a,b){oG(this,b);this.F=!0};f.gv=function(){this.F=!1};function oG(a,b){Ye(a.g)||z(a.g,function(a){l(b)&&a===b||a.Qe(!1)},a)}f.bx=function(){iG(this)};
f.Os=function(a,b){b.stopPropagation();rG(this);qG(this,!1);this.l=!0;if(l(this.w[a.c]))S.aa(this.w[a.c],!0);else{var c=this.view,d=Tr(xu);c.J.appendChild(d);jG(this,a.h,this.f.ed,d,!1);this.w[a.c]=d}WF(this.view,a.M||"normal");pG(this)};f.getBounds=function(){return this.view.getBounds()};I.j().register("wnd.ui.Toolbox",dk,MF,XF);function tG(a,b){my.call(this,a,b);this.h={"class":P(this.f,"css").base};this.F=this.wa=this.W=this.w=null;this.R=!0}n(tG,oB);f=tG.prototype;f.gd=function(){};f.da=function(){if(null===P(this.f,"soyTemplate"))throw new Pa("Missing SOY template.");};
f.Dm=function(){null==this.xd()&&(this.w=gs(Bt,{css:P(this.f,"css")["search-form"],value:"",placeholder:"Search...",maxLength:255}),this.W=this.w.querySelector("input"),this.wa=gs(P(this.f,"soyTemplate").Mq,{css:P(this.f,"css")["found-items"]}),this.F=gs(P(this.f,"soyTemplate").Mq,{css:P(this.f,"css")["tree-items"]}),this.B().appendChild(this.w),this.B().appendChild(this.wa),this.B().appendChild(this.F))};f.xd=function(){return this.F};f.zd=function(){return this.w};f.lc=function(){return this.W};
f.Qk=function(){El(this.zd(),P(this.f,"css")["search-inuse"])};f.Of=function(){Gl(this.zd(),P(this.f,"css")["search-inuse"])};f.Lm=function(){El(this.lc(),P(this.f,"css")["search-not-empty"])};f.Km=function(){Gl(this.lc(),P(this.f,"css")["search-not-empty"])};f.sl=function(){El(this.B(),P(this.f,"css")["menu-with-search"]);this.lc().value&&(this.lc().value="",this.Of());S.aa(this.zd(),!0)};f.ql=function(){this.Of();Gl(this.B(),P(this.f,"css")["menu-with-search"]);S.aa(this.zd(),!1)};
f.hi=function(a,b){this.wa.innerHTML="";if(this.R===a&&!b)return!1;S.aa(this.xd(),!a);S.aa(this.wa,a);this.R=a;return!0};function uG(a,b,c){MB.call(this,a,b,c);this.ea=!0;this.g={};this.F={};this.l={};this.xa={};this.U={};this.V=this.T=null;this.D=[];this.ka=!1;this.w=null;this.qa=new Er;this.I=[];null===P(this.f,"soyTemplate")&&O(this.f,"soyTemplate",yu)}n(uG,MB);f=uG.prototype;f.Oq="wnd.ui.TreeMenuItem";f.Nq="wnd.ui.TreeMenuGroup";f.pa=function(a){uG.m.pa.call(this,a);this.view.Dm();this.Aa();this.f.Ea(this.lf,null,this)};
function vG(a){a.Aa();wG(a,[]);a.ea=!0;a.g={};a.F={};a.l={};a.xa={};a.U={};a.T=null;a.D=[];a.w=null;a.I=[];var b=a.f;b.g={};b.P=[];b.xa=[];b.ue=null;a.f.Ea(a.lf,null,a)}f.Ok=function(){xG(this,this.f.ue)};
f.lf=function(a,b,c,d){this.Fa();this.view.hi(!1,!0);a=this.f.Fn(b,d.order);this.f.ue=a.rootId;this.f.xa=[];this.F={};b={};var e;d=[];var g=a.items.length;r.TreeMenu.minCountForSearch<g?this.view.sl():this.view.ql();for(var h=0;h<g;h++){c=a.items[h];e=P(this.f,"css")["item-id-prefix"]+c.id;this.F[e]=c.id;this.f.xa.push(c.id);this.f.g[c.id]=c;d.push(c.id);var k=e,p=c,w=a.firstLevel,v=b;e=!0;var C=this;l(this.l[p.parent_id])?C=this.l[p.parent_id]:p.x==w&&l(this.g[p.parent_id])&&(C=this.g[p.parent_id]);
if(Ng(I.j(),k))this.g[p.id].Zh(p,C);else{var G=this.xd();l(v[p.parent_id])&&(G=v[p.parent_id],e=!1);this.g[p.id]=I.j().create(k,this.Oq,G,C,{id:p.id,create:{data:p},properties:{soyTemplate:P(this.f,"soyTemplate"),css:P(this.f,"css"),firstLevel:w,isRoot:this.f.ue===p.id}})}k=this.g[p.id];k.D=e;k.view.wg();(g<=r.TreeMenu.minCountForReduced||-1<this.D.indexOf(c.id)&&!this.g[c.id].ff())&&iB(this.g[c.id],!0);this.U[this.g[c.id].Je().id]=c.id;if(c.x>=a.firstLevel&&l(a.items[h+1])&&a.items[h+1].x>c.x||P(this.f,
"enabledDragDrop")&&c.x>=a.firstLevel)e=P(this.f,"css")["group-id-prefix"]+c.id,this.xa[e]=c.id,k=c,Ng(I.j(),e)?this.l[k.id].Zh(k):(p=this.g[k.id].B(),this.l[k.id]=I.j().create(e,this.Nq,p,this.g[k.id],{id:k.id,create:{data:k},properties:{soyTemplate:P(this.f,"soyTemplate"),css:P(this.f,"css")}})),b[c.id]=this.l[c.id].B();c.id==this.w&&xG(this,c.id)}null===this.w&&this.Ok();wG(this,d);this.f.P=this.f.xa;P(this.f,"enabledDragDrop")&&(null===this.V&&(this.V=new TA(this),this.V.observe("onDragstart",
this.tB,this),this.V.observe("onDragend",this.rB,this),this.V.observe("onDragover",this.sB,this),this.V.observe("onDrop",this.Ir,this)),this.V.init(),this.V.reset(),this.V.init());this.ea&&(yG(this),this.ea=!1);this.notify("treeRendered")};
f.O=function(){uG.m.O.call(this);null!=this.view.zd()&&this.c.H(this.view.zd(),U,m(this.qB,this));null!=this.view.lc()&&(Fr(this.qa,this.view.lc()),this.c.H(this.qa,"key",m(this.uB,this)),this.c.H(this.view.lc(),"blur",m(this.pB,this)));null!=this.view.wa&&this.c.H(this.view.wa,U,m(this.Nv,this))};f.qB=function(a){this.view.Qk();this.view.lc()!==a.target&&this.view.lc().focus()};f.uB=function(a){13===a.keyCode&&(a.stopPropagation(),a.preventDefault());requestAnimationFrame(m(this.oB,this,a,a.target.value))};
f.oB=function(a,b){var c=a.target.value;c?(this.view.hi(!0),this.I=[],z(this.g,m(this.Nx,this,c),this),b||this.view.Lm()):(this.view.hi(!1),this.view.Km())};f.Nx=function(a,b){var c=b.tl(a);if(null!==c){var d=this.view;jy(c,r.TreeMenu.clonedItemAttrIndex,""+this.I.length);d.wa.appendChild(c);this.I.push(b)}};f.Nv=function(a){a=zG(this,a);null!==a&&(a=ky(a,r.TreeMenu.clonedItemAttrIndex),null!==a&&l(this.I[Number(a)])&&this.I[Number(a)].Wa())};
function zG(a,b){return Fp(b.target,m(function(a){return Dl(a,P(this.f,"css")["item-text"])},a))}f.pB=function(a){a.target.value||this.view.Of()};function wG(a,b){z(a.g,function(a){a=a.getId();F(b,a)||(this.g[a].dispose(),delete this.g[a],this.l[a]&&(this.l[a].dispose(),delete this.l[a]))},a)}
f.ma=function(a){"treeItemActivate"===a.getType()?(this.T!==a.c&&(null!==this.T&&this.T.pb(),this.T=a.c,this.notify("treeItemActivate",a.c.getId(),a.c)),this.w=a.c.getId(),a.stopPropagation()):"treeItemRefresh"===a.getType()?a.stopPropagation():"treeGroupOpen"===a.getType()?(-1===this.D.indexOf(a.c.getId())&&this.D.push(a.c.getId()),a.stopPropagation()):"treeGroupClose"===a.getType()&&(-1<this.D.indexOf(a.c.getId())&&this.D.splice(this.D.indexOf(a.c.getId()),1),a.stopPropagation())};
function VA(a){z(a.g,function(a){var c=this.V;P(a.f,"isRoot")?a.hh("top"):(c.Ka(a.B()),Sz(c,a.Je()))},a)}f.tB=function(a,b){this.ka=!1;var c=this.g[this.F[b.Bb.id]];c.Ge(!0);var d=this.f.xa.indexOf(c.getId()),c=this.f.g[c.getId()].x;this.f.P=[];for(var e,g=!0,h=0,k=this.f.xa.length;h<k;h++)e=this.f.g[this.f.xa[h]],g&&h>d&&e.x<=c&&(g=!1),h===d||g&&h>d&&e.x>c||this.f.P.push(this.f.xa[h])};
f.sB=function(a,b,c,d,e){if(!l(c))throw new Pa("Unable to find MVC target items.");if("parent"===e)try{AG(this,c);var g=lB(c).B(),h=b.B();g.appendChild(h)}catch(k){throw new Pa("Cannot change DOM: goog.dom.appendChild("+lB(c).getId()+", "+b.getId()+") - ["+a+", "+d+", "+e+"]");}else if("top"===d)try{AG(this,c.getParent()),qp(b.B(),c.B())}catch(k){throw new Pa("Cannot change DOM: goog.dom.insertSiblingBefore("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}else if("bottom"===d)try{AG(this,
c.getParent()),rp(b.B(),c.B())}catch(k){throw new Pa("Cannot change DOM: goog.dom.insertSiblingAfter("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}};function AG(a,b){var c;if(c=b!=a&&!b.ff())c=b.getId(),c=null!=a.l[c];c&&(c=b.getId(),c=a.l[c],iB(c.getParent(),!0),jB(c,!0))}f.Ir=function(a,b,c,d,e){this.ka||(b.Ge(!1),null!==c&&(this.ka=!0,BG(this,b,c,d,e)))};
f.rB=function(){var a;a=this.V;a={mvcDragging:a.P,mvcDropped:a.F,position:a.ea,changeType:a.A};null===a.mvcDragging&&null===a.mvcDropped||this.Ir(0,a.mvcDragging,a.mvcDropped,a.position,a.changeType)};
function BG(a,b,c,d,e){var g=b.getId(),h=[],k=m(a.Wp,a);"parent"===e?(h.push({parentId:c.getId()}),cB(a,c)&&h.push({before:dB(a,c).getId()})):(bB(b)!==bB(c)&&h.push({parentId:bB(c)}),b={before:c.getId()},"bottom"===d&&(b.parentId=bB(c)),h.push(b));c=h.length;d=new hi("moveTreeItem",c);gr(Qh.j(),d);a=Cg.j().get(a.f.K());for(b=0;b<c;b++)a.c(g,null,h[b],b+1===c?k:void 0,d)}
f.Wp=function(a,b,c){a=c.getData();a=new zg("dataUpdate","parent_propagation",this.f.K(),this,a.id);this.ca(a);this.f.update("data_updated");this.f.Ea(this.lf,null,this)};f.xd=function(){return this.view.xd()};function aB(a,b){return a.g[b]}function CG(a){return null!=a.g[a.w]?a.g[a.w]:null}function $A(a,b){return b.getId()===a.f.ue}function eB(a,b,c,d){b=b.getId();var e=c.getId(),e=a.f.g[e].x;"parent"===d&&(e+=1);a.f.g[b].temporaryX=e;a.f.g[b].temporaryParentId=bB(c)}
f.Dj=function(a){a=gB(this,a.getId());a=this.f.P[a-1];return l(a)?this.g[a]:null};function ZA(a,b){var c=gB(a,b.getId());return a.g[a.f.P[c+1]]}function cB(a,b){var c=a.f.g[b.getId()],d=gB(a,c.id),d=a.f.g[a.f.P[d+1]];return null!=d&&d.x===c.x+1&&DG(d)===c.id}function dB(a,b){var c=a.f.g[b.getId()],d=gB(a,c.id),d=a.f.g[a.f.P[d+1]];return null!=d&&d.x===c.x+1&&DG(d)===c.id?a.g[d.id]:null}function YA(a,b,c){c=a.f.g[c.getId()];for(b=b.getId();b=a.f.g[b];){if(c.id===DG(b))return!0;b=DG(b)}return!1}
f.Qj=function(){return!1};function DG(a){return a.temporaryParentId||a.parent_id}function gB(a,b){var c=a.f.P.indexOf(b);-1===c&&(c=a.f.xa.indexOf(b));return c}function XA(a,b,c,d){var e=null,g=null,h=a.Dj(b);null!=d&&"parent"===d&&(h=b);null!=h&&(e=h.getId(),a=ZA(a,h),null!=a&&(g=a.getId()));g===b.getId()&&"bottom"===c&&(e=b.getId(),g=null);return{before:e,after:g}}function yG(a){var b=a.g[a.w];l(b)&&(b=S.Cl(b.B(),a.view.xd(),!0),a.view.xd().scrollTop=b.y)}
function xG(a,b){null!=a.g[b]&&(a.g[b].Wa(),a.T=a.g[b])};function EG(a,b){K.call(this);this.D=parseInt(r.StyleSwitcher.maxItems,10);this.w=this.G=0;this.l=[];this.o=[];this.h={};this.P=[];this.I={};this.c={};this.A={};this.T=["solidColors","patterns",Uj,"publicImages",fr,"videos"];this.R=[fr,"videos"];this.S=this.F=this.ha=this.M=this.g=null;a=a||{};if(null!=a.id){var c=a;null!=c.dataType&&"filesystem_files"===c.dataType&&(c.id=parseInt(c.id,10));c=(new YD).Sd(c);c.tb&&c.tb.getParent()?(this.M=bf(c),c=FG(c.tb.getParent())):c.ie&&(c=FG(c.ie.getParent()));
0==c.cb&&"publicImages"==c.ja&&OC(c,c.ya());this.F=c.getId();GG(this,c)}else null!=b&&(this.F=b);this.J={}}n(EG,K);
function HG(a,b){a.w=0;a.l=[];a.o=[];a.h={};a.h.solidColors=[];a.h.solidColorSchemes=[];a.h[Uj]=[];a.h[fr]=[];a.h.publicImages=[];a.h.patterns=[];a.h.videos=[];a.G=parseInt(a.D,10);l(b)&&l(b.solidColorSchemes)&&l(b.solidColorSchemes.colors)&&u(b.solidColorSchemes.colors,a.Ax,a);0===a.w&&(a.D-=r.StyleSwitcher.countItemsByType.solidColorSchemes,a.G=a.D);if(0>=a.G)IG(a);else{if(null!==a.g&&a.g.K()&&"solidColorSchemes"!==a.g.K()){var c={},d;"filesystem_files"===a.g.K()?(d=Uj,c=bf(r.MediaListFilesystem[d].collectionSettings),
c.filter.push({key:"filesystem_files.id",operator:"=",value:a.Ad(),suffix:"",prefix:"AND"})):"my_videos"===a.g.K()?(d=fr,c=bf(r.MediaListVideos[d].collectionSettings),c.filter=[{key:"my_videos.id",operator:"=",value:a.Ad(),suffix:"",prefix:""}]):(d=a.g.ja,c.id=a.Ad());a.P.push({type:d,request:L.j().get(a.g.K(),c)})}JG(a,"publicImages",a.G,b);JG(a,"patterns",a.G,b);b&&b.videos&&JG(a,"videos",a.G,b);D(sv())||a.P.push({type:"solidColors",request:L.j().get(r.MediaListSolidColors.solidColors.dataType,
b.solidColors)});c=a.P.length;d=new hi("loadBackgroundImages",c);d.observe("complete",a.kv,a);gr(Qh.j(),d);for(var e,g=!1,h=0;h<c;h++)e=a.P[h].request,e.Ea(m(a.sA,a,a.P[h].type,a.G),d,a),e.Dd()&&(g=!0);g||d.notify("complete")}}f=EG.prototype;
f.Ax=function(a){this.I[a.getId()]=a;this.Ad()===a.getId()&&GG(this,a);0<this.G&&this.w<r.StyleSwitcher.countItemsByType.solidColorSchemes?(this.l.push(a),this.o.push(a.getId()),this.h.solidColorSchemes.push(a.getId()),this.w++,this.G--):this.Ad()===a.getId()&&(this.l.pop(),this.o.pop(),this.h.solidColorSchemes.pop(),this.l.push(a),this.o.push(a.getId()),this.h.solidColorSchemes.push(a.getId()))};
function JG(a,b,c,d){var e=bf(r.MediaListStaticServer[b].collectionSettings);d&&l(d[b])&&df(e,d[b]);e.limit={count:c,from:0};null!=t.licenceLevel&&e.filter.push({prefix:"AND",key:"licence_level",operator:"IN",value:ro()});a.P.push({type:b,request:L.j().get(r.MediaListStaticServer[b].dataType,e)})}
f.sA=function(a,b,c,d,e,g){if(l(d)&&l(g)&&l(g.order)){l(this.c[a])||(this.c[a]={});l(this.c[a].data)||(this.c[a].data={});switch(a){case "solidColors":this.Fx.apply(this,arguments);break;default:this.Dx.apply(this,arguments)}l(this.A.sk)||(this.A.sk=[]);F(this.A.sk,a)||this.A.sk.push(a);l(this.A.ni)||(this.A.ni=[]);l(this.A.Xh)||(this.A.Xh={});l(this.A.Xh[a])||(this.A.Xh[a]=0);this.A.Xh[a]=Se(this.c[a].data);b>this.A.Xh[a]?F(this.A.ni,a)||this.A.ni.push(a):F(this.A.ni,a)&&dg(this.A.ni,a)}};
f.Dx=function(a,b,c,d,e,g){z(d,function(b,c){if(l(this.c[a].data[c]))dg(g.order,c);else{var d;d=b;!0===(null!=d["filesystem_files.id"])?d={id:parseInt(d["filesystem_files.id"],10),src:d["filesystem_files.src"],dataType:"filesystem_files",width:d["filesystem_files.width"],height:d["filesystem_files.height"],mime:d["filesystem_types.mime_type"]}:!0===(null!=d["my_videos.id"])?d={id:parseInt(d["my_videos.id"],10),src:d["my_videos.url"],dataType:"my_videos",poster:d["my_videos.thumbnail"],width:d["my_videos.width"],
height:d["my_videos.height"],type:rD,mime:""}:(d.dataType="static_server",d.id=d.hash,d.src=d.path);var e=PC(KC(ZD(NC((new YD).Ga(d.id),d.src).Ab(d.dataType),lE),a),d.mime);if(d.type===rD||d.type===sD||d.type===tD){var v=d,C=e.ja,G=po(v.poster,v.dataType,q.FilesystemPreviewSize.small);OC(PC(MC(e,G),v.mime),v.poster).setWidth(v.width).setHeight(v.height);"patterns"===C?QC(e,"wnd-switcher-pattern"):"videos"!==C&&C!==fr||QC(e,"wnd-switcher-video")}else v=d,C=po(v.src,v.dataType,q.FilesystemPreviewSize.small),
PC(MC(e,C).setWidth(v.width),v.mime).setHeight(v.height);this.Ad()===d.id&&GG(this,e);this.c[a].data[c]=e}},this);l(this.c[a].Zd)?F(g.order,this.Ad())?this.c[a].Zd=Ah(bf(g.order),this.c[a].Zd):this.c[a].Zd=Ah(this.c[a].Zd,g.order):this.c[a].Zd=bf(g.order)};
f.Fx=function(a,b,c,d){this.c[a].Zd=[];z(d,function(b,c){u(b.colors,function(b){var d=c+"-"+b.rgb;b=KC(ZD(TC(LC((new YD).Ga(d),b.rgb),b.brightness),kE),"solidColors");this.c[a].data[d]=b;this.Ad()===d?(GG(this,b),Dh(this.c[a].Zd,void 0,0,d)):this.c[a].Zd.push(d)},this)},this)};
f.kv=function(){l(this.A.sk)&&u(this.T,function(a){if(l(this.c[a])){var b=r.StyleSwitcher.countItemsByType[a];"patterns"===a&&(b=r.StyleSwitcher.maxItems/2-this.w);var c=0;"publicImages"===a&&l(this.c[Uj])&&!1===Ye(this.c[Uj].data)&&c++;"videos"===a&&l(this.c[fr])&&!1===Ye(this.c[fr].data)&&c++;var d,e;for(e in this.c[a].Zd)if(this.c[a].Zd.hasOwnProperty(e)){d=this.c[a].Zd[e];0===b&&d===this.Ad()&&b++;if(0===b)break;this.l.push(this.c[a].data[d]);this.o.push(d);this.h[a].push(d);this.G--;"solidColors"===
a&&this.w++;c++;if(c===b)break}}},this);IG(this)};function IG(a){a.notify("onDataChanged",a.l,a.Ad())}function GG(a,b){null!=a.M&&a.M.tb&&a.M.tb.getParent()&&b.getId()!=a.M.tb.getParent().getId()&&(a.M=null,null!=a.S&&O(a.S.f,"selectedItem",b));a.g=b}function KG(a){return null!=a.M?a.M:a.g}function FG(a){var b=po(a.ya(),a.K(),q.FilesystemPreviewSize.small),b=MC(PC(KC(NC((new YD).Ga(a.getId()),a.ya()).Ab(a.K()),a.ja).setWidth(a.Ma()).setHeight(a.getHeight()),a.Qc),b);a.cb&&OC(b,a.cb);return b}
f.Ad=function(){return null!=this.g?this.g.getId():null!=this.F?this.F:null};
f.rA=function(a,b){if(!D(b)){var c=b[0],d=KC((new YD).Ga(c.getId()),c.ja);"solidColors"===c.ja||"solidColorSchemes"===c.ja?TC(LC(d,c.De),c.Jf):PC(OC(NC(d.Ab(c.K()),c.ya()).setWidth(c.Ma()).setHeight(c.getHeight()),c.cb),c.Qc);"patterns"!==d.ja||d.bf?F(this.R,d.ja)&&!d.bf&&QC(d,"wnd-switcher-video"):QC(d,"wnd-switcher-pattern");c=d;GG(this,c);d=c.getId();if(LG(this,c)){var e=MG(this,c);e&&(c=e)}else switch(e=c,e.ja){case Uj:case "publicImages":case "patterns":case "videos":case fr:var g="",g=e.ja===
fr?UC(e):po(UC(e),e.K(),q.FilesystemPreviewSize.small);ZD(MC(e,g),lE);l(this.c[e.ja])||(this.c[e.ja]={},this.c[e.ja].data={});this.c[e.ja].data[e.getId()]=e;break;case "solidColors":case "solidColorSchemes":ZD(e,kE),this.I[e.getId()]=e}e=c;if(!e.getId()||!F(this.o,e.getId())){g=c;e=null;if(D(this.h[g.ja])){switch(g.ja){case Uj:e=NG(this,g,"publicImages");break;case "solidColors":e=NG(this,g,"patterns");break;case fr:e=NG(this,g,"videos")}if(null!=e&&l(this.l[e])){var h=this.l[e];dg(this.h[h.ja],h.getId())}}else h=
g.ja,"publicImages"===g.ja&&!D(this.h[Uj])&&F(this.o,this.h[Uj][0])&&(h=Uj),"videos"===g.ja&&!D(this.h[fr])&&F(this.o,this.h[fr][0])&&(h=fr),e=oh(this.o,this.h[h][0]),-1===e&&g.ja===Uj&&(e=NG(this,g,"publicImages")),-1===e&&g.ja===fr&&(e=NG(this,g,"videos")),zh(this.h[h],0);h=g.getId();Dh(this.h[g.ja],0,0,h);null!=e&&-1<e&&(zh(this.l,e),zh(this.o,e),h=MG(this,g),Dh(this.l,e,0,h),g=g.getId(),Dh(this.o,e,0,g))}IG(this);this.notify("onInsert",d,c);this.notify("onFinish")}};
function LG(a,b){if(!b.ja||!b.getId())return!1;var c;switch(b.ja){case Uj:case "publicImages":case "patterns":case "videos":case fr:c=l(a.c[b.ja])&&oa(a.c[b.ja].data[b.getId()]);break;case "solidColors":case "solidColorSchemes":c=oa(a.I[b.getId()]);break;default:c=!1}return c}
function MG(a,b){if(!LG(a,b))return null;var c;switch(b.ja){case Uj:case "publicImages":case "patterns":case "videos":case fr:c=a.c[b.ja].data[b.getId()];break;case "solidColors":case "solidColorSchemes":c=a.I[b.getId()];break;default:c=!1}return c}
function NG(a,b,c){var d=0;D(a.h[c])?D(a.h.solidColorSchemes)?(d=0,a.D>a.G&&(c=MG(a,b),Dh(a.l,d,0,c),c=b.getId(),Dh(a.o,d,0,c),c=b.getId(),Dh(a.h[b.ja],0,0,c))):d=1+oh(a.o,nh(a.h.solidColorSchemes)):(d=oh(a.o,a.h[c][0]),zh(a.h[c],0),b=b.getId(),Dh(a.h[c],0,0,b));return d}
f.Tw=function(){var a=this.g;null!=this.M&&(a=this.M);this.S=E.j().create("wnd.ui.CropImagePopup",r.CropImagePopup.mvcId,document.body,bg.j().get("wnd.pc"),{},{selectedItem:a,extendCssClass:"wnd-crop-image"});fC(this.S,"onCropImage",this.pv,this)};f.pv=function(a,b,c){a=new YD;ZD(PC(NC(KC(a.Ga(b.getId()),Uj).Ab(b.K()),b.ya()),b.Qc).setWidth(b.Ma()).setHeight(b.getHeight()),lE);c&&(a.tb=c);this.M=a;this.notify("onInsert",a.getId(),a)};
f.Xu=function(a,b){var c=bf(this.g);fr==c.ja&&(c.si=b,this.notify("onInsert",c.getId(),c))};f.Zw=function(a,b){var c=[Uj,"publicImages","patterns"];b&&b.videos&&(c.push("videos"),La(t.visibleRelease,"my_videos")&&c.push(fr));Ye(this.I)&&D(sv())||c.push("solidColors");this.ha=OG(E.j(),{showTypes:c,activeType:"publicImages",collectionSettings:b,checkLowResolution:La(t.visibleRelease,"contextHelp")});fC(this.ha,"onInsert",this.rA,this)};
function PG(a,b,c,d,e){var g={},g=null!=d?iv(d,"background",b):cv("background",b);if(Ye(g))return null;b="";if("effect"===c||"overlay"===c||"position"===c)d=a.g,null!=d&&d.ya()&&d.K()&&(b=po(UC(d),d.K(),q.FilesystemPreviewSize.small));"overlay"===c&&(d={none:{type:"overlay"}},df(d,g),g=d);d=[];var h,k,p;for(p in g)if(g.hasOwnProperty(p)&&(h=g[p],!(h.type!==c||e&&(!h.system||h.system&&!1===h.system)))){k=(new YD).Ga(p);switch(h.type){case "effect":case "position":a:{var w=a,v=k,C=b;if(l(h.system)&&
!0===h.system){if(ZD(v,nE),h=w.g){h.ie&&(h=h.ie.getParent());var G=v.getId(),J=We(dr);if(C)if(F(J,G)){C=h.getId();C=w.J[C]&&w.J[C][G]?w.J[C][G]:null;if(!C){var ba=UC(h),J=q.FilesystemPreviewSize.small;if(!Vq(Tq.j(),ba,h.K(),J))break a;ba=new br(h.getId(),ba,h.K());try{C=ir(ba,G,h.Qc,J)}catch(Nb){new Pa(Nb.message);break a}var J=w,ba=h.getId(),Sa=G,ac=C;J.J[ba]||(J.J[ba]={});J.J[ba][Sa]=ac}w=nD(mD(new lD,G),w.g);G=v;G.mj=C;aE(G,w)}else w=v,w.nj=C,QC(w,G);else QC(v,"wnd-bgr-fx wnd-preview-"+G);v.setWidth(h.Ma()).setHeight(h.getHeight())}}else ZD(MC(v,
t.staticFiles+h.preview.image),lE)}break;case "overlay":v=a,w=h,h=k,G=b,C={},l(w.color)&&(C=wm(w.color),C.push(w.alpha||.5),C={color:Km(C[0],C[1],C[2],C[3])}),w=MC(h,G),w.h=C,ZD(w,lE),(v=v.g)&&h.setWidth(v.Ma()).setHeight(v.getHeight())}d.push(k);if(l(void 0)&&void 0===d.length)break}return D(d)?null:d}function QG(){return"Custom"}
function RG(a,b){var c=a.wd();if(c&&"patterns"===c.mediaType)return b;var d=c=null,e=a.Ec("effects"),g=a.Ec("overlays");g?(e=a instanceof SG?iv(TG(a),"background","overlays"):cv("background","overlays"),l(e[g])&&(c=wm(e[g].color),d=e[g].alpha||1)):e&&l(r.BackgroundStyle.effectsBrightness[e])&&(c=r.BackgroundStyle.effectsBrightness[e].color,d=r.BackgroundStyle.effectsBrightness[e].alpha);if(null===c||null===d)return b;for(var e=g=0,h=c.length;e<h;e++)g+=1-d+d*c[e];g=Math.floor(g/3);b=(b+parseFloat((g/
255).toFixed(2)))/2;return b=parseFloat(b.toFixed(2))}function UG(a){var b=[];if("videos"===a)b=["effects","overlays"];else if(a===fr)b=["overlays","video_settings"];else if(a===Uj||"publicImages"===a)b=["effects","overlays","position","attachment","transform"];return b}function VG(a){var b=null,c=["videos","patterns","publicImages",fr];a.cb&&a.cb!=a.ya()&&F(c,a.ja)&&(b={id:a.getId(),src:a.cb,dataType:a.K(),width:a.Ma()||null,height:a.getHeight()||null});return b}
function WG(a){var b={selection:a.getSelection(),previewSize:a.ea()};a=a.getParent();null!=a&&(b.parent={id:a.getId(),src:a.ya(),dataType:a.K(),mime:a.Qc,mediaType:a.ja,width:a.Ma(),height:a.getHeight()},a.cb&&a.cb!=a.ya()&&"publicImages"==a.ja&&(b.poster={id:a.getId(),src:a.cb,dataType:"static_server",width:a.Ma()||null,height:a.getHeight()||null}));return b}
function XG(a){a=a.getParent();var b=null;null!=a&&(b={id:a.getId(),src:a.ya(),mime:a.Qc,dataType:a.K(),mediaType:a.ja||null,width:a.Ma()||null,height:a.getHeight()||null},a.cb&&a.cb!=a.ya()&&(b.poster={id:a.getId(),src:a.cb,dataType:a.K(),width:a.Ma()||null,height:a.getHeight()||null}));return b}function YG(a){var b=Uj;null!=a.c[b]&&delete a.c[b]};function ZG(a,b){my.call(this,a,b);this.pe=!1;this.$b=!0;this.h={"class":"wnd-base wnd-add-content-stripe"}}n(ZG,my);ZG.prototype.da=function(){Qr(this.c,Bs,this.N())};ZG.prototype.N=function(){return{id:this.f.C()+"_btn",border:this.f.C()+"_border"}};function $G(a){a.w||(a.w=Um(a.f.C()+"_btn"));return a.w}function aH(a){a.o||(a.o=Um(a.f.C()+"_border"));return a.o}ZG.prototype.Df=function(a){S.setWidth(this.B(),Math.floor(a.width));S.setPosition(this.B(),Math.floor(a.left),Math.floor(a.top))};
function bH(a){R(a.B(),"inner",a.f.ka)}ZG.prototype.setZIndex=function(a){this.B().style.zIndex=a};function cH(a,b){ZG.call(this,a,b);this.h={"class":"wnd-base wnd-add-content-container-stripe"}}n(cH,ZG);cH.prototype.da=function(){Qr(this.c,As,this.N());this.show()};cH.prototype.Df=function(a){a.width&&(S.setWidth(this.B(),Math.floor(a.width)),S.setWidth(aH(this),Math.floor(a.width)));a.height&&S.setHeight(this.B(),Math.floor(a.height));S.setPosition(this.B(),Math.floor(a.left),Math.floor(a.top))};function dH(a,b,c){tz.call(this,a,b,c);this.w=!1}n(dH,tz);var eH=null;f=dH.prototype;f.Wa=function(a,b,c){this.l=a;this.f.position=c;this.D=b;this.f.ka=this.Rq();this.lk(this);this.show();this.view.Df(b);bH(this.view);a=this.view;R(a.B(),"vertical",a.f.Od());this.view.setZIndex(this.getZIndex())};
f.Rq=function(){var a=ly(this.l,x.ContentBlock.separableParts.typeIsSeparable),b=this.f.position,c=!1,d=fH(),e=this.D.clone(),g=x.AddContentManager.stripeOffset;"left"==b||"right"==b?(e.left-=g,e.width+=2*g):(e.top-=g,e.height+=2*g);for(var h in d)if(b=S.getBounds(d[h].B()),!0===Zm(b,e)&&b.width>g){c=!0;break}this.f.ju=a||c;return this.f.ju};f.getZIndex=function(){return x.AddContentManager.zIndex};f.pb=function(a){this.pj()&&this.C()===this.pj().C()&&this.lk(null);a||this.hide()};
f.O=function(){dH.m.O.call(this);var a=$G(this.view);this.c.H(a,"mouseover",this.Vq);this.c.H(a,gq,this.jn);this.c.H(a,U,this.zk)};f.Vq=function(){this.f.Df=!0;El(this.view.B(),"active")};f.jn=function(){!0!==this.w&&(this.f.Df=!1,Gl(this.view.B(),"active"))};
f.zk=function(a){a.stopPropagation();a=E.j().create("wnd.pc.InsertContentPopup",x.InsertContentPopup.mvcId,Ex(),uz(this),{destroyAfterClose:!1,centered:!1});this.w=!0;fC(a,"onClose",this.Xv,this);gH(a,hH);this.l&&(z(fH(),function(a){a.sb()},this),iH(a,this.l,this.f.position),jH(a,S.getBounds($G(this.view))));this.f.ka&&(this.f.ka=!1,bH(this.view));El(this.view.B(),"active")};f.Xv=function(){this.w=!1;this.jn()};f.Pj=function(){return!0===(this.g&&1==this.g.nc)};f.pj=function(){return eH};
f.lk=function(a){null==a&&(this.f.Df=!1);eH=a};f.show=function(){this.B()||(this.view.render(),this.view.hide());if(this.B()&&!this.view.Ya()){var a=0;this.g&&1==this.g.nc&&(pw(this.g),a=this.g.h);this.g=new yw(this.B(),a,1,this.f.zf());this.g.H("begin",m(this.Np,this));this.g.play()}};f.hide=function(){this.view.Ya()&&this.Pj()?this.g.H("end",m(this.xo,this)):this.xo();return!0};function kH(a){1==a.g.nc&&pw(a.g);a.view.hide()}
f.xo=function(){if(this.B()&&this.view.Ya()){var a=1;this.g&&1==this.g.nc&&(pw(this.g),a=this.g.h);this.g=new yw(this.B(),a,0,this.f.Af(),this.Ko());this.g.H("begin",m(this.Np,this));this.g.H("end",m(this.Hv,this));this.g.play()}};f.Ko=function(){return de};f.Np=function(){this.view.show()};f.Hv=function(){this.view.hide()};f.X=function(){this.pb();dH.m.X.call(this)};I.j().register("wnd.pc.AddContentStripe",fk,ZG,dH);function lH(a,b,c){dH.call(this,a,b,c)}n(lH,dH);var mH=null;lH.prototype.Rq=function(){return!this.f.Od()};lH.prototype.zk=function(a){a.stopPropagation();a=I.j().get(this.l.id);a.Yb();var b=this.f.position;"left"==b?b="top":"right"==b&&(b="bottom");a.Z.Uq(a,b,S.getBounds($G(this.view)))};lH.prototype.pj=function(){return mH};lH.prototype.lk=function(a){mH=a};I.j().register("wnd.pc.AddContentContainerStripe",gk,cH,lH);function nH(a){K.call(this);this.h={};this.l=[];this.c=a?a:null;this.o={};this.G="wnd.pc.AddContentStripe";this.A=null;this.fg=x.AddContentManager.priority}n(nH,K);var Hn=new Fn;f=nH.prototype;f.init=function(){this.Yi(this.c.I);oH(this)};function oH(a){z(a.h,function(a){kr.j().Ka(a.c,"addContent","mouseover",m(this.tx,this,a),this.fg);kr.j().Ka(a.c,"addContent",gq,m(this.xm,this,a),this.fg);kr.j().Ka(a.c,"addContent",hq,m(this.gm,this,a),this.fg)},a)}
f.Yi=function(a){for(var b=null,c=0,d=a.length;c<d;c++){var e=this.c.g[a[c]],g="undefined"!=typeof this.c.ka[e.getId()],h=pH(this,e,g),e=new an(new pm(h.left+x.AddContentManager.horizontalBoxOffset,Z(e).top,h.width,Z(e).height),h,e.getPosition(),e.kd().id,g,g&&b?b:null),b=g?e:null;this.h[a[c]]=e;g=30*Math.round(h.top/30);this.l[g]||(this.l[g]=[]);this.l[g].push(a[c])}};
f.tx=function(a){if(null!=Qz)return qH(),!1;var b=a.B(),c=!1;if(b&&this.nl(a)){var d,e=1,g;for(g in this.o){if((c=this.o[g])&&!c.Pj()&&!c.Ya()){d=c;break}e++}d||(g="wnd_pc_AddContentStripe_"+Math.random().toString(36).substring(7),d=I.j().create(g,this.G,Ex(),null),this.o[g]=d);a.A=d;this.Wa(d,b,a.h.clone(),a.getPosition());c=!0}return c};f.xm=function(a){var b=!1,c=a.A;c&&!c.f.Df&&(c.pb(!1),a.A=null,b=!0);!0===b&&this.A&&(Gl(this.A,"intersection-right"),this.A=null);return b};
f.gm=function(a){var b=a.getPosition(),c=a.c,d=Jg.j();if(!this.A&&!rH(d)&&a.A){a=d.c;for(var e in a)if(d=a[e],d.Ic()&&(d=sH(d),d instanceof tH&&("top"==b||"bottom"==b))){var d=d.view.g.top,g=S.getBounds(d),h=2*x.AddContentManager.stripeOffset;if(Zm(g,c)&&g.width<h){this.A=d;El(this.A,"intersection-right");break}}}};function pH(a,b,c){var d=zA(b).x,e=b.f.M.x-zA(b).x;c&&(d=uH(a.c,b),a=vH(a.c,d.getId(),b.getPosition()),d=zA(a).x,e=a.f.M.x-zA(a).x);return new pm(d,zA(b).y,e,b.f.M.y-zA(b).y)}
f.nl=function(a){var b=a.B();if(wH(b)){var b=!1,c=a.B();a=a.getPosition();var d=fH();if(!Ye(d)){var e=wH(c);if(e){var g=ky(c,x.ContentBlock.separableParts.typeSeparableId);g&&(c=I.j().get(g).B())}for(var h in d){var g=d[h],k=g.Ib?g.Ib.B():null;if(1==(g.B()==c||k==c&&"top"==a&&!e)){b=!0;break}}}if(!b)return!1}else xH.j().h();return!0};f.Wa=function(a,b,c,d){var e=x.AddContentManager.maxAnimatedStripes-1;if(Hn.hd()>=e)for(var e=Hn.hd()-e,g=Hn.mc(),h=0;h<e;h++)Gn(),kH(g[h]);Hn.h.push(a);a.Wa(b,c,d)};
function qH(){if(!Hn.isEmpty())for(var a=Hn.mc(),b=0;b<Hn.hd();b++)Gn(),kH(a[b])}f.reset=function(){Hn.clear();yH(this);zH(this)};function zH(a){for(var b in a.h)a.h[b].dispose();a.h={};a.l={}}function yH(a){for(var b in a.o)a.o[b].dispose();a.o={}}function wH(a){return ly(a,x.ContentBlock.separableParts.typeIsSeparable)}f.X=function(){zH(this);yH(this);nH.m.X.call(this)};function AH(a){nH.call(this,a);this.G="wnd.pc.AddContentContainerStripe";this.g=null;this.fg=x.AddContentContainerManager.priority}n(AH,nH);f=AH.prototype;f.init=function(){var a=this.c.I,b=this.c.ha;D(a)?D(b)||this.Yi(b):this.Yi(a);oH(this)};f.Yi=function(a){u(a,function(a){var c=this.c.g[a],d=pH(this,c),e=Z(c);c.Hc()&&(e.left+=x.AddContentManager.horizontalBoxOffset);this.h[a]=new dn(e,d,c.getPosition(),c.kd().id)},this)};f.nl=function(){xH.j().h();return!0};
f.gm=function(a){var b=a.getPosition(),c=a.c;if(!this.g&&!rH(Jg.j())&&null!==a.A){a=fH();for(var d in a){var e=a[d];if(e.Ic()){var g=sH(e);if(g instanceof tH){var h=S.getBounds(e.B()),e=null;if("left"==b||"right"==b){var k=h.clone();k.width/=2;h=h.clone();h.width/=2;h.left+=h.width;Zm(k,c)?e="left":Zm(h,c)&&(e="right")}else k=h.clone(),k.height/=2,h=h.clone(),h.height/=2,h.top+=h.height,Zm(k,c)?e="top":Zm(h,c)&&(e="bottom");if(e){this.g=g.view.g[e];this.g.style.opacity=0;break}}}}}};
f.xm=function(a){a=AH.m.xm.call(this,a);!0===a&&this.g&&(this.g.style.opacity=1,S.aa(this.g,!0),this.g=null);return a};function BH(a,b,c){Iq.call(this,a,b,c);CH(this);this.Xa=x.ImageBlock.minWidth;this.yh=!1;this.Ae=""}n(BH,Iq);f=BH.prototype;f.Mm=function(a){this.J=a};f.Kg=function(){return this.J};function DH(a){return new De(N(a,"image").size.width,N(a,"image").size.height)}f.mk=function(a){this.gc=a};
function EH(a,b,c,d,e){b=b?b:0;c=c?c:0;var g=DH(a).width,h=DH(a).height;b||c||(b=g,c=h);if(!b&&!c)return!1;if(d){d=Jq(a);var k=a.wa.width*x.ResizableBlock.maxWidth/100;k<b&&(b=k,c=k*h/g);c>d&&(b=d*g/h,c=d)}d=a.Bh(b,c,e);g=N(a,"style");e||(c=d*a.J.height/g.paddingBottom);FH(a,b,c);a.Kf(b);return!0}
function FH(a,b,c){var d=DH(a).width,e=DH(a).height,g=0,h=0,k=0,p=0,g=d/e,d=e/d,e=b/c,h=c/b;(1>d?d>=h:1<d?g<=e:b>c)?(b=0,a.S.lb&&(b=100*(e*d-1),p=-(b/a.S.lb)),g=100,h=g+b):(b=0,a.S.Qa&&(b=100*(h*g-1),k=-(b/a.S.Qa)),h=100,g=h+b);a.Na=new pm(GH(k),GH(p),g,h)}f.Bh=function(a,b,c){a="number"==typeof a?a:DH(this).width;b="number"==typeof b?b:DH(this).height;c=c?b/a*100:N(this,"style").paddingBottom*b/this.J.height;c<this.qd&&(c=this.qd);this.T=GH(c);return c};
f.Kf=function(a,b,c,d){var e=N(this,"image").style.left,g=DH(this).width;b=DH(this).height*this.J.width/this.J.height;this.S.Qa?b=g/(1+-1*e*this.S.Qa/100):(e=g*this.J.height/this.J.width*this.J.width/this.J.height,b>e&&(b=e));a="number"==typeof a?a:b;e=this.sh;b=this.wa.width+e.left+e.right;e=this.J.width+e.left+e.right;c&&(c=Jq(this)*this.J.width/this.J.height,c>b*x.ResizableBlock.maxWidth/100&&(c=b*x.ResizableBlock.maxWidth/100),c<a||d)&&(a=c);this.Xa>a&&(a=this.Xa);d=a<e?(e-a)/2/b*100:0;this.w=
{left:GH(d),right:GH(d)};return!0};function HH(a,b){a.w={left:0,right:0};var c=b;null==c&&(a.fb=r.FloatDropStripe.defaultContentWidth,c=a.vc/100*a.fb);a.vc<c&&(c=a.vc);c<a.Xa&&(c=a.Xa);a.vc<c&&(c=a.vc);a.fb=GH(100*c/a.vc)}function CH(a){var b=N(a,"image");a.S={lb:b.ratio?b.ratio.vertical:2,Qa:b.ratio?b.ratio.horizontal:2}}
f.vi=function(){var a=bf(this.getData()),b=this.w;null!=b&&(a.style.margin={left:b.left,right:b.right});null!=this.T&&(a.style.paddingBottom=this.T);null!=this.gc&&(a.style["float"]=this.gc);null!=this.fb&&(a.style.width=this.fb);null!=this.S&&(a.image.ratio={vertical:this.S.lb,horizontal:this.S.Qa});null!=this.Na&&(a.image.style={height:this.Na.height,width:this.Na.width,top:this.Na.top,left:this.Na.left});Yi(this,a,!0)};
f.getImageData=function(a,b){var c=L.j().get("filesystem_files",{filter:[{prefix:"",key:"filesystem_files.file_group",operator:"=",value:"image",suffix:""}]});N(this,"image").id||c.ig();c.Ea(a,null,b)};f.Mj=function(){var a=N(this,"image").id;return null!=a&&"=imageId"!=a};function GH(a){return parseFloat(a.toFixed(2))}f.ya=function(){return N(this,"image").src};f.Il=function(){var a=N(this,"image").size;return jr(parseInt(a.width,10),parseInt(a.height,10))};
function IH(a){a=N(a,"image");return qo(a.src)?"icon":"image"}f.Ke=function(){var a=N(this,"image"),b=a.src,a=po(b,a.dataType,q.FilesystemPreviewSize.small);qo(b)&&this.Ae&&(a+=(0>a.indexOf("?")?"?":"&")+this.Ae);return a};f.nf=function(a){this.Ae=a};
f.jk=function(a){var b=this.getData(),c=bf(b);c.image.id=a.getId();c.image.src=a.ya();c.image.dataType=a.K();c.image.size.width=a.Ma();c.image.size.height=a.getHeight();c.image.id!=b.image.id&&(a={"=imageId":c.image.id,"=dataType":c.image.dataType},b=I.j().get(this.getId()),$k(c,b.ba(),a));Yi(this,c,!0)};function JH(a,b){ZG.call(this,a,b);this.h={"class":"wnd-base wnd-add-section-stripe"}}n(JH,ZG);JH.prototype.da=function(){Qr(this.c,Ds,this.N());this.show()};JH.prototype.Df=function(a){S.setPosition(this.B(),Math.floor(a.left),Math.floor(a.top));S.setSize(this.B(),Math.floor(a.width),Math.floor(a.height))};function KH(a,b,c){dH.call(this,a,b,c)}n(KH,dH);var LH=null;f=KH.prototype;f.O=function(){KH.m.O.call(this);var a=this.B();this.c.H(a,"mouseover",this.Vq);this.c.H(a,gq,this.jn);this.c.H(a,U,this.zk)};
f.zk=function(a){a.stopPropagation();var b=I.j().get(this.l.id),c=a=null;b.Yb();MH(b)?(a=b,c=a.Z):c=b;b=c;c=a;a=this.f.position;var d=S.getBounds($G(this.view));b.l||(kr.j().pause(),c?(b.U=a,b.l=c,b.l.getStyle("colorScheme"),c=b.l,b=m(b.Cq,b,d),xH.j().h(),NH=!0,OH(c)?b():(d=c.B(),c.animate=new sw(d,[x.Section.animation.start],[x.Section.animation.end],x.Section.animation.expandTime,ee),c.animate.H("animate",m(c.lr,c,a)),c.animate.H("end",b),c.animate.play())):b.Cq(d))};f.pj=function(){return LH};
f.lk=function(a){LH=a};f.Ko=function(){return this.Zs};f.Zs=function(a){return Math.pow(a,x.AddSectionManager.fadeOutExp)};I.j().register("wnd.pc.AddSectionStripe",hk,JH,KH);function PH(a,b){nH.call(this,a);this.g=b;this.G="wnd.pc.AddSectionStripe"}n(PH,nH);PH.prototype.init=function(){for(var a=this.g(),b=0,c=a.length;b<c;b++){var d=a[b];this.h[d.Fq+d.position]=new en(d.js,d.dy,d.position,d.Fq)}oH(this)};PH.prototype.nl=function(){xH.j().h();return!0};PH.prototype.gm=function(){};function QH(a){IA.call(this,null,m(a.cs,a),Ex())}n(QH,IA);QH.prototype.Ui=function(){};function RH(a,b,c){al.call(this,a,b,c)}n(RH,Aq);f=RH.prototype;f.qr=!0;f.Sj=function(){return this.qr};f.Rm=function(a){this.qr=a};
f.getStyle=function(a,b){var c=bf(N(this,"style"));"backgroundStyles"===a&&null!=c.backgroundSettings&&z(c.backgroundSettings,function(a,b){z(a,function(a,d){if(null!=a)if("solidColors"===a.mediaType)c.backgroundStyles[b][d]=Lu({backgroundColor:a.color});else if("videos"!==a.mediaType&&a.mediaType!==fr){var e=null;"patterns"!=a.mediaType&&(e=q.FilesystemPreviewSize.normal);e=po(a.src,a.dataType,e);null!=c.backgroundStyles||(c.backgroundStyles={});null!=c.backgroundStyles[b]||(c.backgroundStyles[b]=
{});null!=c.backgroundStyles[b][d]||(c.backgroundStyles[b][d]="");c.backgroundStyles[b][d]=Lu({backgroundImage:"url('"+e+"')"})}})});var d=oa(c)&&l(c[a])?c[a]:{};b&&(d=l(d[b])?d[b]:{});return!Ye(d)&&l(d["default"])?d["default"]:""};
f.Ao=function(a){var b={},c=N(this,"style");if(!1===(null!=c)||!1===(null!=c.backgroundSettings)||!1===(null!=c.backgroundSettings["default"])||!1===(null!=c.backgroundSettings["default"]["default"])||""===c.backgroundSettings["default"]["default"])return b;var d=c.backgroundSettings["default"]["default"];if("solidColors"===d.mediaType)return b["default"]=Lu({backgroundColor:d.color}),b;if("videos"===d.mediaType)return b;var c=d.src,e=d.dataType;"patterns"==d.mediaType?d=po(c,e):(d=Yq(Tq.j(),c,e),
null===d&&(d=po(c,e,a)));b["default"]=Lu({backgroundImage:"url('"+d+"')"});return b};function SH(a){var b=null;a.Kd()?b=a.Kd().cb:b=a.getStyle("backgroundSettings","default");return null!=b.src&&null!=b.dataType?po(b.src,b.dataType,void 0):null}f.Kd=function(){var a=this.getStyle("backgroundSettings","default"),b=["videos",fr];return oa(a)&&F(b,a.mediaType)?(new YD).Sd(a):null};f.isEmpty=function(){var a=this.Kd(),b=this.getStyle("backgroundStyles","default");return null==a&&null==(""===b?null:b)};function TH(a,b,c){al.call(this,a,b,c);this.ha=UH(this);this.Gf=0}n(TH,Aq);TH.prototype.na=function(){TH.m.na.call(this);this.options.editable=!0;this.options.Dc=!0;this.options.Gd=!1;this.options.Fg=Bq(this,"autoSize");this.options.lj=Bq(this,"changeFont")};TH.prototype.Gn=0;function UH(a){a=a.getData();return l(a.style)&&l(a.style.cssClasses)&&l(a.style.cssClasses.fontSize)?a.style.cssClasses.fontSize:""}
function VH(a){var b=[];if(D(fv())||Ru())return b;var c=fv();u(c,function(a){var c=ZD($D(new YD,a.name).Ga(a["class"]),wE);if(a.preview.image){var g=po(a.preview.image,"static_server");NC(ZD(c,xE),g).setHeight(a.preview.height).setWidth(a.preview.width)}b.push(c)},a);return b};function WH(a,b,c){TH.call(this,a,b,c)}n(WH,TH);function XH(a,b,c){TH.call(this,a,b,c)}n(XH,WH);XH.prototype.na=function(){XH.m.na.call(this);this.options.Gd=!0;this.options.Vk=La(t.visibleRelease,"alignableBlock")};function YH(a,b,c){TH.call(this,a,b,c)}n(YH,WH);YH.prototype.na=function(){YH.m.na.call(this);this.options.Gd=!0;this.options.Vk=La(t.visibleRelease,"alignableBlock")};function ZH(a,b,c){TH.call(this,a,b,c)}n(ZH,WH);ZH.prototype.Fb="";ZH.prototype.Tc=function(){var a=Wi(this).getData(this.Fb);return l(a.variant)?a.variant:"default"};ZH.prototype.na=function(){ZH.m.na.call(this);this.options.Gd=!0;this.options.Oc=!0;this.options.ec=!1;this.options.Fd=!1;this.options.Dc=!0};function $H(a,b,c){TH.call(this,a,b,c)}n($H,WH);function aI(a,b,c){TH.call(this,a,b,c);this.re="";this.Rn=new Of("fe")}n(aI,$H);aI.prototype.J=function(){this.notify("onUpdate","data_updated")};aI.prototype.Yt=function(a,b,c){var d=this.getData();L.j().get(d.refDataType).Ea(function(b,g,h,k){a.call(c,b,{value:g[d.refDataId][d.refDataKey]},h,k)},b,c)};
function bI(a){var b=a.getData(),c=new jf;a=b.refDataType;b=b.refDataKey;if("undefined"==typeof c.c[a])throw new Pa("Datatype `"+a+"` doesn't exist in metadata");c=c.c[a];if("undefined"==typeof c[b]){var d=b.split(".");"undefined"!=typeof d[1]&&(b=d[1])}if("undefined"==typeof c[b])throw new Pa("Column `"+b+"` definition doesn't exist in datatype `"+a+"`");return c[b].type}function cI(a,b){switch(bI(a)){case "DATE_TIME":b=Qf(a.Rn,b)}return b}aI.prototype.dataType=x.ContentBlock.DataType;function dI(a,b,c){aI.call(this,a,b,c);this.wh=!0}n(dI,aI);function eI(a,b,c){TH.call(this,a,b,c);this.qh=Ui(Ri.j());this.J=""}n(eI,WH);eI.prototype.na=function(){eI.m.na.call(this);this.options.Gd=!0};eI.prototype.ya=function(){return N(this,"image").src};eI.prototype.Ke=function(){var a=N(this,"image"),b=a.src,a=po(b,a.dataType,q.FilesystemPreviewSize.small);qo(b)&&this.J&&(a+=(0>a.indexOf("?")?"?":"&")+this.J);return a};eI.prototype.nf=function(a){this.J=a};
function fI(a,b){var c=a.getData();return l(c.style)&&l(c.style.cssClasses)&&l(c.style.cssClasses[b])?c.style.cssClasses[b]:""};function gI(a,b,c){TH.call(this,a,b,c)}n(gI,$H);f=gI.prototype;f.vl="";f.er=!1;f.na=function(){gI.m.na.call(this);this.options.editable=!0};f.ti=function(){return gI.m.ti.call(this,{"=text":Ha("wnd.pc.Option.defaultText")})};f.Xd=function(){return this.er};function hI(a,b,c){TH.call(this,a,b,c)}n(hI,gI);function iI(a,b,c){TH.call(this,a,b,c)}n(iI,gI);function jI(a,b,c){TH.call(this,a,b,c)}n(jI,$H);jI.prototype.na=function(){jI.m.na.call(this);this.options.Gd=!0};function kI(a,b,c){TH.call(this,a,b,c)}n(kI,WH);kI.prototype.Tc=function(){var a;a=x.SystemFooterBlock.DataType;a=L.j().get(a).getData();var b="default";-1!=x.SystemFooterBlock.packages.available.indexOf(a.package_identifier)&&(b=a.package_identifier);return b};function lI(a,b,c){TH.call(this,a,b,c);this.Cn=N(this,"code")}n(lI,TH);function mI(a,b){my.call(this,a,b);this.$b=!0;this.B()&&(this.pe=!1);this.Mc=!1}n(mI,nB);f=mI.prototype;f.move=function(a,b,c){b&&c?"left"==c||"top"==c?qp(this.B(),b):rp(this.B(),b):(b=this.B(),a.appendChild(b));this.sg=a};f.Wo=function(){return x.PageZoneModel.topOffset};
f.wi=function(){if(this.B()){var a=this.Wo(),b=S.Jg(this.B()),c=S.oa(this.B()),d=ep(window),e=S.Zb(document);b.y<a?window.scrollTo(0,parseInt(e.y+b.y-a,10)):b.y+c.height>d.height&&window.scrollTo(0,parseInt(e.y+b.y+c.height+a-d.height,10))}};f.da=function(){nI(this,this.N())};function nI(a,b){a.tg();a.B().outerHTML=Gu(a.f.We(),b);a.Nc()}f.hk=function(a,b,c,d){var e=this;mI.m.hk.call(this,function(b,d,k){nI(e,d);a.call(c,b,d,k)},b,c,d)};f.tg=function(){};
f.Nc=function(){this.c=null;this.B()&&rv("wnd-redraw",this.B())};f.Be=function(){this.Mc=!0;var a=new yw(this.B(),x.AddContentItem.startOpacity,x.AddContentItem.endOpacity,x.AddContentItem.fxDuration);Vm(a,"end",m(this.Ev,this));a.play()};f.Ev=function(){this.Mc=!1;this.notify("onCreateBlock")};f.N=function(){var a={"contentElement.attributes":{id:this.f.C()},variant:this.f.Tc()};a["contentElement.attributes"]["data-"+Fa.View.contentElementTypeAttr]=this.f.ba();return a};
f.Dl=function(){var a=mI.m.Dl.call(this);null!=a.id===!1&&(a.id=this.f.C());return a};f.B=function(){this.c||(this.c=document.getElementById(this.f.C()));return this.c};f.Pj=function(){return this.Mc};function oI(a,b){mI.call(this,a,b)}n(oI,mI);oI.prototype.bc=function(){return S.bc(this.B())};oI.prototype.Sa=function(){return document.getElementById(this.f.C()+"_container")};oI.prototype.N=function(){var a=this.f.getData(),b={};if(this.f.options.Gd&&l(a.style)&&l(a.style.cssClasses)){var c=[];z(a.style.cssClasses,function(a){a&&c.push(a)},this);D(c)||(b["style.class"]=c.join(" "))}return gf(oI.m.N.call(this),b)};function pI(a,b){mI.call(this,a,b)}n(pI,oI);function qI(a,b){mI.call(this,a,b)}n(qI,oI);qI.prototype.N=function(){var a=qI.m.N.call(this),b=this.f.Ff;z(b.it,function(a){a["link.attributes"]={href:a.link}});return gf(a,{structure:b.ry})};function rI(a,b){mI.call(this,a,b)}n(rI,oI);var sI=[];rI.prototype.render=function(){this.f.Sj()&&rI.m.render.call(this)};rI.prototype.dc=function(){this.f.Sj()&&rI.m.dc.call(this)};rI.prototype.N=function(){var a=rI.m.N.call(this),b=N(this.f,"text"),c;c=this.f;c.Dk?(c=Wi(c).getData(c.Dk),c=l(c.variant)?c.variant:"default"):c="default";F(sI,c)&&(b=b.replace(/(<([^>]+)>)/ig,""));return gf(a,{perex:b})};rI.prototype.Be=function(){};function tI(a,b){mI.call(this,a,b)}n(tI,oI);tI.prototype.Lh=function(){return S.oa(this.Sa()).round()};function uI(a,b){a.B().style.marginLeft=b.left?b.left+"%":"0";a.B().style.marginRight=b.right?b.right+"%":"0"};function vI(a,b){mI.call(this,a,b);this.o=null;this.F=!1}n(vI,tI);vI.prototype.N=function(){return gf(vI.m.N.call(this),{code:this.w()})};function wI(a){sp(a.o);a.o=null;a.F=!1}vI.prototype.tg=function(){vI.m.tg.call(this);wI(this)};function xI(a,b){vI.call(this,a,b)}n(xI,vI);xI.prototype.w=function(){return Tr(jt).outerHTML};function yI(a,b){mI.call(this,a,b);this.R=this.F=this.w=null}n(yI,tI);f=yI.prototype;f.Sa=function(){this.Ud||(this.Ud=document.getElementById(this.f.C()+"_container"));return this.Ud};
f.N=function(){var a=this.f.getData(),b=qo(a.image.src),c={href:a.link};if(0===a.link.indexOf("http://")||0===a.link.indexOf("https://")||0===a.link.indexOf("ftp://"))c.target="_blank";b&&(this.f.nf(Ev(zI(this),this.Oa())),c.type="image/svg+xml");var d=gf,e=yI.m.N.call(this),g=[];g.push("wnd-orientation-"+this.f.Il());var h=N(this.f,"style")["float"];"left"!=h&&"right"!=h||g.push("wnd-float-"+h);g.push("wnd-type-"+IH(this.f));h=N(this.f,"image");"static_server"!=h.dataType||h.id!=Fa.StaticContent.staticImagePlaceholder||
this.f.yh||g.push("wnd-image-placeholder");var g=g.join(" "),h={},k=N(this.f,"style");k.margin.left&&(h.marginLeft=k.margin.left+"%");k.margin.right&&(h.marginRight=k.margin.right+"%");var p=k["float"];"left"!=p&&"right"!=p||df(h,{"float":p,clear:"both",width:k.width+"%"});var h={style:Lu(h)},k={id:this.f.C()+"_container",style:Lu({paddingBottom:a.style.paddingBottom+"%",textAlign:"center"})},p=this.f.getData(),w=p.image.style,p={id:this.f.C()+"_img",src:this.f.Ke(),alt:p.description,style:Lu({top:w.top+
"%",left:w.left+"%",width:w.width?w.width+"%":"auto",height:w.height?w.height+"%":"auto",position:w.position?w.position:"absolute"})};b&&(p.type="image/svg+xml");return d(e,{"contentElement.class":g,"contentElement.attributes":h,"containerElement.class":"wnd-image-container","containerElement.attributes":k,"img.attributes":p,title:a.description,"detail.src":this.f.Ke(),"detail.width":a.image.size.width,"detail.height":a.image.size.height,"link.attributes":c,showImage:!b,showEmbed:b,embedScript:""})};
f.Be=function(){if(!0===(null!=this.Sa())){var a=new yw(this.Sa(),x.AddContentItem.startOpacity,x.AddContentItem.endOpacity,x.AddContentItem.fxDuration);Vm(a,"end",m(this.notify,this,"onCreateBlock"));a.play()}};f.Oa=function(){this.o||(this.o=document.getElementById(this.f.C()+"_img"));return this.o};function AI(a,b){var c=a.Oa();c.style.left=b.left?b.left+"%":0;c.style.top=b.top?b.top+"%":0;c.style.width=b.width?b.width+"%":"";c.style.height=b.height?b.height+"%":""}
f.Lh=function(){var a=S.oa(this.Sa()),b=S.Qf(this.Sa());return(new De(a.width-b.left-b.right,a.height-b.top-b.bottom)).round()};f.mk=function(a){var b=a?"both":"none";S.setStyle(this.B(),{"float":a,clear:b})};function BI(a){a.w||(a.w=ip("div",{"class":"wnd-range-area",style:"z-index:"+x.ImageBlock.rangeAreaZindex+";"}),Ex().appendChild(a.w));return a.w}function CI(a){a.F||(a.F=ip("div",{"class":"wnd-range-slider"}),BI(a).appendChild(a.F));return a.F}f.Nc=function(){this.o=this.Ud=this.c=null;yI.m.Nc.call(this)};
function zI(a){a.R||(a.R=new Dv);return a.R}f.Pe=function(){this.f.nf(Ev(zI(this),this.Oa()));return zI(this).Pe(this.f.Ke(),this.Oa())?(this.o=null,!0):!1};f.Fm=function(){var a=this.Oa(),b=this.Oa();a.outerHTML=b.outerHTML;this.o=null};f.mf=function(a){var b=this.Oa();b&&(bq||aq)&&(b.style.visibility=a?"":"hidden")};function DI(a,b){vI.call(this,a,b)}n(DI,vI);DI.prototype.N=function(){var a=this.f.getData().style;return gf(DI.m.N.call(this),{"contentElement.attributes":{style:Lu({marginLeft:a.margin.left+"%",marginRight:a.margin.right+"%"})},"containerElement.attributes":{id:this.f.C()+"_container",style:Lu({position:"relative",paddingBottom:a.paddingBottom+"%"})}})};
DI.prototype.w=function(){var a=this.f.getData().style,b=this.f.yf(),c=N(this.f,"style");l(c.cssClasses)&&l(c.cssClasses.color)?(c=c.cssClasses.color,c=l(Qe.mapStyles[c])?Qe.mapStyles[c]:""):c="";var d={z:15,a:b,s:c},b=Jn(d);if("undefined"==typeof b)throw Error("Keys are undefined");for(var c=new Yn(null,0,void 0),d=In(d),e=0;e<b.length;e++){var g=b[e],h=d[e];ia(h)?lo(c,g,h):c.add(g,h)}return Pu("iframe",{src:t.googleMapsUrl+"?"+c.toString(),style:Lu({position:a.position,top:a.top+"%",left:a.left+
"%",width:a.width+"%",height:a.height+"%"})},"")};function EI(a,b){mI.call(this,a,b)}n(EI,oI);EI.prototype.N=function(){var a=EI.m.N.call(this),b=[];z(Ri.j().c,function(a){b.push({name:a.getName(),code:a.Zc(),"link.attributes":{href:"/"+(a.rp()?"home":a.Zc())+"/"},showLink:t.page.langId!=a.getId()})},this);return gf(a,{items:b,show:1<b.length})};function FI(a,b){mI.call(this,a,b)}n(FI,oI);function GI(a,b){mI.call(this,a,b)}n(GI,oI);GI.prototype.render=function(){this.f.Sj()&&GI.m.render.call(this)};
GI.prototype.N=function(){var a=GI.m.N.call(this),b="",c=this.f.Kd();null!=c&&(b=jD(iD.j(),c,!0));return gf(a,{"styles.backgroundClasses":{"default":this.f.getStyle("background","default"),effects:"",attachment:"",position:"",overlays:""},"styles.backgroundStyles":{"default":this.f.getStyle("backgroundStyles","default"),effects:"",attachment:"",position:"",overlays:""},"backgroundVideo.show":""!=b,"backgroundVideo.code":b,"img.show":null!==SH(this.f),"img.attributes":{src:SH(this.f),alt:""}})};
GI.prototype.Be=function(){};function HI(a,b){vI.call(this,a,b)}n(HI,vI);HI.prototype.N=function(){var a=this.f.getData().style;return gf(HI.m.N.call(this),{"contentElement.attributes":{style:Lu({marginLeft:a.margin.left+"%",marginRight:a.margin.right+"%"})},"containerElement.attributes":{id:this.f.C()+"_container",style:Lu({position:"relative",paddingBottom:a.paddingBottom+"%"})}})};
HI.prototype.w=function(){var a=this.f.getData().style,b="";N(this.f,"url")&&(b=Pu("iframe",{src:N(this.f,"url")+"?wmode=opaque",style:Lu({position:a.position,top:a.top+"%",left:a.left+"%",width:a.width+"%",height:a.height+"%","pointer-events":"none"}),allowfullscreen:"1"},""));return b};function II(a,b){mI.call(this,a,b);this.La={};this.Ef=!0;this.yf=100;this.w=null;this.F=1;JI(this);this.W=null;this.zf=!0;this.qd=0;this.f.Gf=KI(this).length}n(II,oI);function LI(a){a.gc||(a.gc=document.getElementById(a.f.C()+"_wsw"));return a.gc}f=II.prototype;f.da=function(){II.m.da.call(this)};f.Og=function(){return LI(this)};
f.Uf=function(a){a=a||!1;a=MI(this,this.Og(),a,!0);if(0===a.length||1===a.length)return[];for(var b=0,c=a.length;b<c;b++)a[b].id=this.f.getId()+"_inner_"+b,jy(a[b],x.ContentBlock.separableParts.typeIsSeparable,"1"),jy(a[b],x.ContentBlock.separableParts.typeSeparableIndex,b.toString()),jy(a[b],x.ContentBlock.separableParts.typeSeparableId,this.f.getId());return a};
function MI(a,b,c,d){if(!1===c&&"undefined"!==typeof a.La[b.id]&&0<a.La[b.id].length)return a.La[b.id];c=[];var e=[];Ch(e,b.querySelectorAll(x.ContentBlock.separableParts.tagNames.join(",")));for(var g=0,h=e.length;g<h;g++){var k;a:{k=b;for(var p=e[g],w=e,v=x.ContentBlock.separableParts.tagNames,p=p.parentNode;p!==k&&null!==p;){if(-1<v.indexOf(p.nodeName.toLowerCase())&&-1<w.indexOf(p)){k=!0;break a}p=p.parentNode}k=!1}k||c.push(e[g])}!0===d&&(a.La[b.id]=c);return c}
f.N=function(){var a=II.m.N.call(this);this.f.getData();var b={"wysiwygElement.attributes":{id:this.f.C()+"_wsw"},"containerElement.attributes":{id:this.f.C()+"_wsw_container"},text:N(this.f,"code"),"wysiwygElement.class":this.f.options.editable?NI():""};this.Ef&&(b["wysiwygElement.attributes"]["data-wnd_placeholder"]="Click here to edit...",b["containerElement.attributes"]["data-wnd_placeholder"]="Click here to edit...");return gf(a,b)};
function KI(a){if(null!=LI(a)){a=LI(a);if(Vo&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ep(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Vo||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}else a="";return a}function OI(a){return""===KI(a)}function PI(a){return S.oa(LI(a))}
function QI(a,b,c){if(a.f.options.Fg){null===a.W&&RI(a);b=b||"";var d=a.yf,e=SI(a),g=LI(a).innerHTML;"<br>"==g&&(g="");e.innerHTML=g+b;c&&(d=100,TI(a,d),a.F=1,a.w=null);null!==a.w&&0!==a.w||UI(a,e,a.F);b=e.offsetHeight;c=a.F-1;g=a.F+1;a.zf&&0<a.qd?a.w=a.qd:l(a.W[g])&&a.W[g]>a.w&&(a.w=a.W[g]);if(b>a.w){do{if(d<x.InlineTextBlock.fontSizePercentageMinimal){d=x.InlineTextBlock.fontSizePercentageMinimal;break}TI(a,d);l(x.InlineTextBlock.wrapLimits[c])&&d<=x.InlineTextBlock.wrapLimits[c]&&(UI(a,e,a.F+1),
c=a.F-1);b=e.offsetHeight;g=parseInt(window.getComputedStyle(e,null).getPropertyValue("font-size"),10);if(a.w>=b||l(g)&&x.InlineTextBlock.fontSizePxMinimal>=g)break}while(d-=x.InlineTextBlock.fontChangeStep)}sp(e);100===d&&(a.f.ha="");a.yf=d;a.f.Gf=KI(a).length;requestAnimationFrame(m(a.Ss,a,KI(a).length))}}f.Ss=function(a){a>KI(this).length&&QI(this,"",!0)};
function SI(a){var b=LI(a).cloneNode(!1);b.removeAttribute("id");b.removeAttribute("data-wnd_placeholder");b.removeAttribute("spellcheck");b.removeAttribute("autocapitalize");b.removeAttribute("autocorrect");b.removeAttribute("autocomplete");b.style.transition="none";qp(b,LI(a));return b}function UI(a,b,c){for(var d=b.innerHTML,e="M",g=1;g<c;g++)e+="<br>M";b.innerHTML=e;a.w=parseInt(b.offsetHeight,10);b.innerHTML=d;a.F=c}
function RI(a){var b=null;a.f.ha&&Dl(a.B(),a.f.ha)&&(Gl(a.B(),a.f.ha),b=a.f.ha);for(var c=SI(a),d=x.InlineTextBlock.wrapLimits.length,e=0,g=0,h=0,k=[],p=1,w,v="",C={},G=!1,J=250;J--;){c.innerHTML+="M ";g=parseInt(c.offsetHeight,10);h=a.B().offsetHeight;0===e&&(e=g);if(!l(C[p])||l(C[p-1])&&C[p]<C[p-1])C[p]=g,k.push(h);e*p<g&&(w=p-1,l(x.InlineTextBlock.wrapLimits[w])&&(v&&Gl(a.B(),v),v=x.InlineTextBlock.fontSizePrefix+x.InlineTextBlock.wrapLimits[w],El(a.B(),v),p++));if(g>e*d){if(G)break;G=!0}}v&&Gl(a.B(),
v);u(k,function(a){a!==h&&(this.zf=!1)},a);a.zf&&(a.qd=h);a.W=C;sp(c);null!=b&&El(a.B(),b)}function TI(a,b){a.f.ha&&Dl(a.B(),a.f.ha)&&Gl(a.B(),a.f.ha);if(100>b){var c=x.InlineTextBlock.fontSizePrefix+b;El(a.B(),c);a.f.ha=c}else a.f.ha=""}
function JI(a){var b;b=(b=UH(a.f))?(b=b.replace(x.InlineTextBlock.fontSizePrefix,""))?parseInt(b,10):null:null;if(null!==b&&null!==LI(a)){a.yf=b;var c=x.InlineTextBlock.wrapLimits.length;if(b<x.InlineTextBlock.wrapLimits[c-1])a.F=c;else for(var d=0;d<c;d++)if(b>=x.InlineTextBlock.wrapLimits[d]){a.F=d+1;break}a.w=parseInt(LI(a).offsetHeight,10)}}f.Nc=function(){II.m.Nc.call(this);this.gc=null;JI(this)};f.Wo=function(){return x.WysiwygBlock.topOffset};function NI(){return x.WysiwygBlock.className};function VI(a,b){II.call(this,a,b)}n(VI,II);function WI(a,b){II.call(this,a,b)}n(WI,VI);WI.prototype.N=function(){var a=WI.m.N.call(this);this.R=null;var b={href:N(this.f,"link")};1===N(this.f,"open_in_new_window")&&(b.target="_blank");return gf(a,{"link.attributes":b})};function XI(a,b){II.call(this,a,b)}n(XI,VI);XI.prototype.Sa=function(){this.Ud||(this.Ud=document.getElementById(this.f.C()+"_container"));return this.Ud};XI.prototype.N=function(){var a=XI.m.N.call(this),b=this.f.getData(),b=po(b.file.src,"filesystem_files");return gf(a,{"link.attributes":{href:b}})};function YI(a,b){II.call(this,a,b);this.R=this.o=this.kb=null}n(YI,VI);YI.prototype.N=function(){var a={type:"submit",name:"send",value:this.f.Fb,readonly:!0};return gf(YI.m.N.call(this),{"submit.attributes":a})};YI.prototype.Nc=function(){YI.m.Nc.call(this);this.R=this.o=this.kb=null};function ZI(a){a.kb||(a.kb=a.B().getElementsByTagName("button")[0]);return a.kb}
function $I(a){var b=LI(a),c=a.B();a.R=b.cloneNode(!0);a.o=mp("div");a.R.removeAttribute("id");a.R.style.visibility="hidden";var d=a.B(),e=ZI(a);S.setStyle(a.o,{position:"absolute",display:S.getComputedStyle(e,"display"),paddingLeft:S.getComputedStyle(e,"paddingLeft"),paddingRight:S.getComputedStyle(e,"paddingRight"),background:"transparent"});d.style.position="relative";d=S.Le(e,d);e=S.oa(e);S.setPosition(a.o,d);S.setSize(a.o,e);e=LI(a);d=S.oa(ZI(a));S.setStyle(e,{display:S.getComputedStyle(e,"display"),
verticalAlign:S.getComputedStyle(e,"verticalAlign"),padding:aJ(a,e,"padding"),margin:aJ(a,e,"margin"),color:S.getComputedStyle(e,"color"),background:"transparent",lineHeight:d.height+"px"});rp(a.R,b);a.o.appendChild(b);c.appendChild(a.o)}
function bJ(a){if(a.R&&a.o){var b=LI(a).innerHTML;a.R.innerHTML=b.replace(/ /g,"&nbsp;");b=S.oa(ZI(a));b.width+=10;var c=S.getPosition(ZI(a));S.setSize(a.o,b);S.setPosition(a.o,c);a.o.style.paddingLeft=S.getComputedStyle(ZI(a),"paddingLeft");a.o.style.paddingRight=S.getComputedStyle(ZI(a),"paddingRight")}}function aJ(a,b,c){var d=[];z(Ta,function(a){d.push(S.getComputedStyle(b,c+lh(a)))},a);return d.join(" ")};function cJ(a,b){II.call(this,a,b)}n(cJ,VI);function dJ(a,b){II.call(this,a,b);this.f.observe("onRefUpdate",this.gd,this)}n(dJ,cJ);dJ.prototype.da=function(){var a=this;this.hk(function(){a.gc=null;eJ()&&(a.wi(),a.Be())},null,this,this.f.Yt)};dJ.prototype.Hb=function(a){var b=this.N();return gf(b,{text:a.value})};function fJ(a){var b="";a.B()&&("DATE_TIME"==bI(a.f)?b=a.B().innerText:b=a.Og().innerHTML);return b.trim()};function gJ(a,b){dJ.call(this,a,b)}n(gJ,dJ);gJ.prototype.Hb=function(a){var b="wnd-touchwysiwyg";a=a.value;this.f.wh&&"listing_items.name"===N(this.f,"refDataKey")&&(a=a.replace(RegExp("<(?!/?(b|strong|i|em)( .*?>|>)).*?>","g"),""),b="wnd-wswplaceholder");"DATE_TIME"==bI(this.f)&&(b="");var c=this.N();return gf(c,{"wysiwygElement.class":b,text:a})};function hJ(a,b){II.call(this,a,b);this.R=null}n(hJ,VI);f=hJ.prototype;f.N=function(){var a=this.f.getData(),b,c=!1,d={};null!=a.image&&l(a.image.src)?(b=!0,c=qo(a.image.src),d={id:this.f.C()+"_img"},c?d.type="image/svg+xml":this.Ef=!1,this.f.nf(Ev(iJ(this),this.Oa())),d.src=this.f.Ke()):this.Ef=!0;a=hJ.m.N.call(this);return gf(a,{"img.attributes":d,"link.attributes":{href:Yf(this.f.qh)},showLink:!t.page.isHomepage,showText:!0,showImage:b&&!c,showEmbed:b&&c,embedScript:""})};
f.Oa=function(){this.o||(this.o=document.getElementById(this.f.C()+"_img"));return this.o};f.Lg=function(){if(!this.kb||!this.o){var a=this.Oa();this.kb=a?a.parentNode:null}return this.kb};f.Nm=function(a){var b=this.Lg();b&&S.setStyle(b,"position",a)};f.Nc=function(){this.kb=this.o=null;hJ.m.Nc.call(this)};function iJ(a){a.R||(a.R=new Dv);return a.R}f.Pe=function(){this.f.nf(Ev(iJ(this),this.Oa()));iJ(this).Pe(this.f.Ke(),this.Oa())&&(this.o=null)};
f.mf=function(a){var b=this.Oa();b&&(bq||aq)&&(b.style.visibility=a?"":"hidden")};function jJ(a,b){u(["text","icon"],function(a){if(b[a]!==fI(this.f,a)){var d=fI(this.f,a);d&&Gl(this.B(),d);b[a]&&El(this.B(),b[a])}},a)};function kJ(a,b){II.call(this,a,b);this.ea=this.o=null}n(kJ,cJ);kJ.prototype.N=function(){var a={name:this.f.vl,value:this.f.getId(),id:"option-"+this.f.getId(),disabled:t.isCms};this.o&&(a.type=this.o);var b={"for":"option-"+this.f.getId()};return gf(kJ.m.N.call(this),{"label.attributes":b,"input.attributes":a})};function lJ(a,b){kJ.call(this,a,b);this.o="checkbox"}n(lJ,kJ);lJ.prototype.N=function(){var a={name:this.f.vl+"[]","data-required":this.f.Xd()};return gf(lJ.m.N.call(this),{"input.attributes":a})};function mJ(a,b){kJ.call(this,a,b);this.o="radio"}n(mJ,kJ);mJ.prototype.N=function(){var a={required:this.f.Xd()};return gf(mJ.m.N.call(this),{"input.attributes":a})};function nJ(a,b){II.call(this,a,b)}n(nJ,cJ);function oJ(a,b){II.call(this,a,b)}n(oJ,VI);oJ.prototype.N=function(){var a=oJ.m.N.call(this);return gf(a,{variant:this.f.Tc()})};function pJ(a,b){II.call(this,a,b)}n(pJ,II);function qJ(a,b){my.call(this,a,b);this.pe=!1;this.$b=!0}n(qJ,my);f=qJ.prototype;f.Yk=null;f.Nf=function(){if(null!=this.c)throw Error('Popup "'+this.f.C()+'" already exists.');this.c=ip("div",{id:this.f.C(),"class":x.ContentResizeStripe.className,style:"z-index: "+x.ContentResizeStripe.zIndex});this.Yk=ip("div",{"class":x.ContentResizeStripe.borderClassName});this.c.appendChild(this.Yk);Ex().appendChild(this.c)};
f.show=function(){if(this.B()&&!this.w){var a=0,b=x.ContentResizeStripe.fadeInTime;this.o&&1==this.o.nc&&(pw(this.o),a=this.o.h);this.w=!0;this.o=new yw(this.B(),a,1,b);this.o.play();this.Yk.style.visibility="visible"}};f.hide=function(){if(this.B()&&this.w){var a=1,b=x.ContentResizeStripe.fadeOutTime;this.o&&1==this.o.nc&&(pw(this.o),a=this.o.h);this.w=!1;this.o=new yw(this.B(),a,0,b);this.o.play()}};f.da=function(){};function rJ(a,b,c){tz.call(this,a,b,c);"undefined"==typeof this.f.G&&(this.f.G=c);this.T=m(this.Qy,this);this.F=m(this.Py,this);this.S=m(this.Oy,this);this.I=m(this.Ny,this);this.D=m(this.My,this);this.V=new Oz;this.V.T=!1;this.g={va:null,step:0};this.w=!1}n(rJ,tz);f=rJ.prototype;f.Ha=function(){return this.f.active};f.init=function(){this.f.G.Ib?(this.Ha()||this.create(),sJ(this)):this.remove()};f.di=function(a){this.w=a};
f.O=function(){rJ.m.O.call(this);this.c.H(this.B(),"mouseover",this.T);this.c.H(this.B(),gq,this.F)};
f.Qy=function(){if(null!=Qz)this.view.c.style.cursor="default";else{this.view.c.style.cursor="";var a=!0,b=tJ(this.f.G,!0),c;!1===!this.f.G.Ib&&(c=tJ(this.f.G.Ib,!0));var d=fH(),e;for(e in d){var g=d[e],h=!1,k=!1,p=null;u(b,function(a){g.C()===a.C()&&(p=this.f.G.C(),h=!0)},this);!h&&c&&u(c,function(a){g.C()===a.C()&&(p=this.f.G.Ib.C(),k=!0)},this);if(p&&(a=!uJ(this,p,vJ(g),h,k),!a))break}a&&this.view.show();xH.j().h()}};
function uJ(a,b,c,d,e){var g=!1;if(b!==c.C()){if(d&&!c.Ib||e&&!c.jb)g=uJ(a,b,vJ(c),d,e)}else g=d||e;return g}function vJ(a){for(a=a.Z;!wJ(a);)a=a.Z;return a}f.Py=function(a){if((a=document.elementFromPoint(a.clientX,a.clientY))&&Dl(a,"wnd-resize-stripe-border")||a==this.B())return!1;this.w||this.view.hide();return!0};f.Ny=function(){var a=fH(),b;for(b in a)a[b].sb();rH(Jg.j())&&(this.di(!0),this.view.show());xJ("HorizontalResize").show();this.Za()};
f.My=function(){this.di(!1);xJ("HorizontalResize").hide();this.view.hide();sJ(this);this.O();this.g={va:null,step:0};var a=this.f.G,b=new H("contentChange",a);a.ca(b);b=new H("contentChange",a);b.h="children_propagation";a.ca(b);b=new H("columnResize",a);b.h="children_propagation";a.ca(b)};
f.Oy=function(){if(rH(Jg.j())){var a=this.V.Xc(),b=Math.floor(a.Qa.difference/x.ContentResizeStripe.minDifference);null===this.g.va||this.g.va===a.Qa.va&&this.g.step===b?(this.g.va=a.Qa.va,this.g.step=b,null===this.g.va&&(a=this.f.G,a.yg=yJ(a))):(this.g.va=a.Qa.va,this.g.step=b,zJ(this.f.G,a.Qa.va,b),sJ(this))}};
f.create=function(){this.f.active=!0;this.view.render();this.O();Sz(this.V,this.f.G.bb());this.V.Ka(this.B());this.V.observe("onDragstart",this.I,this);this.V.observe("onDragend",this.D,this);this.V.observe("onMouseMove",this.S,this);this.V.init()};f.remove=function(){this.B()&&(this.f.active=!1,this.dispose())};f.getBounds=function(){return this.f.bounds};function AJ(a){if(!a.l)for(var b=tJ(a.f.G,!0),c=b.length,d,e=0;e<c;e++)if(d=b[e],nm(d)){a.l=d.bc();break}return a.l}
function sJ(a){var b=S.Le(a.view.f.G.B(),Ex()),c,d=a.view,e=S.getPosition(d.f.G.B());c=S.oa(d.f.G.B());d=S.oa(d.f.G.getParent().B());c=new pm(e.x,e.y,c.width,d.height);var d=S.bc(a.view.f.G.B()),g=S.getPosition(a.view.f.G.Ib.B()),h=S.bc(a.view.f.G.Ib.B()),e=AJ(a)?AJ(a).right:0,k=AJ(a)?AJ(a).left:0,e=c.width-d.right-e,g=g.x-h.left+k-(c.left+e);g<x.ContentResizeStripe.width&&(g=x.ContentResizeStripe.width,e=c.width-(d.right+g)/2);d=c.height;a.f.zC=new pm(b.x+e,b.y,g,d);a.f.bounds=new pm(c.left+e,c.top,
g,d);c=a.view;d=new De(g,d);S.setPosition(c.c,new T(b.x+e,b.y));S.setSize(c.c,d);S.aa(a.B(),!0)}I.j().register("wnd.pc.ContentResizeStripe",mk,qJ,rJ);function BJ(a,b,c){tz.call(this,a,b,c)}n(BJ,yA);BJ.prototype.tj=function(){return x.ContainerDropStripe.DDBoxHorizMaxInnerPos};I.j().register("wnd.pc.ContainerDropStripe",mm,mz,BJ);function CJ(a,b){Ky.call(this,a,b)}n(CJ,Ky);CJ.prototype.da=function(){CJ.m.da.call(this);var a=P(this.f,"parentContainer");if(!0===(null!=P(this.f,"limitingBlock"))&&!0===(null!=a)){var a=DJ(a),b=this.w,c=b.top,d=b.right,e=b.bottom,b=b.left;"x"===a?b=d=-1:"y"===a&&(e=c=-1);this.w=new Ym(c,d,e,b)}};function EJ(a,b,c){tz.call(this,a,b,c)}n(EJ,Nz);I.j().register("wnd.pc.DragDropContainerPlaceholder",M,CJ,EJ);function FJ(a){IA.call(this,null,m(a.bs,a),Ex())}n(FJ,IA);FJ.prototype.So=function(){return"wnd.pc.DragDropContainerPlaceholder"};FJ.prototype.Ui=function(){};FJ.prototype.Wi=function(a,b){var c=!1,d=b.sc;d instanceof tH&&(d=d.Da());d&&(c=a.kd().id,c=I.j().get(c),c=d.Z.C()!==c.Z.C());return c};
FJ.prototype.Vn=function(){var a,b=null,c,d={x:[],y:[]},e;for(e in this.g)c=this.g[e],c.Od()&&(a=10*Math.round(zA(c).x/10),c=10*Math.round(zA(c).y/10),b||(b={x:{},y:{}}),b.x[a.toString()]||(b.x[a.toString()]=[]),b.y[c.toString()]||(b.y[c.toString()]=[]),b.x[a.toString()].push(e),b.y[c.toString()].push(e),yh(d.x,a),yh(d.y,c));b&&(b.order=QA(d));if(a=b){var g,h,b=a.y;a=a.order.y;for(d=0;d<a.length;d++){h=a[d];e=[];c=null;for(var k=0,p=0;p<b[h].length;p++)g=b[h][p],e.push(g),g=this.g[g],k<Z(g).height&&
(c=g,k=Z(g).height);for(h=0;h<e.length;h++)g=this.g[e[h]],Z(g).height!==k&&(p=c,g.f.M.y=Z(p).top+Z(p).height,g.f.h.height=Z(p).height)}}};function GJ(a,b){vB.call(this,a,b);this.h={"class":"wnd-listing-add-item"}}n(GJ,vB);function HJ(a,b,c){Gz.call(this,a,b,c);this.D=this.g=null}n(HJ,Gz);f=HJ.prototype;
f.fa=function(){this.D=this.L(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Go to page after login",css:"wnd-form-submit-radio-set"}});var a=N(this.f,"action");this.g=this.L(this.C()+"_redirect","wnd.ui.LinkFormItem",null,{properties:{id:eC(this),name:"target",defaultValue:a.target,required:!1,placeholder:"Select page",initRenderFlag:!0,canWrite:!0,validateContinuous:!0,canBeEmpty:!0,dataSettings:{filter:[{prefix:"",key:"gui_pages.sys_page",operator:"=",value:0,
suffix:""}]}}});this.g.observe("onChangeState",m(this.Ty,this),this)};f.Ty=function(a,b){this.D.setState(b)};f.Gk=function(a){return N(this.f,"action")[a.getName()]};f.yc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&HJ.m.yc.call(this,a)};f.ra=function(){var a=this.Fc();if(!1===IJ(this))return this.g.setState(Oy),!1;var b=bf(this.f.getData());b.action=a;this.f.ra(!0,b);return!0};
function IJ(a){var b=a.g.jd().trim(),c=a.g.getValue().trim(),c=Rg(b)||r.ValidatorRegex.isLink.onlyUrl.test(c);!1===c&&(c=Re(a.g.mc(),function(a){return a==b},a));return c}I.j().register("wnd.pc.EditDefaultPageForm",ok,vB,HJ);function JJ(a,b,c){Gz.call(this,a,b,c)}n(JJ,Gz);JJ.prototype.fa=function(){var a="Notify me about new registrations:";null!=P(this.f,"legend")&&(a=P(this.f,"legend"));this.L(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:a,css:"wnd-form-select-options-set"}}).L(this.C()+"_email-notification","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),name:"email",defaultValue:N(this.f,"email"),validateType:"validateEmail",validateContinuous:!0,initRenderFlag:!0,required:!0}})};
JJ.prototype.yc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&JJ.m.yc.call(this,a)};I.j().register("wnd.pc.EditEmailNotificationForm",pk,vB,JJ);function KJ(a,b,c){Gz.call(this,a,b,c)}n(KJ,Gz);KJ.prototype.fa=function(){var a=this.L(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Properties",css:"wnd-form-fieldset"}}),b=N(this.f,"required")&1;a.L(this.C()+"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Required field",name:"required",defaultValue:b,initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}})};
KJ.prototype.yc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&KJ.m.yc.call(this,a)};I.j().register("wnd.pc.EditFieldSettingsForm",qk,vB,KJ);function LJ(a,b,c){Gz.call(this,a,b,c);this.I=this.D=this.g=null}n(LJ,Gz);f=LJ.prototype;
f.fa=function(){this.I=this.L(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"After form submission:",css:"wnd-form-submit-radio-set"}});MJ(this,this.I,NJ,"Show message").observe("onChange",m(this.Dp,this,[{mvcId:this.C()+"_message",show:!0},{mvcId:this.C()+"_redirect",show:!1}]),this);MJ(this,this.I,OJ,"Go to page").observe("onChange",m(this.Dp,this,[{mvcId:this.C()+"_message",show:!1},{mvcId:this.C()+"_redirect",show:!0}]),this);var a=N(this.f,"action");this.D=
this.L(this.C()+"_message","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),name:"message",required:!1,defaultValue:a.message,initRenderFlag:!0,display:m(this.nn,this,NJ)}});this.g=this.L(this.C()+"_redirect","wnd.ui.LinkFormItem",null,{properties:{id:eC(this),name:"target",defaultValue:a.target,required:!1,placeholder:"Select page",initRenderFlag:!0,canWrite:!0,validateContinuous:!0,display:m(this.nn,this,OJ)}});this.g.observe("onChangeState",m(this.Uy,this),this)};
function MJ(a,b,c,d){return b.L(a.C()+"_type_"+c,"wnd.ui.RadioButtonFormItem",null,{properties:{id:eC(a),name:"type",checked:m(a.nn,a,c),defaultValue:c,label:d,initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}})}f.Dp=function(a){u(a,function(a){this.nk(a.mvcId,a.show)},this);iG(this.getParent());a=this.Fc();if(a.type==NJ){var b=this.D.getValue().trim();!1===Rg(b)&&this.ra()}a.type==OJ&&PJ(this)&&this.ra()};f.Uy=function(a,b){this.I.setState(b)};f.Gk=function(a){return N(this.f,"action")[a.getName()]};
f.yc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&LJ.m.yc.call(this,a)};f.ra=function(){var a=this.Fc();if(a.type==NJ){var b=this.D.getValue().trim();if(Rg(b))return this.D.setState(Oy),!1}else if(a.type==OJ){if(!1===PJ(this))return this.g.setState(Oy),!1}else return!1;b=bf(this.f.getData());b.action=a;this.f.ra(!0,b);return!0};
function PJ(a){var b=a.g.jd().trim(),c=a.g.getValue().trim(),c=!Rg(b)&&r.ValidatorRegex.isLink.urlMailPhone.test(c);!1===c&&(c=Re(a.g.mc(),function(a){return a==b},a));return c}f.nn=function(a){return N(this.f,"action").type==a};I.j().register("wnd.pc.EditFormActionForm",rk,vB,LJ);function QJ(a,b){vB.call(this,a,b)}n(QJ,vB);function RJ(a,b,c){Gz.call(this,a,b,c)}n(RJ,Gz);RJ.prototype.fa=function(){this.g=this.L(this.C()+"LongTextFormItem","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),label:"Enter your HTML code:",name:"htmlCode",defaultValue:N(this.f,"htmlCode"),required:!0,initRenderFlag:!0}});this.g.focus(!0)};
RJ.prototype.Yc=function(){RJ.m.Yc.call(this);var a=this.g.getValue(),a=String(a).replace(/<noscript>/g,"<div>\x3c!-- NOSCRIPT_START --\x3e"),a=String(a).replace(/<\/noscript>/g,"\x3c!-- NOSCRIPT_END --\x3e</div>"),b=document.createElement("div");b.innerHTML=a;a=b.innerHTML;a=String(a).replace(/<div>\x3c!-- NOSCRIPT_START --\x3e/g,"<noscript>");a=String(a).replace(/\x3c!-- NOSCRIPT_END --\x3e<\/div>/g,"</noscript>");this.g.jc("value",a);return this.w};I.j().register("wnd.pc.EditHtmlForm",yo,QJ,RJ);function SJ(a,b){vB.call(this,a,b);this.h={"class":"wnd-right-box"}}n(SJ,vB);function TJ(a,b,c){Gz.call(this,a,b,c)}n(TJ,Gz);
TJ.prototype.fa=function(){this.L(this.C()+"_description","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Description",name:"description",defaultValue:N(this.f,"description"),initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:65535}}});var a=this.L(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Link to:",css:"wnd-form-radio-set"}}),b=this.C()+"_link";a.L(this.C()+"_nolink","wnd.ui.RadioButtonFormItem",null,{properties:{id:eC(this),
name:"variant",checked:m(this.g,this,"default"),defaultValue:"default",label:"None",initRenderFlag:!0}}).observe("onChange",m(this.nk,this,b,!1),this);a.L(this.C()+"_lightbox","wnd.ui.RadioButtonFormItem",null,{properties:{id:eC(this),name:"variant",checked:m(this.g,this,"lightbox"),defaultValue:"lightbox",label:"Original image",initRenderFlag:!0}}).observe("onChange",m(this.nk,this,b,!1),this);a.L(this.C()+"_url","wnd.ui.RadioButtonFormItem",null,{properties:{id:eC(this),name:"variant",checked:m(this.g,
this,"link"),defaultValue:"link",label:"Website address",initRenderFlag:!0}}).observe("onChange",m(this.nk,this,b,!0),this);a.L(b,"wnd.ui.LinkFormItem",null,{properties:{id:eC(this),name:"link",initRenderFlag:!0,label:"Website address",hideLabel:!0,display:m(this.g,this,"link"),defaultValue:N(this.f,"link"),placeholder:"e.g. www.google.com",required:!0,canWrite:!0,validateContinuous:!0,extendCssClass:"wnd-url-between-radio"}})};
TJ.prototype.g=function(a){return N(this.f,"variant")==a||"default"==a&&!l(N(this.f,"variant"))};I.j().register("wnd.pc.EditImageForm",sk,SJ,TJ);function UJ(a,b,c){Gz.call(this,a,b,c);this.D=null}n(UJ,Gz);f=UJ.prototype;f.pa=function(a){UJ.m.pa.call(this,a);!0===P(this.f,"isNew")&&window.setTimeout(m(function(){aq||this.g.focus();this.g.close()},this),500)};
f.fa=function(){this.g=this.L(this.C()+"LinkFormItem","wnd.ui.LinkFormItem",null,{properties:{id:eC(this),label:!0===P(this.f,"isNew")?"Choose page or insert website address":"Link to:",name:"link",defaultValue:N(this.f,"link"),required:!0,initRenderFlag:!0,placeholder:"e.g. www.google.com",canWrite:!0,validateContinuous:!0,canBeEmpty:P(this.f,"canBeEmpty")}});this.D=this.L(this.C()+"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Open in a new window",name:"open_in_new_window",
defaultValue:N(this.f,"open_in_new_window"),initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}});this.g.observe("onKeyEvent",this.$y,this)};f.Fc=function(){var a=UJ.m.Fc.call(this);if(P(this.f,"isNew"))if(this.g.ke())a.code=this.g.ke();else{if(this.g.Hf){var b=vA(this.g);b.indexOf("/")===b.lastIndexOf("/")&&b.indexOf("/")===b.length-1&&(b=b.substr(0,b.indexOf("/")));a.code=b}}else(Ng(I.j(),this.f.getId())?I.j().get(this.f.getId()):null)instanceof VJ&&""===this.g.jd()&&(a={link:""});return a};
f.$y=function(){r.ValidatorRegex.isLink.onlyUrl.test(this.g.getValue())&&!this.D.Cd()?this.D.Rd(!0):!this.g.getValue()&&this.D.Cd()&&this.D.Rd(!1)};f.yc=function(a){a.stopPropagation();a.preventDefault();this.getParent()instanceof WJ?this.getParent().mb():this.ra()&&UJ.m.yc.call(this,a)};
f.ra=function(a){var b=this.g.jd().trim(),c=this.g.getValue().trim(),d=!Rg(b)&&r.ValidatorRegex.isLink.urlMailPhone.test(c);!d&&Rg(b)&&null!=P(this.f,"canBeEmpty")&&P(this.f,"canBeEmpty")&&(d=!0);!1===d&&Re(this.g.mc(),function(a){return a.trim()==b?d=!0:!1},this);!1===d?this.g.setState(Oy):d=UJ.m.ra.call(this,a);return d};I.j().register("wnd.pc.EditLinkForm",tk,vB,UJ);function XJ(a,b){vB.call(this,a,b)}n(XJ,vB);function YJ(a,b,c){Gz.call(this,a,b,c)}n(YJ,Gz);f=YJ.prototype;f.fa=function(){this.g=this.L(this.C()+"ShortFormItem","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Enter your address:",name:"address",defaultValue:this.f.yf(),required:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},hint:"e.g. 707 Murray St, New York, NY 10282"}});this.g.focus(!0,!0)};f.yc=function(a){if(dC(this)){var b=Zz(this);ZJ(this,m(b.mb,b))}a.stopPropagation();a.preventDefault()};
f.ra=function(){dC(this)&&ZJ(this,m(this.Xe,this));return!1};function ZJ(a,b){var c=a.g.getValue();Ok("https://maps.googleapis.com/maps/api/geocode/json?address="+c,m(a.qs,a,b))}f.qs=function(a,b){var c=b.target,d=!0;Qw(c)&&(c=Rk(c),d=oa(c)&&c.hasOwnProperty("status")&&"ZERO_RESULTS"!==c.status);d?a():(this.g.setState(Oy),this.g.focus())};f.show=function(){YJ.m.show.call(this);this.g.focus(!0,!0)};I.j().register("wnd.pc.EditMapForm",uk,XJ,YJ);function $J(a,b){vB.call(this,a,b)}n($J,vB);function aK(a,b,c){Gz.call(this,a,b,c);this.g=null}n(aK,Gz);aK.prototype.fa=function(){this.g=this.L(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Options",css:"wnd-form-select-options-set"}});this.g.L(this.C()+"_items","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),name:"items",required:!0,defaultValue:bK(this),initRenderFlag:!0}});var a=this.view;a.o=Tr(Rs);a.B().appendChild(a.o)};
function bK(a){a=N(a.f,"items");!1===ia(a)&&(a=[]);return a.join("\n").trim()}aK.prototype.Gk=function(){return bK(this)};aK.prototype.Xe=function(){var a=bf(this.f.getData());a.items=[];var b=this.Fc(),c=[];l(b.items)&&ka(b.items)&&(c=b.items.trim().split("\n"));u(c,function(b){!1===Rg(b.trim())&&a.items.push(b.trim())},this);this.f.ra(!0,a)};I.j().register("wnd.pc.EditSelectboxFieldOptionsForm",vk,$J,aK);function cK(a,b){vB.call(this,a,b)}n(cK,vB);function dK(a,b,c){Gz.call(this,a,b,c);this.D=this.g=null}n(dK,Gz);f=dK.prototype;f.fa=function(){this.D=this.L(this.C()+"ShortTextFormItem","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Enter your Youtube or Vimeo link:",name:"originalUrl",defaultValue:Ao(this.f),placeholder:"e.g. https://www.youtube.com/watch?v=bLXsPGAyYC0",required:!0,initRenderFlag:!0,validateType:"validateVideo",css:"wnd-video-edit"}});this.D.focus(!0,!0)};
f.show=function(){dK.m.show.call(this);this.D.focus(!0,!0)};f.yc=function(a){a.stopPropagation();a.preventDefault();this.getParent()instanceof eK?this.getParent().mb():this.ra()&&dK.m.yc.call(this,a)};f.Xe=function(){fK(this,m(this.Px,this))};f.Px=function(a){this.fb=a;this.f.ra(!0,a)};
function fK(a,b){var c=a.Fc();new Xk;var d=c.originalUrl,e=Tk(d.trim()),g=null;switch(e.g){case "www.youtube.com":case "youtube.com":case "youtu.be":g=new Uk(e);break;case "www.vimeo.com":case "vimeo.com":g=new Nk(e);break;default:throw new Ia("Video from url "+d+" is not supported");}a.g=g;a.g.h?a.g.observe("onDataReady",m(a.Mp,a,c,b),a):a.Mp(c,b)}f.Mp=function(a,b){var c=gf(a,this.g.getData());b(c)};f.vk=function(a){"my_videos"===this.K()?a.jc("value",""):dK.m.vk.call(this,a)};
I.j().register("wnd.pc.EditVideoForm",zo,cK,dK);function gK(a,b){vB.call(this,a,b)}n(gK,vB);function hK(a,b,c){Gz.call(this,a,b,c);this.g=null}n(hK,Gz);f=hK.prototype;f.fa=function(){this.g=this.L(this.C()+"_description","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Description",name:"description",placeholder:"Enter text...",defaultValue:N(this.f,"description"),initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:65535}}})};f.O=function(){hK.m.O.call(this);this.c.H(this.bb(),U,m(this.gz,this))};f.gz=function(a){a.stopPropagation()};
f.pi=function(){hK.m.pi.call(this);this.g.focus(!0)};f.Ci=function(){hK.m.Ci.call(this);this.getParent().ac().hide()};I.j().register("wnd.pc.GalleryImageEditForm",wk,gK,hK);function iK(a,b,c){Gz.call(this,a,b,c);O(this.f,"extendCssClass","wnd-right-box")}n(iK,Gz);
iK.prototype.fa=function(){this.L(this.C()+"_form_text","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),name:"title",label:"Description",placeholder:"Enter text...",defaultValue:N(this.f,"title"),initRenderFlag:!0}});this.L(this.C()+"_form_link","wnd.ui.ShortTextFormItem",null,{create:{data:{value:N(this.f,"link")}},properties:{id:eC(this),name:"link",label:"Website address",placeholder:"e.g. www.facebook.com",defaultValue:N(this.f,"link"),required:!0,initRenderFlag:!0,validateType:"validateUri",
validateArgs:{max:255}}})};iK.prototype.Xe=function(){var a=this.Fc();!0===(null!=a.link)&&-1===a.link.indexOf("http")&&0!==a.link.indexOf("/")&&(a.link="http://"+a.link);Yi(this.f,a)};I.j().register("wnd.pc.SocialIconsEditForm",xk,vB,iK);function jK(a,b,c){Gz.call(this,a,b,c);this.D=this.g=null}n(jK,Gz);jK.prototype.fa=function(){var a=kK(this),b=!1,c=0;a&&(b=a.c,c=a.h);this.g=this.L(this.C()+"_sound","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Sound",name:"sound",defaultValue:b,initRenderFlag:!0,extendCssClass:"wnd-switch"}});this.D=this.L(this.C()+"_start_at","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Start video from",name:"start",defaultValue:lK(c),placeholder:lK(0),initRenderFlag:!0,extendCssClass:"wnd-video-start-at"}})};
function kK(a){a=Zz(a).h.wd();return(new YD).Sd(a).si}jK.prototype.Xe=function(a){var b=a||this.Fc();a=b.sound;var c;if(l(b.start))a:{c=0;for(var b=b.start.split(":").reverse(),d=b.length,e=0;e<d;e++){var g=Math.pow(60,e),h=parseInt(b[e],10),h=ma(h)?Math.abs(h):0;if(60>h)c+=h*g;else{c=0;break a}}}else c=0;a=new ii(a,c);this.notify("onChangeSettings",a)};jK.prototype.Ci=function(){};
jK.prototype.Bc=function(){var a=kK(this),b=!1,c=0;a&&(b=a.c,c=a.h);this.g&&this.g.jc("value",b);this.D&&this.D.jc("value",lK(c))};function lK(a){a=new Bl(0,0,0,0,0,a);var b="",c=a.getMinutes();a.getHours()&&(b=a.getHours()+":",c=hh(c,2));return b+=c+":"+hh(a.getSeconds(),2)}I.j().register("wnd.pc.VideoSettingsForm",Oj,vB,jK);function mK(a,b,c){Gz.call(this,a,b,c);this.g=this.D=null}n(mK,Gz);f=mK.prototype;f.pa=function(a){mK.m.pa.call(this,a);window.setTimeout(m(function(){aq||this.g.focus();this.g.close()},this),500)};
f.fa=function(){var a;null!=P(this.f,"attributes")&&null!=P(this.f,"attributes").href&&(a=P(this.f,"attributes").href);this.g=this.L(this.ba()+"name","wnd.ui.LinkFormItem",null,{properties:{id:eC(this),label:"Link to:",name:"href",defaultValue:a,placeholder:"e.g. www.google.com",required:!0,initRenderFlag:!0,canWrite:!0,validateContinuous:!0,canBeEmpty:!0}});a=0;null!=P(this.f,"attributes")&&null!=P(this.f,"attributes").target&&(a="_blank"==P(this.f,"attributes").target?1:0);this.D=this.L(this.C()+
"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Open in a new window",name:"target",defaultValue:a,initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}});this.g.observe("processUpdate",this.Bw,this);this.g.observe("onKeyEvent",this.Wz,this)};f.Bw=function(){Zz(this).mb()};f.Wz=function(){r.ValidatorRegex.isLink.onlyUrl.test(this.g.getValue())&&!this.D.Cd()?this.D.Rd(!0):!this.g.getValue()&&this.D.Cd()&&this.D.Rd(!1)};
f.Fc=function(){var a=mK.m.Fc.call(this);Rg(this.g.jd())&&(a={link:""});return a};I.j().register("wnd.pc.WysiwygLinkForm",Oj,vB,mK);function nK(a,b){my.call(this,a,b)}n(nK,my);nK.prototype.da=function(){this.c=Um(this.f.getId())};nK.prototype.getBounds=function(){return S.getBounds(this.B())};function oK(a,b,c){tz.call(this,a,b,c);this.g=!0;this.l=[]}n(oK,tz);oK.prototype.pa=function(a){oK.m.pa.call(this,a);this.B()||(this.g=!1);this.g&&pK(this)};function pK(a){var b=a.view.getBounds(),c=kr.j();c.Ka(b,"sectionToolbox","mouseover",m(a.I,a),0,!1);c.Ka(b,"sectionToolbox",gq,m(a.w,a),0,!1)}
oK.prototype.I=function(){if(!$f.j().Ra(qK(this))&&$f.j().show(qK(this),this.l,!1)){var a=$f.j().get(qK(this)),b=this.view.getBounds(),c=a.getBounds();b.top=b.height<=3*c.height?b.top+(b.height/2-c.height/2):b.top+x.Section.topOffset;a.f.rd=b;iG(a)}};oK.prototype.w=function(){$f.j().hide(qK(this))};function qK(a){return a.C()+"_toolbox"}oK.prototype.ma=function(a){oK.m.ma.call(this,a);"contentChangeFinished"===a.getType()&&"children_propagation"===a.h&&pK(this)};function rK(a,b){my.call(this,a,b)}n(rK,my);rK.prototype.da=function(){};function sK(a){var b=S.getBounds(a.B());a.Nd()&&(a=S.Zb(document),b.top-=a.y,b.left-=a.x);return b.round()}rK.prototype.xi=function(){};function tK(a,b){my.call(this,a,b)}n(tK,rK);f=tK.prototype;
f.da=function(){if(null==this.g){var a=this.bb(),b=x.Hover.className,c=ip("div",{"class":b+" left",style:"display:none;"}),d=ip("div",{"class":b+" top",style:"display:none;"}),e=ip("div",{"class":b+" right",style:"display:none;"}),b=ip("div",{"class":b+" bottom",style:"display:none;"}),g=ip("div",{"class":"border"}),h=ip("div",{"class":"border"}),k=ip("div",{"class":"border"}),p=ip("div",{"class":"border"});c.appendChild(g);e.appendChild(h);d.appendChild(k);b.appendChild(p);a.appendChild(c);a.appendChild(e);
a.appendChild(d);a.appendChild(b);this.g={left:c,top:d,right:e,bottom:b,border:{left:g,right:h,top:k,bottom:p}};this.Nn()}};f.getZIndex=function(a,b){return x.Hover.activeZIndex[b]+uK(a)};function vK(a,b){var c,d;for(d in Ta)c=Ta[d],c=a.g[c],b?S.aa(c,!1):c.style.opacity=0}function wK(a,b,c,d){S.setPosition(a.g[b],c);S.setSize(a.g[b],d)}f.Nn=function(){};f.$a=function(a){for(var b in Ta)R(this.g[Ta[b]],"active",a)};
f.xi=function(a){tK.m.xi.call(this,a);R(this.g.top,x.Hover.classNameRemove,a);R(this.g.right,x.Hover.classNameRemove,a);R(this.g.bottom,x.Hover.classNameRemove,a);R(this.g.left,x.Hover.classNameRemove,a)};f.Om=function(a){var b,c;for(c in Ta)b=Ta[c],b=this.g[b],b.style.position=a?"fixed":""};function xK(a,b){my.call(this,a,b)}n(xK,tK);xK.prototype.Nn=function(){this.g.resize={};this.g.resize.left=yK(this.g.left,"left");this.g.resize.right=yK(this.g.right,"right");this.g.resize.bottom=yK(this.g.bottom,"bottom")};function zK(a,b){z(a.g.resize,function(a){S.aa(a,b)},a)}
function yK(a,b){var c=ip("div",{"class":"wnd-resize-box "+b,style:"display:none;","data-wnd_resize_type":b}),d=ip("div",{"class":"wnd-resize-handle"}),e=ip("div",{"class":"wnd-resize-handle-border"});d.appendChild(e);c.appendChild(d);a.appendChild(c);return c}xK.prototype.xi=function(a){xK.m.xi.call(this,a);zK(this,!a)};xK.prototype.$a=function(a){var b;z(Ta,function(c){b=this.g[c];R(b,"active",a);a&&this.f.selected!==a&&(b.style.zIndex=parseInt(b.style.zIndex,10)+x.Hover.zIndexOffset)},this)};function AK(){A.call(this);"undefined"==typeof BK&&(BK=new Ua);this.c=bf(x.PageWysiwyg.editorSettings)}var BK;n(AK,A);var CK="";f=AK.prototype;
f.Wa=function(a,b){var c=bf(this.c);b&&df(c,b);if(CK!=a.getId()){CK&&I.j().get(CK).ra();CK=a.getId();BK.destroy();c.toolbar.spacing={top:a.bc().top,right:a.bc().right,bottom:a.bc().bottom,left:a.bc().left};var d=DK(a);null!=d&&df(c,d);d=EK(this,a);null!=d&&(c.allowedFormats=d);d=FK(this,d);Ye(d)||(c.moduleLocales=d);c.isDisabledScroll=m(function(){return cq},this);a.Z instanceof VJ||(c.customBlocks={basic:{modules:[["Wnd2Delete"]]}});c.useCssTextAlign=!0;c.useCssMargin=!0;c.useCssFontSize=!0;pb(BK,
LI(a.view),c);a.Pd();Kb(BK,["keydown","keyup","keypress","paste","resize"],m(a.Pd,a));Kb(BK,["mouseoverPopup","selectBoxOpen"],m(this.yz,this,a));Kb(BK,["mouseoutPopup","selectBoxClose"],m(this.xz,this));Kb(BK,"onClickGoTo",m(a.Vz,a));Kb(BK,"onClickOutsideToolbar",m(a.sb,a));Kb(BK,"wnd2Delete",m(a.Cs,a));Kb(BK,"moduleLink",m(a.Ns,a,a));Kb(BK,"reActivate",m(a.jp,a))}};
f.getContent=function(){var a=Ib(BK),b="",c=!1;a&&(u(a.querySelectorAll("[data-wnd_text_container]"),function(a){b+=a.innerHTML;c=!0},this),!1===c&&(b=BK.getData()));return b};f.remove=function(a){CK==a.getId()&&(BK.destroy(),CK="",sF()||tr(kr.j()))};f.Ha=function(a){a=LI(a.view);return null!=a&&1==BK.Ha(a)};function DK(a){var b=jv(a,"wysiwygColors");if(null===b||!oa(b))return null;var c={};c.frontColors=[b];a=jv(a,"colorItemsPerRow");null!=a&&(c.colorItemsPerRow=a);return c}
function EK(a,b){for(var c=null,d=b.getParent();d instanceof GK&&null===c;){var e=TG(d),g=null;"microtemplate"==d.ic()&&(g="microTemplate");MH(d)&&(g="section");g&&(c=cv("wysiwyg","allowedFormat",g,e));d=d.getParent()}null===c&&(c=cv("wysiwyg","allowedFormat"));if(c){var h=[];u(x.PageWysiwyg.allowedFormats,function(a){F(c,a)&&h.push(a)},a);c=h}null===c&&(c=x.PageWysiwyg.allowedFormats);return HK(a,c)}function HK(a,b){var c=[];u(b,function(a){c.push(x.PageWysiwyg.replaceTags[a])},a);return c}
function FK(a,b){var c=["Title","Subtitle","Heading"],d={},e=0;u(b,function(a){-1!=a.indexOf("Heading")&&l(c[e])&&(d[a]=c[e],e++)},a);return d}f.qk=function(a){BK.qk(a)};f.Zm=function(){return BK.Zm()};f.yz=function(a){kr.j().pause("addContent",!0);kr.j().pause("sectionToolbox",!0);IK(sH(a))};f.xz=function(){tr(kr.j())};f.Hm=function(a){BK.Hm(a)};function JK(a,b,c){uC.call(this,a,b,c);this.l.Create=m(this.g,this)}n(JK,uC);JK.prototype.g=function(){this.getParent().mb();return!0};I.j().register("wnd.pc.AddListingItemControlBar",Pj,yB,JK);function KK(a,b,c){Gz.call(this,a,b,c);this.I=this.g=null;this.D=!1}n(KK,pC);f=KK.prototype;
f.fa=function(){this.g=this.L(this.ba()+"name","wnd.ui.ShortTextFormItem",null,{create:{data:{value:""}},properties:{id:eC(this),label:"Title",name:Q(this.f,"name"),placeholder:"e.g. What's cooking? Read our latest news!",defaultValue:"",required:!0,hideLabel:!1,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},validateContinuous:!0}});this.g.focus(!0);this.I=this.getParent().L(this.C()+"_control_bar","wnd.pc.AddListingItemControlBar",this.ua(),{properties:{controls:{left:["Cancel"],
right:["Create"]},initRenderFlag:!0}})};f.sd=function(a,b){return!this.D&&KK.m.sd.call(this,a,b)};f.yc=function(a){null!=a&&(a.stopPropagation(),a.preventDefault());this.ra()};f.ra=function(a){if(this.D)return!1;this.D=!0;return KK.m.ra.call(this,a)};f.nh=function(a){a=KK.m.nh.call(this,a);a||(this.D=!1);return a};
f.Xe=function(){this.Aa();this.I.hide();var a=new Date,b=[a.getFullYear(),("0"+(a.getMonth()+1)).substr(-2,2),("0"+a.getDate()).substr(-2,2),("0"+a.getHours()).substr(-2,2),("0"+a.getMinutes()).substr(-2,2),("0"+a.getSeconds()).substr(-2,2)].join(""),a={};a[Q(this.f,"name")]=this.g.getValue();a[Q(this.f,"listing_page_id")]=P(this.f,"listingPageId");a[Q(this.f,"date")]=parseInt(b,10);b=new hi("createNewItem",1);gr(Qh.j(),b);var c=Cg.j().get(this.f.K()),d=m(this.nv,this);Li(c,a,{},d,b)};
f.nv=function(a,b){"success"===a&&"undefined"!==typeof b.id&&this.Ga(b.id);this.D=!1};f.ak=function(){var a=this;this.f.Ea(function(b,c){window.location.href=t.listingsPrefix+c[Q(a.f,"identifier")]+"/"},null,this)};f.Ci=function(){};I.j().register("wnd.pc.AddListingItemForm",nk,GJ,KK);function LK(a,b){yB.call(this,a,b)}n(LK,yB);LK.prototype.N=function(){return{controls:P(this.f,"controls")}};function MK(a,b,c){uC.call(this,a,b,c)}n(MK,uC);MK.prototype.Ii=function(){Zz(this).qb()&&this.notify("onUploadCancel");this.Mk();return!0};I.j().register("wnd.pc.AddPhotoGalleryControlBar",Ck,LK,MK);function NK(a,b){AB.call(this,a,b);this.o=this.xa=null}n(NK,AB);NK.prototype.da=function(){NK.m.da.call(this);this.xa=this.c.querySelector("b.wnd-type-button");this.o=this.c.querySelector("b.wnd-loading.upload")};NK.prototype.Pc=function(a){S.aa(this.o,a)};NK.prototype.N=function(){var a=NK.m.N.call(this);a.Aa=!0;return a};function OK(a,b,c){SB.call(this,a,b,c)}n(OK,zC);f=OK.prototype;f.O=function(){OK.m.O.call(this);null===this.view.xa||this.c.H(this.view.xa,U,m(this.Iy,this))};f.Wf=function(){};f.Iy=function(a){a.stopPropagation();this.notify("onUploadClick")};f.Aa=function(){this.view.Pc(!0)};f.Fa=function(){this.view.Pc(!1)};I.j().register("wnd.pc.AddPhotoIntoGallery",Dk,NK,OK);function PK(a,b){rB.call(this,a,b);this.$b=!0}n(PK,rB);function QK(a,b,c){SB.call(this,a,b,c);O(this.f,"extendCssClass","wnd-popup-content wnd-clearfix")}n(QK,SB);QK.prototype.fa=function(){};I.j().register("wnd.pc.EditImagePopupContent",Ek,PK,QK);function RK(a,b,c){M.call(this,a,b,c)}n(RK,Mj);RK.prototype.dataType="content_items";RK.prototype.jk=function(a){var b=this.getData(),c=bf(b);c.image.id=a.getId();c.image.src=a.ya();c.image.dataType=a.K();c.image.size.width=a.Ma();c.image.size.height=a.getHeight();c.image.id!=b.image.id&&(c.image.ratio={vertical:2,horizontal:2},a={"=imageId":c.image.id,"=dataType":c.image.dataType},b=I.j().get(this.getId()),$k(c,b.ba(),a));Yi(this,c,!0)};
RK.prototype.Mj=function(){var a=N(this,"image").id;return null!=a&&"=imageId"!=a};function SK(a,b){rB.call(this,a,b);this.h={"class":"wnd-left-box"}}n(SK,rB);SK.prototype.da=function(){Qr(this.c,kt,this.N())};
SK.prototype.N=function(){var a=this.f.getData(),b="",c=bf(N(this.f,"image")),d=qo(c.src),b="static_server"==c.dataType&&c.id==Fa.StaticContent.staticImagePlaceholder;this.f.Mj()?(b&&(c.id=Fa.StaticContent.staticImagePlaceholderDetail,c.src=Fa.StaticContent.staticImagePlaceholderDetailPath),b=po(c.src,c.dataType,q.FilesystemPreviewSize.small)):b=no(a.placeholder);a="";d||(a=hr(c.size.width,c.size.height));return{cu:c.id,link:b,description:"",Un:P(this.f,"buttonType"),Vh:d,vd:a}};function TK(a,b,c){SB.call(this,a,b,c);this.l={Edit:m(this.In,this)};this.g=!1}n(TK,SB);f=TK.prototype;f.Ua=function(a){this.D=$o("wnd-image-list-cell",this.view.B());this.w=$o("wnd-ctrl-type-submit",this.view.B());TK.m.Ua.call(this,a)};f.fa=function(){};f.O=function(){TK.m.O.call(this);u(this.w,function(a){this.c.H(a,U,this.$q)},this);u(this.D,function(a){this.c.H(a,U,this.$q)},this)};
f.$q=function(a){a.stopPropagation();a=ky(a.currentTarget,"wnd_content_button");return"function"!==typeof this.l[a]?!1:this.l[a].call(this,a)};
f.In=function(){var a=N(this.f,"image"),b=L.j().get("project_info").getData(),c={key:"category",value:"",order:"DESC"},b={key:"category",value:[Fa.StaticServerCategory.templates,b.uikit_name,b.template_name,b.template_branch_id],optional:[b.uikit_name,b.template_name,b.template_branch_id]},d=I.j().get(this.getId());UK(d)?(d=TG(UK(d)),d=ev(d),d=Fa.StaticServerCategory.microtemplatePrefix+d.type,b.value.push(Fa.StaticServerCategory.microtemplate),b.value.push(d),b.optional.push(d),b.optional.push(Fa.StaticServerCategory.microtemplate),
c.value=Fa.StaticServerCategory.microtemplate):(b.value.push(Fa.StaticServerCategory.content),b.optional.push(Fa.StaticServerCategory.content),c.value=Fa.StaticServerCategory.content);c={filterMN:[b],orderMN:c};b={};b.publicImages=c;b.publicIcons=c;a=OG(E.j(),{showTypes:[Uj,"publicImages","publicIcons"],activeType:IC(a.dataType,a.src),collectionSettings:b,checkLowResolution:!1});fC(a,"onInsert",this.ar,this);fC(a,"onClose",this.oz,this);return!0};f.ar=function(a,b){this.f.jk(b[0])};
f.Jb=function(a,b,c,d){TK.m.Jb.call(this,a,b,c,d);this.g=!0};f.oz=function(){this.g&&(this.g=!1,Zz(this).mb())};I.j().register("wnd.pc.ImageDetailPopupContent",RK,SK,TK);function VK(a,b,c){qD.call(this,a,b,c);this.J=0;this.Pc=null}n(VK,qD);f=VK.prototype;f.dataType="content_items";f.Dd=function(){return!1};f.hn=function(){var a=this.getData();return l(a)?a.content:null};f.Md=function(){return!!D(WK(this))&&0<this.Aj()};f.Aj=function(){var a=this.hn();return null===a?0:a.length};f.Xf=function(){return!0};f.Qm=function(){this.Xf()&&(this.J+=r.MediaList.collectionLimit)};
function WK(a){if(null===a.Pc){var b=N(a,"content");a.Pc=[];u(b,function(a){a=XK(Jg.j(),a);"static_server"==N(a.f,"image").dataType&&this.Pc.push(a)},a)}return a.Pc};function YK(a,b){ND.call(this,a,b)}n(YK,ND);YK.prototype.Mc=function(a){this.I.appendChild(a)};function nG(a,b,c){UE.call(this,a,b,c);this.w={};this.Na="";this.Ca=!1}n(nG,UE);f=nG.prototype;
f.mg=function(a,b){var c=this.f,d=c.getData();if(l(d)){var e=d.content.length;c.Xa=d.content;c.I={};c.S=[];c.W={};var g=0,h=0;a?(h=parseInt(c.J,10),g=h+r.MediaList.collectionLimit,c.J=0):g=c.J+r.MediaList.collectionLimit;if(b||!c.Xf())g=e-c.J;for(var d=d.content,k=Wi(c),p=0;p<e;p++){var w=d[p],v=k.getData(w),C=po(v.image.src,v.image.dataType,q.FilesystemPreviewSize.small);C&&(c.I[w]=NC(pD(MC((new oD).Ga(w),C),tD).Ab(v.image.dataType),v.image.src).setWidth(v.image.width).setHeight(v.image.height),
p>=c.J&&p<g&&(c.S.push(w),c.W[w]=c.I[w]))}a&&(c.J=h);if(b||!c.Xf())c.J=e-e%r.MediaList.collectionLimit}this.kh()};f.Ik=function(a){a.stopPropagation()};f.ef=function(a){!1===this.Ca&&(nG.m.ef.call(this,a),WE(this,a))};f.Ua=function(a){null!=this.ga&&this.ga.Ya()&&!this.isEmpty()&&TB(this.ga);!D(WK(this.f))&&NE(this);nG.m.Ua.call(this,a)};f.bh=function(){nG.m.bh.call(this);D(WK(this.f))&&(this.T=!0,this.mg(!1,!0))};
f.Ye=function(a){!D(WK(this.f))&&ZK(this);this.w={};this.Na="";this.view.T(!1);this.qa=r.MediaList.itemsOnPage-this.f.Aj()%5;nG.m.Ye.call(this,a)};f.xn=function(a,b){this.Na=b.c;if(Se(this.w)<this.qa){var c=this.view.B();c.scrollTop=c.scrollHeight}this.w[b.c]={};nG.m.xn.call(this,a,b)};f.Di=function(a,b,c){if(this.ga.qb()){var d=po(b.ya(),b.K(),q.FilesystemPreviewSize.small);HD(this.view,c.c,d);this.w[c.c]=b}nG.m.Di.call(this,a,b,c)};f.um=function(a,b,c,d){nG.m.um.call(this,a,b,c,d);"error"==b&&delete this.w[d.c]};
f.wn=function(a,b){this.ga.Ya()||!this.f.Md()&&Ye(this.w)&&this.ga.view.show();SE(this,b);for(var c=0;c<b.length;c++)delete this.w[b[c]];Uh(L.j(),"filesystem_files");this.notify("onFinishUpload",this.w);this.view.T(!1);LD(this.view)};
f.Am=function(a){var b,c,d="";c="";for(var e=Na(a),g=0;g<e.length;g++)c=po(this.w[e[g]].ya(),this.w[e[g]].K(),q.FilesystemPreviewSize.small),c=MC(pD(NC(SC((new oD).Ga(a[e[g]].C()).Ab(this.w[e[g]].K()),this.w[e[g]].Eg),this.w[e[g]].ya()).setWidth(this.w[e[g]].Ma()).setHeight(this.w[e[g]].getHeight()),tD),c),b=JD(this.view,e[g],c,c.getId()),this.c.H(b,"mouseover",this.hb),this.c.H(b,gq,this.W),this.D.push(b),e[g]==this.Na&&(d=c.getId()+"_item");null!=this.F&&(a=this.view.$c(this.F.getId()),this.move(b,
a,"right"),rp(b,a),this.F=null);this.V.init(d);this.mg(!1,!0)};f.Ai=function(){var a=li(new ki,"image-edit"),b=m(this.mt,this);a.g=b;a=[ui(qi(a,!0),m(this.Js,this))];b=YE(this,!0);null!=b&&a.push(b);return Ah(a,nG.m.Ai.call(this))};f.Js=function(a){return I.j().create(this.C()+"_edit_gallery_image","wnd.pc.GalleryImageEditForm",a.view.J,a,{id:this.g,properties:{initRenderFlag:!0,updateBeforeShow:!0,width:x.GalleryImageEditForm.width}})};
f.Bi=function(a){var b;a&&Ng(I.j(),a)?b=I.j().get(a):a&&(b=I.j().get(this.getId()),b=Jg.j().Ka(a,"wnd.pc.PhotoImageBlock",b));b.dispose();this.f.Md()||(this.notify("onFinishUpload"),NE(this));nG.m.Bi.call(this,a)};f.move=function(a,b,c){a=ky(a,"wnd_media_file");b=ky(b,"wnd_media_file");var d=I.j().get(this.getId()),e;Ng(I.j(),a)?e=I.j().get(a):e=Jg.j().Ka(a,"wnd.pc.PhotoImageBlock",d);var g;Ng(I.j(),b)?g=I.j().get(b):g=Jg.j().Ka(b,"wnd.pc.PhotoImageBlock",d);e.move(d,g,c)};
f.resize=function(a,b){ma(a)&&(a+="px");ma(b)&&(b+="px");this.view.setSize(a,b)};f.Bo=function(){return"wnd.pc.PhotoImageBlock"};f.isEmpty=function(){return!this.f.Md()&&!!D(WK(this.f))};function ZK(a){a.Ca=!0;var b=WK(a.f);u(b,function(a){a.dispose();sp(this.view.l[a.C()])},a);a.f.Pc=[];a.V.reset();a.V.init();a.Ca=!1}f.pp=function(){this.T=!0;requestAnimationFrame(m(function(){this.f.Qm();this.Aa();this.mg()},this))};I.j().register("wnd.pc.PhotoGalleryListContent",VK,YK,nG);function $K(a,b){rB.call(this,a,b);this.o=null}n($K,rB);function aL(a,b,c){SB.call(this,a,b,c);this.ga=null}n(aL,SB);f=aL.prototype;
f.fa=function(){this.ga=this.L(this.C()+"_media_upload","wnd.ui.UploadFilePopupContent",null,{properties:{initRenderFlag:!0,multipleUpload:P(this.f,"multipleUpload"),closeAfterUpload:!1,fileGroup:P(this.f,"fileGroup"),width:r.UploadFilePopupContent.width,height:r.UploadFilePopupContent.height}});this.ga.observe("onInitUpload",m(this.Jz,this),this);this.ga.observe("onStartUpload",m(this.Nz,this),this);this.ga.observe("onLoadingUpload",m(this.Kz,this),this);this.ga.observe("onPreviewUpload",m(this.Lz,
this),this);this.ga.observe("onProgressUpload",m(this.Mz,this),this);this.ga.observe("onCompleteUpload",m(this.Hz,this),this);this.ga.observe("onFinishUpload",m(this.Iz,this),this)};f.Jz=function(){TB(this.ga);this.notify("onInit")};f.Nz=function(a,b){var c=this.view;if(null==c.o){var d=Tr(cu,{filename:b.h.name}),e=Tr(du);c.o=e.querySelector("i");d.appendChild(e);c.B().appendChild(d)}};f.Kz=function(){this.Aa()};f.Lz=function(){this.Fa();TB(this.ga)};
f.Mz=function(a,b,c){a=this.view;null!=a.o&&S.setWidth(a.o,Math.round(c.loaded/c.total*100)+"%")};f.Hz=function(a,b){var c=new zg("dataUpdate","parent_propagation",b.dataType,this,b.id);this.ca(c);this.notify("onInsert",b)};f.Iz=function(a,b,c){!0===(null!=this.ga)&&this.ga.view.show();this.notify("onFinish",c)};f.Ju=function(){this.ah()};f.ah=function(){!0===(null!=this.ga)&&(this.ga.cancel(),this.ga.view.show())};I.j().register("wnd.pc.SelectMediaContent",Mj,$K,aL);function bL(a,b,c){M.call(this,a,b,c)}n(bL,RK);bL.prototype.jk=function(a){var b=this.getData(),c=bf(b);!0===(null===c.image)&&(c.image={});c.image.id=a.getId();c.image.src=a.ya();c.image.dataType=a.K();c.image.width=a.Ma();c.image.height=a.getHeight();if(!0===(null===b.image)||c.image.id!==b.image.id)a={"=imageId":c.image.id,"=dataType":c.image.dataType},b=I.j().get(this.getId()),$k(c,b.ba(),a);Yi(this,c,!0)};
bL.prototype.Mj=function(){if(ga(N(this,"image")))return!1;var a=N(this,"image").id;return null!=a&&"=imageId"!=a};function cL(a,b){SK.call(this,a,b)}n(cL,SK);cL.prototype.N=function(){var a=this.f.getData(),b="",c=null;this.f.Mj()?(b=po(a.image.src,a.image.dataType,q.FilesystemPreviewSize.small),c=a.image.id):b=no(a.placeholder);return{cu:c,link:b,description:"",Un:P(this.f,"buttonType"),Vh:!1===(null===a.image)&&qo(a.image.src)}};function dL(a,b,c){TK.call(this,a,b,c)}n(dL,TK);
dL.prototype.In=function(){var a=N(this.f,"image"),b="publicIcons";!0===(null!=a)&&(b=IC(a.dataType,a.src));var a=L.j().get("project_info").getData(),c={};c.publicIcons={filterMN:[{key:"category",value:[Fa.StaticServerCategory.templates,a.uikit_name,a.template_name,Fa.StaticServerCategory.socialIcons],optional:[a.uikit_name,a.template_name]}],orderMN:{key:"category",value:Fa.StaticServerCategory.content,order:"DESC"}};fC(OG(E.j(),{showTypes:[Uj,"publicIcons"],activeType:b,collectionSettings:c,checkLowResolution:!1}),
"onInsert",this.ar,this);return!0};I.j().register("wnd.pc.SocialIconsImage",bL,cL,dL);function eL(a,b){oF.call(this,a,b)}n(eL,oF);function fL(a,b,c){OB.call(this,a,b,c)}n(fL,OB);fL.prototype.fa=function(){this.L(this.C()+"_nav_bar","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Enter title of blog post",extendCssClass:"wnd-add-item"}});this.g=this.L(this.C()+"_edit","wnd.pc.AddListingItemForm",null,{properties:{initRenderFlag:!0,width:x.NewListingItemForm.width,height:x.NewListingItemForm.height,autoSave:!1,id:this.C(),listingPageId:P(this.f,"listingPageId"),method:"post",updateBeforeShow:!0}})};
fL.prototype.mb=function(){null!=this.g&&this.g.yc()};fL.prototype.hc=function(){fL.m.hc.call(this);this.g.show()};I.j().register("wnd.pc.AddListingItemPopup",Fk,eL,fL);function gL(a,b){gF.call(this,a,b);this.w=null}n(gL,gF);gL.prototype.W=function(){return"There are no published blog posts"};function hL(a,b){oF.call(this,a,b)}n(hL,oF);function iL(a,b,c){OB.call(this,a,b,c)}n(iL,OB);f=iL.prototype;f.ua=function(){return"image_setting"};
f.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Image Settings",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-upload-image"}});var a=this.L(this.C()+"_content","wnd.pc.EditImagePopupContent",this.ua(),{properties:{initRenderFlag:!0}});this.l=a.L(this.C()+"_image_detail","wnd.pc.ImageDetailPopupContent",null,{id:P(this.f,"blockId"),properties:{id:this.C()+"_image_detail_content",initRenderFlag:!0,imageId:P(this.f,"imageId"),
directoryId:x.ImageBlock.directoryId,buttonType:"Edit",width:x.ImageDetailPopupContent.width,height:x.ImageDetailPopupContent.height}});this.g=a.L(this.C()+"-form","wnd.pc.EditImageForm",null,{id:P(this.f,"blockId"),properties:{id:this.C()+"_form_content",initRenderFlag:!0}});this.L(this.C()+"-control","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{right:["Submit"]},initRenderFlag:!0}})};
f.Y=function(a){iL.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.c&&a.c.getId()==this.getParent().getId()&&this.l.Rc("data_updated")};f.show=function(){this.g&&this.g.Bc();iL.m.show.call(this)};f.mb=function(){this.g.ra()&&this.hide()};f.remove=function(){this.hide();var a=P(this.f,"onRemove");na(a)&&a()};I.j().register("wnd.pc.EditImagePopup",Gk,hL,iL);function jL(a,b,c){OB.call(this,a,b,c)}n(jL,OB);
jL.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Edit HTML",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-html"}});this.g=this.L(this.C()+"_popup_content","wnd.pc.EditHtmlForm",this.ua(),{id:P(this.f,"blockId"),properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,updateBeforeShow:!0}});this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],
right:["Submit"]},initRenderFlag:!0}})};jL.prototype.hc=function(){this.g.Bc()};jL.prototype.mb=function(){this.g.ra()&&(Jh(this,"onClose"),this.hide())};jL.prototype.Hd=function(){this.notify("onClose")};I.j().register("wnd.pc.HtmlPopup",ak,oF,jL);function kL(a,b){qF.call(this,a,b);this.gb=[];this.Gf=[];this.W={};this.we=[];this.Mc=new lk;this.La=new jk;this.h={"class":"wnd-base wnd-bubble-base wnd-insert-content"};this.w=this.F=this.Ca=null}n(kL,qF);f=kL.prototype;f.dc=function(){this.gb=this.Gf=this.W=this.we=this.Ca=this.F=this.w=null;pp(this.B());kL.m.dc.call(this)};
f.da=function(){var a=Tr(Ks);this.nq(a);this.gb=$o("wnd-insert-switcher",a);this.we=$o("wnd-insert-block",a);this.Gf=fg(a.querySelectorAll("[data-wnd_insert_title]"));this.W={};u(this.we,function(a){var c=ky(a,"wnd_insert_block");a=$o("wnd-insert-button",a);this.W[c]=a},this);this.o=Tr(vt);np(this.B(),a);np(this.B(),this.o)};f.nq=function(a){Qr(a,rt,this.N())};
function lL(a){if(null==a.F){a.F=[];var b=Na(gv());F(b,"blog_recent_posts")&&!a.f.xc&&dg(b,"blog_recent_posts");u(b,function(a,b){var e=b/x.InsertContentPopup.itemsPerGroup>>0,g=dv(a).type,g={za:g,Vd:g,af:a,Td:this.Mc.getName(g)};null!=this.F[e]||(this.F[e]=[]);this.F[e].push(g)},a)}return a.F}
function mL(a){if(null==a.w){a.w=[];var b=nL(a),c=0;z(x.InsertContentPopup.blocks,function(a,e){if(null!=b[e]){var g=c/x.InsertContentPopup.itemsPerGroup>>0,h={za:a.cssType,Vd:a.contentBlockType?a.contentBlockType:e,Td:this.La.getName(e),af:a.contentIdentifier?a.contentIdentifier:""};null!=this.w[g]||(this.w[g]=[]);this.w[g].push(h);c++}},a)}return a.w}
f.N=function(){var a=[],b=mL(this),c=lL(this);u(b,function(b,c){a.push(oL(hH,c))},this);u(c,function(b,c){a.push(oL(pL,c))},this);return{Te:a,Rx:c,Ni:b,Bg:[]}};function nL(a){var b=Qe.formatters;vo.j().hasFeature("forms")&&F(b,"wnd.pc.FormBlock")&&L.j().get("tpl_forms").Ea(function(a,d){z(d,function(a,c){b.push(d[c]["tpl_forms.identifier"])},this)});a.f.xc||dg(b,"wnd.pc.BlogRecentPosts");return ef(b)}function oL(a,b){return{nd:a,Jq:b,jy:""}}f.Ig=function(){return this.W};
function qL(a,b,c){var d,e,g=0,h=ky(b,"wnd_insert_block"),k=ky(c,"wnd_insert_block");b=S.oa(a.B());u(a.gb,function(a,b){if(S.Uh(a)){var c=ky(a,"wnd_insert_switch");c===h&&(d=b);c===k&&(e=b)}},a);return g=d>e?b.width:-b.width}
f.iy=function(a,b){S.aa(b,!0);S.aa(a,!0);var c=S.oa(a),d=S.oa(b);this.Ca=qL(this,a,b);this.Ca*=-1;S.setWidth(a,c.width);S.setStyle(a,"position","absolute");c=new sw(a,[-1*this.Ca],[0],x.InsertContentPopup.showAnimationTime,ee);c.H("animate",m(this.Bp,this));c.H("end",m(this.Lp,this,a,!1));c.play();S.setWidth(b,d.width);S.setStyle(b,"position","absolute");d=new sw(b,[0],[this.Ca],x.InsertContentPopup.hideAnimationTime,ee);d.H("animate",m(this.Bp,this));d.H("end",m(this.Lp,this,b,!0));d.play()};
f.Bp=function(a){a.h.element.style.left=Math.round(a.c[0])+"px"};f.Lp=function(a,b){S.setStyle(a,"width","auto");S.setStyle(a,"position","relative");a.style.left=0;!0===b&&(a.style.display="none")};function rL(a,b,c){wr.call(this,a,b,c)}n(rL,wr);f=rL.prototype;f.fa=function(){this.L(this.C()+"_content","wnd.ui.InfoBubbleContent",null,{properties:{initRenderFlag:!0,extendCssClass:r.InfoBubble.contentClassName,type:P(this.f,"type"),title:P(this.f,"title"),text:P(this.f,"text"),linkName:P(this.f,"linkName")}})};f.show=function(){if(P(this.f,"showOnceTime")){if("showOnceTime"===Ke.get(this.C()))return;Ie(Ke,this.C(),"showOnceTime",-1,"/")}rL.m.show.call(this)};
f.O=function(){rL.m.O.call(this);this.c.H(window,"scroll",m(this.IA,this));this.c.H(this.B(),U,m(this.HA,this))};f.bk=function(){xF(this)};f.IA=function(){xF(this)};f.HA=function(){this.notify("onClick");P(this.f,"hideOnClick")&&this.hide(null,!0)};f.rg=function(){rL.m.rg.call(this);var a=this.view;S.setOpacity(a.B(),0);setTimeout(m(a.w,a),r.InfoBubble.fadeInAndSlidePause)};f.hide=function(a,b){var c=rL.m.hide.call(this,a,b);c&&!b&&sL();return c};I.j().register("wnd.ui.InfoBubble",ck,tF,rL);function tL(a,b,c){wr.call(this,a,b,c);this.D={}}n(tL,wr);var hH="block",pL="section";f=tL.prototype;f.Ua=function(a){tL.m.Ua.call(this,a);u(this.view.we,function(a){var c=ky(a,"wnd_insert_block");this.D[c]=a},this)};f.O=function(){tL.m.O.call(this);z(this.view.Ig(),function(a,b){u(a,function(a){this.c.H(a,U,this.cr);0==b.lastIndexOf(hH,0)&&(uz(this),I.j().get(x.PageZoneModel.ZoneId).V.Ka(a))},this)},this);u(this.view.gb,function(a){this.c.H(a,U,this.Wf)},this)};
f.sd=function(a,b){var c=!0;null!=a&&c&&(c=!pF(this.view,new T(a.clientX,a.clientY)));return c&&tL.m.sd.call(this,a,b)};f.Y=function(a){tL.m.Y.call(this,a);if("dataDelete"==a.getType()&&"children_propagation"==a.h){var b=t.page.langId;null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[b]&&t.listings.blog[b].page_id==a.g&&(this.f.xc=!1,this.D={},this.view.dc())}};f.Wf=function(a){a.stopPropagation();a=ky(a.currentTarget,"wnd_insert_switch");null!=a&&this.nd!=a&&uL(this,a,!0)};
function uL(a,b,c){c||(a.view.Ca=null);c&&b!==a.nd&&a.view.iy(a.D[b],a.D[a.nd]);u(a.view.gb,function(a){var e=ky(a,"wnd_insert_switch"),g=e===b;c||S.aa(this.D[e],g);g?(a.classList.add("active"),this.nd=b):a.classList.remove("active")},a);u(a.view.Gf,function(a){var c=ky(a,"wnd_insert_title")===b;S.aa(a,c)},a)}function gH(a,b){b&&(uL(a,b+"_0"),vL(a,b))}
function vL(a,b){var c=[];u(a.view.gb,function(a){-1!=ky(a,"wnd_insert_switch").indexOf(b)?c.push(a):S.aa(a,!1)},a);1<c.length&&u(c,function(a){S.aa(a,!0)},a)}
f.cr=function(a){a.stopPropagation();this.notify("onSelectInsertType");this.hide();if(0==this.nd.lastIndexOf(pL,0)){if(this.g&&this.l){var b=ky(a.currentTarget,"wnd_insert_content_identifier");a=wL(this.g.id);var c=null,d=null;MH(a)?(d=a,d.view.kn(),c=a.Z):c=a;a=c;c=this.l;xJ("DisableContent").show();b=xL(a,b,!1,null,d,c);d=new hi("createSection",b.length);yL(Qh.j(),b,d)}}else if(this.g&&this.l){b=ky(a.currentTarget,"wnd_insert_type");ly(this.g,x.ContentBlock.separableParts.typeIsSeparable)&&(d=ky(this.g,
x.ContentBlock.separableParts.typeSeparableId))&&(this.g=zL(AL(wL(d)),this.g,this.l));var e,d=wL(this.g.id);if("top"==this.l&&d instanceof BL)for(;d.jb instanceof CL&&DL(d.jb);)d=d.jb;e=d;e.Yb();var g;EL(e)&&!1===e instanceof FL?(g=d=e,e=null):(g=e.Z,d=AL(e));c={};(a=ky(a.currentTarget,"wnd_insert_content_identifier"))&&(c.contentIdentifier=a);"wnd.pc.FormBlock"===b||"wnd.pc.UserLoginFormBlock"===b||"wnd.pc.UserRegistrationFormBlock"===b||"wnd.pc.UserRecoveryFormBlock"===b||"wnd.pc.UserChangePasswordFormBlock"===
b?GL(g,a,e,this.l):"wnd.pc.BlogRecentPosts"===b?HL(g,e,this.l):(a=m(g.ud,g,b,e,this.l),IL(JL.j(),b,a,c)||(b=a(c),KL(d,b)))}};f.show=function(){tL.m.show.call(this);var a;a=null!=this.nd&&0==this.nd.lastIndexOf(pL,0)?new H("inspectletInfo2",this):new H("inspectletInfo1",this);this.ca(a);kr.j().pause()};f.Hd=function(){tL.m.Hd.call(this);tr(kr.j())};function wL(a){return XK(Jg.j(),a)}function iH(a,b,c){a.g=b;a.l=c}
function jH(a,b){var c=S.df(Ex()),d=S.oa(a.B()),e=b.top-d.height-x.InsertContentPopup.arrowHeight,g=b.top+b.height+x.InsertContentPopup.arrowHeight+d.height;if(c.top+x.PageZoneModel.topOffset>e&&c.bottom<g){var h=b.top-x.PageZoneModel.topOffset;c.top+x.PageZoneModel.topOffset-e<g-c.bottom&&(h=h-x.InsertContentPopup.arrowHeight-d.height);window.scrollTo(0,h)}var h=S.df(Ex()),k=S.oa(a.B()),c=b.left+b.width/2-x.InsertContentPopup.arrowOffset,d=b.top+b.height+x.InsertContentPopup.arrowHeight,e="left",
g="top";c+k.width>h.right&&(c=b.left-k.width+b.width/2+x.InsertContentPopup.arrowOffset,e="right");c<h.left&&(c=h.left,e="left");d+k.height>h.bottom&&(d=b.top-k.height-x.InsertContentPopup.arrowHeight,g="bottom");d<h.top&&(d=h.top+x.PageZoneModel.topOffset+x.InsertContentPopup.arrowHeight,g="top");h=a.view;R(h.B(),"right","left"!==e);R(h.B(),"bottom","top"!==g);R(h.B(),"top","top"===g);c=new T(c,d);S.setPosition(a.view.B(),c)}I.j().register("wnd.pc.InsertContentPopup",Hk,kL,tL);function LL(a,b){kL.call(this,a,b);this.R=null;this.gc=new kk}n(LL,kL);LL.prototype.nq=function(a){Qr(a,wt,this.N())};function ML(a){if(null==a.R){a.R=[];var b=ef(Qe.formatters),c=0;z(x.InsertFormFieldPopup.formFields,function(a,e){if(null!=b[e]){var g=c/x.InsertContentPopup.itemsPerGroup>>0,h={za:a.cssType,Vd:e,Td:this.gc.getName(e)};a.contentIdentifier&&(h.contentIdentifier=a.contentIdentifier);null!=this.R[g]||(this.R[g]=[]);this.R[g].push(h);c++}},a)}return a.R}
LL.prototype.N=function(){var a=[],b=ML(this);u(b,function(b,d){a.push(oL("form-field",d))},this);return{Te:a,Bg:[],jt:b}};function NL(a,b,c){tL.call(this,a,b,c);this.w=null}n(NL,tL);function OL(a){a.w&&z(a.view.Ig(),function(a){u(a,function(a){this.w.Ka(a)},this)},a)}NL.prototype.cr=function(a){a.stopPropagation();this.hide();a=ky(a.currentTarget,"wnd_insert_type");if(this.g&&this.l){var b=wL(this.g.id);b.Yb();var c=b.Z;c instanceof PL&&QL(c,a,b,this.l)}};NL.prototype.Hd=function(){NL.m.Hd.call(this);this.w=null};I.j().register("wnd.pc.InsertFormFieldPopup",Ik,LL,NL);function RL(a,b,c){OB.call(this,a,b,c)}n(RL,OB);RL.prototype.Pl=function(){return{}};RL.prototype.Jo=function(a){return a};RL.prototype.Tf=function(a){var b={},c=P(this.f,"createMVCType");c&&(b=Zi(I.j(),c,this.Pl(a)),b=gf(b,this.Jo(a)));return b};I.j().register("wnd.pc.NewContentItemPopup",ak,oF,RL);function WJ(a,b,c){OB.call(this,a,b,c)}n(WJ,RL);
WJ.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert button",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-button"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,"class":"wnd-form-new-block wnd-form-button",isNew:!0,saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.L(this.C()+"_popup_content","wnd.pc.EditLinkForm",
this.ua(),a);this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};WJ.prototype.mb=function(){if(dC(this.g)){var a=this.g.Fc();!1===F([0,1],a.open_in_new_window)&&(a.open_in_new_window=0);this.notify("onInsert",this.Tf(a));this.hide()}};WJ.prototype.Pl=function(a){a["=text"]="Call to action";return a};I.j().register("wnd.pc.NewButtonPopup",ak,oF,WJ);function SL(a,b,c){OB.call(this,a,b,c)}n(SL,RL);
SL.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert HTML",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-html"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,isNew:!0,saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.L(this.C()+"_popup_content","wnd.pc.EditHtmlForm",this.ua(),a);this.L(this.C()+"_control_bar",
"wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};SL.prototype.mb=function(){if(dC(this.g)){var a=this.g.Fc();this.notify("onInsert",this.Tf(a));this.hide()}};I.j().register("wnd.pc.NewHtmlPopup",ak,oF,SL);function TL(a,b,c){OB.call(this,a,b,c)}n(TL,RL);
TL.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert map",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-map"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,updateBeforeShow:!0,"class":"wnd-form-new-block",saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.L(this.C()+"_popup_content","wnd.pc.EditMapForm",
this.ua(),a);this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};TL.prototype.mb=function(){ZJ(this.g,m(this.l,this))};TL.prototype.l=function(){if(dC(this.g)){var a=this.g.Fc();this.notify("onInsert",this.Tf(a));this.hide()}};I.j().register("wnd.pc.NewMapPopup",ak,oF,TL);function eK(a,b,c){OB.call(this,a,b,c)}n(eK,RL);f=eK.prototype;
f.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert video",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-video"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,updateBeforeShow:!0,"class":"wnd-form-new-block",saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.L(this.C()+"_popup_content","wnd.pc.EditVideoForm",this.ua(),
a);this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};f.rg=function(){eK.m.rg.call(this);"my_videos"===P(this.f,"dataType")&&this.g.Bc()};f.mb=function(){dC(this.g)&&fK(this.g,m(this.rv,this))};f.rv=function(a){this.notify("onInsert",this.Tf(a));this.hide()};f.Tf=function(a){var b=eK.m.Tf.call(this,a);Ye(b)&&(b=a);return b};I.j().register("wnd.pc.NewVideoPopup",ak,oF,eK);function UL(a,b,c){ME.call(this,a,b,c);this.l=null}n(UL,ME);var Vk="youtube",Pk="vimeo";f=UL.prototype;f.bh=function(){this.l=E.j().create("wnd.pc.NewVideoPopup",this.C()+"_addVideo",document.body,this,{},{dataType:this.K()});fC(this.l,"onInsert",this.dB,this)};f.Ye=function(){var a=this.view;a.F=vp(a.c);this.view.re=!0;KD(this.view);this.notify("onInitUpload")};
f.dB=function(a,b){this.Ye(a);var c=new hi("createNewVideo",1);gr(Qh.j(),c);var d=this.K(),e=Cg.j().get(d),g=b.video_id,h={};h[d+".source"]=b.source;h[d+".url"]=b.url;h[d+".original_url"]=b.originalUrl;h[d+".thumbnail"]=b.thumbnail;h[d+".video_id"]=g;h[d+".thumbnail_id"]=b.thumbnail_id;h[d+".width"]=b.width;h[d+".height"]=b.height;d=m(this.uu,this,b);Li(e,h,{},d,c);ED(this.view,g,"");GD(this.view,g);ED(this.view,g,b.thumbnail);DD(this.view)};
f.uu=function(a,b,c){this.wn("onFinishUpload",[],!1);b=a.video_id;c=c.id;a=pD(KC(OC(MC(NC((new oD).Ga(c).Ab("my_videos"),a.url).setWidth(a.width).setHeight(a.height),a.thumbnail),a.thumbnail),fr),tD);this.f.I[a.getId()]=a;JD(this.view,b,a,c);this.f.update("data_updated")};f.kh=function(){UL.m.kh.call(this);this.f.Md()&&DD(this.view)};f.Y=function(a){UL.m.Y.call(this,a);a.K()!=this.K()||this.f.Dd()||(this.f.update("data_updated"),QE(this),!1===this.f.Md()&&NE(this))};
I.j().register("wnd.ui.MediaListVideos",WD,vD,UL);function VL(a,b,c){OB.call(this,a,b,c);this.Ca=this.I=this.D=null;this.l={};this.g=this.U=this.w=this.F=null}n(VL,OB);f=VL.prototype;f.hc=function(){VL.m.hc.call(this);var a=P(this.f,"activeType");null!=this.w&&F(P(this.f,"showTypes"),this.w)&&(a=this.w);var b=this.I;O(b.f,"showTypes",P(this.f,"showTypes"));KB(b.view,P(b.f,"showTypes"));HC(b,a);b.notify("onChangeMediaType",b.g);WL(this)};f.Lc=function(){};
f.fa=function(){this.D=this.L(this.C()+"_media_header","wnd.ui.MediaHeader",null,{properties:{initRenderFlag:!0,title:"Choose image",switchGroups:["mediaUploadImage","mediaUploadFile","mediaUploadFavicon","mediaUploadVideo"]}});this.D.observe("onUploadClick",this.jx,this);this.I=this.L(this.C()+"_media_types","wnd.ui.MediaTypes",null,{properties:{initRenderFlag:!0,width:r.MediaTypes.width,height:r.MediaTypes.height,showTypes:P(this.f,"showTypes"),activeType:P(this.f,"activeType")}});this.I.observe("onChangeMediaType",
this.Qu,this);WL(this);this.Ca=this.L(this.C()+"_media_list_area","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,height:r.MediaList.height,extendCssClass:"wnd-media-list-area",resize:!0}});this.g=this.L(this.C()+"_media_footer","wnd.ui.MediaFooter",null,{properties:{initRenderFlag:!0,controls:{right:["Close","Cancel"]}}});XL(this,P(this.f,"activeType"));YL(this)};
function XL(a,b){if(!F(P(a.f,"showTypes"),b))throw new Pa("Media type `"+b+"` not allowed.");var c;a:{c=0;var d="";if(r.MediaListFilesystem[b])d=P(a.f,"checkLowResolution")?"1":"0",d=JSON.stringify(r.MediaListFilesystem[b].collectionSettings)+d;else if(r.MediaListStaticServer[b])d=JSON.stringify(r.MediaListStaticServer[b].collectionSettings),l(P(a.f,"collectionSettings"))&&l(P(a.f,"collectionSettings")[b])&&(d+=JSON.stringify(P(a.f,"collectionSettings")[b]));else if(l(P(a.f,"collectionSettings"))&&
l(P(a.f,"collectionSettings")[b]))d+=b+JSON.stringify(P(a.f,"collectionSettings")[b]);else break a;for(var e=d.length;e;)c=33*c^d.charCodeAt(--e);c=c>>>0}if(null!=a.w&&null!=a.U)if(a.w!==b||a.U!==c)a.F.hide();else return;if(null!=a.l[b]&&null!=a.l[b][c])a.F=a.l[b][c],a.F.show(),a.w=b,a.U=c;else{a:{var g=e=null,d={initRenderFlag:!0,height:"100%",canUpload:!1};d.mediaType=b;switch(b){case Vj:e=AD;break;case "publicIcons":e=BD;break;case "solidColors":case "solidColorSchemes":e=CD;break;case "publicFavicons":case Wj:e=
uD;break;default:e=tD}d.itemType=e;d.checkLowResolution=P(a.f,"checkLowResolution")||!1;var h={from:0};h.count=r.MediaList.collectionLimit;switch(b){case Vj:e="wnd.ui.MediaListFilesystem";g=bf(r.MediaListFilesystem[b].collectionSettings);g.limit=h;d.canUpload=!0;d.multipleUpload=!0;d.fileGroup=Xj(a.I.f,b);break;case Wj:e="wnd.ui.MediaListFilesystem";g=bf(r.MediaListFilesystem[b].collectionSettings);g.limit=h;d.canUpload=!0;d.multipleUpload=!1;d.fileGroup=Xj(a.I.f,b);break;case Uj:e="wnd.ui.MediaListFilesystem";
g=bf(r.MediaListFilesystem[b].collectionSettings);l(g.filter)&&ja(g.filter)&&(g.filter.push({prefix:"AND",key:"filesystem_files.active",operator:"=",value:"1"}),g.filter.push({prefix:"AND",key:"filesystem_files.temp_record",operator:"=",value:"0"}));g.limit=h;d.toolbox=!0;d.canUpload=!0;d.multipleUpload=!0;d.fileGroup=Xj(a.I.f,b);break;case "publicImages":case "publicIcons":case "publicFavicons":case "patterns":case "videos":e="wnd.ui.MediaListStaticServer";g=bf(r.MediaListStaticServer[b].collectionSettings);
g.limit=h;h=g;l(h.filter)&&ja(h.filter)&&(l(t.licenceLevel)&&h.filter.push({prefix:"AND",key:"licence_level",operator:"IN",value:ro()}),h.filter.push({prefix:"AND",key:"show_in_list",operator:"=",value:1}));"publicFavicons"===b&&(d.fileGroup=Xj(a.I.f,b));break;case "solidColors":e="wnd.ui.MediaListSolidColors";g={};ZL(a,g,"solidColorSchemes");break;case fr:e="wnd.ui.MediaListVideos";g=bf(r.MediaListVideos[b].collectionSettings);g.limit=h;break;default:d=null;break a}ZL(a,g,b);d={hm:e,xs:g,properties:d}}null!==
d&&(null!=a.l[b]||(a.l[b]={}),a.l[b][c]=a.Ca.L(a.C()+"_items_"+b+"_"+c,d.hm,null,{collectionSettings:d.xs,properties:d.properties}),a.F=a.l[b][c],d=d.properties.canUpload,a.l[b][c].observe("onItemClick",a.$v,a),d&&(a.g.observe("onUploadCancel",a.l[b][c].ah,a.l[b][c]),a.l[b][c].observe("onInitUpload",a.fB,a),a.l[b][c].observe("onFinishUpload",a.eB,a)),a.w=b,a.U=c)}}f.fB=function(){this.g.eb("Cancel",!0);this.g.eb("Close",!1);FC(this.D);this.D.Aa()};
f.eB=function(){this.g.eb("Cancel",!1);this.g.eb("Close",!0);null!=this.w&&EC(this.D,this.w);this.D.Fa()};f.hide=function(a,b){var c;!(c=this.qb())&&(c=this.w===Uj)&&(c=this.F,c=null!=c.l?c.l.A:!1);return c?!1:VL.m.hide.call(this,a,b)};f.qb=function(){return null!=this.F&&null!=this.F.ga?this.F.ga.qb():!1};f.show=function(){VL.m.show.call(this);this.g.eb("Cancel",!1);this.g.eb("Close",!0);this.D.Fa()};f.Qu=function(a,b){XL(this,b);YL(this)};
function YL(a){for(var b=P(a.f,"showTypes"),c=[Uj,Wj,Vj,fr],d=!1,e=0;e<c.length;e++){var g=b,h=c[e],k=!1,k=[fr,"videos"];if(k=Ve("my_videos")&&F(k,a.w)?fr===h:F(g,h)){EC(a.D,c[e]);d=!0;break}}d||FC(a.D)}f.jx=function(a,b){HC(this.I,b);XL(this,b);this.l[b][this.U].bh()};f.$v=function(a,b){this.notify("onInsert",[b]);this.hide(null,!0)};f.Id=function(a){z(a,function(a,c){O(this.f,c,a)},this)};
function WL(a){var b,c;a.I.Vg()?(b=r.MediaPopup.dimension.withTypes.width,c=r.MediaPopup.dimension.withTypes.height):(b=r.MediaPopup.dimension.withoutTypes.width,c=r.MediaPopup.dimension.withoutTypes.height);O(a.f,"width",b);O(a.f,"height",c);a.resize(b,c)}f.Hd=function(){this.l[this.w][this.U].ah()};function ZL(a,b,c){null!=P(a.f,"collectionSettings")&&null!=P(a.f,"collectionSettings")[c]&&df(b,P(a.f,"collectionSettings")[c])}I.j().register("wnd.ui.MediaPopup",ak,oF,VL);function E(){K.call(this);this.g={};this.h=!1}n(E,K);ea(E);E.prototype.create=function(a,b,c,d,e,g){Ng(I.j(),b)?(a=I.j().get(b),a.Id(g)):(g={id:b,create:{data:e||{}},properties:$L(a,g)},a=I.j().create(b,a,c,d,g),this.g[b]=a);a.Ra()||a.show();fC(a,"onMouseOver",m(this.o,this,!0),a);fC(a,"onMouseOut",m(this.A,this,!1),a);return a};E.prototype.o=function(){this.notify("onPopupMouseOver")};E.prototype.A=function(){this.notify("onPopupMouseOut")};
function $L(a,b){var c=b||{},d=gf(r.DefaultPopupProperties,Ei("DefaultPopupProperties"));null!=d&&null!=d[a]&&(c=af(d[a]),null!=b&&va(c,b));return c}function JE(a,b,c,d){null!=b.text&&!ia(b.text)&&(b.text=[b.text]);a=a.create("wnd.ui.InfoPopup","wnd_ui_InfoPopup",document.body,c,{},{title:b.title,text:b.text,type:b.type,params:b.params||{},extendCssClass:b.extendCssClass||""});d&&fC(a,"onConfirm",d,a);return a}
function vC(a,b,c,d){a=a.create("wnd.ui.ConfirmPopup","wnd_ui_ConfirmPopup",document.body,c,{destroyAfterClose:!0},{title:b.title,text:b.text,leftButtons:b.leftButtons,extendCssClass:"wnd-confirm-delete"});d&&fC(a,"onConfirm",d,a)}function OG(a,b){var c=r.MediaPopup.mvcId;b.extendCssClass="wnd-media";var d=bg.j().get("wnd.pc");return a.create("wnd.ui.MediaPopup",c,document.body,d,{},b)}
function aM(){var a=E.j(),b=a.create("wnd.ui.InfoPopup","wnd_ui_ConnectionErrorPopup",document.body,null,{},{title:"Connection error",text:"System encountered an error while trying to connect to the server. Please reload the page.",extendCssClass:"wnd-autologout",params:{Reload:{cssType:"submit"}}});fC(b,"onClose",m(a.c,a),b)}
function bM(a,b){var c=a.create("wnd.ui.ChecksumPopup","wnd_core_ChecksumPopup",document.body,null,{destroyAfterClose:!0},{title:"Conflicting changes detected",text:"Saving these changes will overwrite any changes made in another window or device.",extendCssClass:"wnd-confirm-checksum",serverObject:b});fC(c,"onClose",m(a.c,a),c)}E.prototype.c=function(){location.reload()};
function KE(a,b){var c="wnd_ui_PremiumPopup_"+b.type;l(b.extendCssClass)||(b.extendCssClass=r.PremiumPopup[b.type].className);Ra.kc("open_premium_popup",{data:{type:b.type}});return a.create("wnd.ui.PremiumPopup",c,document.body,null,{},b)}function cM(){var a=E.j();KE(a,{type:"removeWebnodeAds",params:{upgradeUri:xo(vo.j(),"remove_branding",t.keenIo.refs.removeWebnodeAdsPopup)}})}
function dM(a,b){var c="multilanguage";b&&(c="multilanguage_upgrade");KE(a,{type:c,params:{upgradeUri:xo(vo.j(),"multilanguage_fe","multilanguagePopup")}})}function bD(){var a=E.j();KE(a,{type:"premiumUpload",params:{upgradeUri:xo(vo.j(),"premium_upload","premiumUploadPopup")}})}function eM(){var a=E.j();KE(a,{type:"memberLogin",params:{upgradeUri:xo(vo.j(),"member_login","premiumMemberLoginPopup")}})}
function fM(a,b,c,d,e){c={coordinates:m(S.getBounds,S,c),extendCssClass:"wnd-info-bubble"};e&&(c=gf(c,e));return a.create("wnd.ui.InfoBubble",b,document.body,d,{withOverlay:!1},c)}function LE(a,b,c){JE(a,{title:"Upload error",text:b,extendCssClass:"wnd-error-info"},c)}function gM(a,b){var c=E.j().create("wnd.ui.PrivateAccessActivationPopup","wnd_private_access_activation",document.body,null,{},$L("wnd.ui.PrivateAccessActivationPopup",{withActivation:!0}));b&&fC(c,"onActivatePrivateAccess",b,c)}
function vr(a,b){var c=[];z(a.g,function(a){a.Ra()&&(!b||a instanceof b)&&c.push(a)},a);1<c.length&&Ih(c,function(a,b){return a.getZIndex()-b.getZIndex()});return c}function hM(){var a=E.j(),a=vr(a);return 0===a.length?!1:!1===vh(a,function(a){return a instanceof wr})}function wF(a){return vr(a,wr)}function sL(){for(var a=E.j(),a=vr(a),b=0;b<a.length;b++)a[b].hide()}function uF(){var a=E.j();a.h=0<vr(a).length}function sF(){return E.j().h}
function iM(){var a=E.j();u(wF(a),function(a){"wnd.ui.InfoBubble"===a.ba()&&a.hide(null,!0)},a)};function Qh(){K.call(this);-1===this.Jk.indexOf("//")&&(this.Jk="//"+location.host+this.Jk);this.h={};this.c=[];this.g=[];this.gg={};this.A=this.iA.bind(this);this.ng={}}n(Qh,K);ea(Qh);f=Qh.prototype;f.Jk=za.Server.xhrUri;f.ng=null;f.kj=[];f.gg={};f.al=!1;f.zm=!1;function gr(a,b){a.h[b.getId()]=b}function jM(a,b){if("undefined"==typeof a.h[b])throw new Pa("Transaction `"+b+"` doesn' exist");return a.h[b]}function yL(a,b,c){u(b,function(a){Sh(this,a,c)},a)}
function Sh(a,b,c){if(b.getType()==za.FileUploadServerRequest.type&&!b.h)throw new Pa("FileUploadRequest must contain file for upload");if(c){if(b.getType()==za.FileUploadServerRequest.type)for(var d=c.Kc,e=0;e<d.length;e++)if(d[e].getType()==za.FileUploadServerRequest.type)throw new Pa("Transaction can contain maximum one FileUploadRequest");}else c=new hi("default",1);a.h[c.getId()]||gr(a,c);di(c,b);0<c.Kc.length&&c.Kc.length==c.c&&a.ci(c)}
function kM(a,b){var c=za.Server.transactionsInProcess["default"];l(za.Server.transactionsInProcess[b])&&(c=za.Server.transactionsInProcess[b]);return a.c.length>=c}
f.ci=function(a){if(0==kM(this,a.getName())){lM(this,a.getId(),"process");var b=a.getId();this.ng[b]=new ey;Vm(this.ng[b],"progress complete success timeout error abort".split(" "),this.A);this.ng[b].ph=a;this.ng[b].send(this.Jk)}else mM(this)&&ei(a)&&(fi(a),gi(a),wC(xC.j())),lM(this,a.getId(),"waiting");a.up&&(a=nM.j(),bw(a.h),bw(a.g),aw(a.h),aw(a.g))};function mM(a){var b=!1;u(a.c.concat(a.g),function(a){ei(jM(this,a))&&(b=!0)},a);return b}
function lM(a,b,c){var d=jM(a,b);ci(d,c);switch(c){case "process":yh(a.c,b);dg(a.g,b);1===a.c.length&&a.notify("onTransactionsInProcess");break;case "waiting":c=wh(a.g,function(a){return"savePageData"==jM(this,a).getName()},a);if("savePageData"==d.getName()&&c>za.Server.maxWaitingTransactions)throw a.al=!0,aM(),new Pa("Connection error. Waiting transactions "+c);yh(a.g,b);dg(a.c,b);break;case "ready":case "delete":dg(a.c,b),dg(a.g,b),0===a.c.length&&a.notify("onTransactionsFinished"),"delete"==c&&
(delete a.h[b],null!=a.gg[b]&&delete a.gg[b])}}
f.iA=function(a){if(null!==a.data&&a.data.id){var b=a.data.id,c=this.h[b];if("process"!==c.getStatus())throw new Pa("Transaction `"+b+"` isn't in processed status. Current status is "+c.getStatus());oM(this,c,a);"progress"!=a.type&&(lM(this,b,"delete"),0<this.g.length&&(b=this.h[this.g[0]],"waiting"==b.getStatus()&&0==kM(this,b.getName())&&this.ci(b)),Kn(a.data.serverChangedDataTypes,function(a,b){Uh(L.j(),b);Kn(a,function(a,c){u(a,function(a){var d;switch(c){case "create":d="dataCreate";break;case "update":d=
"dataUpdate";break;case "delete":d="dataDelete"}a=new zg(d,"children_propagation",b,null,null===a?void 0:a);Dg(bg.j(),a)})});"project_info"==b&&Sh(Qh.j(),new Ag)}));"delete"===c.getStatus()&&ci(c,"complete")}"error"==a.type&&(0===a.target.sa.status?pM(this,a):qM(this,a))};function qM(a,b){a.al=!0;aM();throw new Pa("Connection error. Status: "+b.target.sa.status+", Transaction name: "+b.target.ph.name);}
function pM(a,b){var c=b.target.ph.id;null!=a.h[c]&&(null!=a.gg[c]?a.gg[c]++:a.gg[c]=1,a.gg[c]<za.Server.maxReSendTransactionsCount?(lM(a,c,"ready"),setTimeout(m(a.ci,a,a.h[c]),za.Server.reSendTransactionTimeout)):qM(a,b))}
function oM(a,b,c){Kn(c.data.requests,function(a){var e=c.type,g;g=a.id;for(var h,k=0;k<b.Kc.length;k++)if(b.Kc[k].getId()==g){h=b.Kc[k];break}if(!h)throw new Pa("Request `"+g+"` doesn't exist in transaction `"+b.getId()+"`");g=h;if("progress"==c.type){if(a=g.g)for(e=0;e<a.length;e++)a[e](c.type,c.data.event,g)}else{if(h=g.A){if("success"==c.type&&0==a.result){e="error";a:{if(null!=a.data&&null!=a.data.errorCode){k=!0;switch(a.data.errorCode){case 1001:var p=E.j(),w=p.create("wnd.ui.InfoPopup","wnd_ui_AutologoutPopup",
document.body,null,{},{title:"Automatic logout",text:"You have been automatically logged out due to inactivity. Click OK to proceed to the login page.",extendCssClass:"wnd-autologout",params:{Login:{}}});fC(w,"onConfirm",m(p.c,p),w);fC(w,"onClose",m(p.c,p),w);break;case 1002:case 1003:this.kj.push(b);t.isDev?bM(E.j(),this):this.zm=!0;k=!1;break;case 1004:k=E.j();p=L.j().get("project_info").getData();p=k.create("wnd.ui.InfoPopup","wnd_core_LongPageContentPopup",document.body,null,{destroyAfterClose:!0},
{type:"longPageContent",params:{uri:p.supportEmail,link:p.supportEmail,Reload:{cssType:"submit"}},extendCssClass:"wnd-long-page-content",serverObject:this});fC(p,"onConfirm",m(k.c,k),p);fC(p,"onClose",m(k.c,k),p);k=!0;break;case 2001:k=E.j();KE(k,{type:"premiumFormItemsLimit",params:{upgradeUri:xo(vo.j(),"form_no_limit","premiumFormItemsLimitPopup")}});k=!1;break;case 2002:k=E.j();KE(k,{type:"premiumFormUploadField",params:{upgradeUri:xo(vo.j(),"form_enabled_upload","premiumFormUploadFiledPopup")}});
k=!1;break;default:b.getName(),k=!1}ci(b,"complete");if(k){k=!1;break a}}k=!0}if(!k)return}for(k=0;k<h.length;k++)h[k](e,!1===a.result?a.error:a.data,g,a);this.zm&&yC(this)}l(a.datachecksum)&&(rM(this,a.datachecksum),a=sg(rg(new pg("tab__"+t.windowId))),xg(tg.j(),a))}},a)}function Ph(a,b){b.c--;!0===(0<b.Kc.length&&b.Kc.length==b.c)&&a.ci(b)}function rM(a,b){z(b,function(a,b){zf[b]=a},a)}function yC(a){u(a.kj,m(a.Lx,a),a);a.kj=[];a.zm=!1}
f.Lx=function(a){fi(a);gi(a);a.id=a.name+"_"+Math.random().toString(36).substring(7);wC(xC.j());ci(a,"ready");gr(this,a);this.ci(a)};function xC(){A.call(this);this.h=[];this.c=[];this.g=0;this.J=this.G=this.o=!1;this.M=[];this.A=[];this.w=[];this.l=[]}n(xC,A);ea(xC);function sM(a,b,c){tM()&&!1===a.o&&uM(a,b)&&uM(a,c)&&(0!=a.g&&wC(a,a.g),b instanceof Bf?mf(b,m(a.Fp,a)):b instanceof of&&mf(b,m(a.Ip,a)),a.h.push(b),c instanceof Bf?mf(c,m(a.Fp,a)):c instanceof of&&mf(c,m(a.Ip,a)),a.c.push(c),vM())}function wM(){var a=xC.j();tM()&&a.Si()&&(a.o=!0,xM(a,a.h[a.h.length-1-a.g]),a.g++,a.J=!0)}
function yM(){var a=xC.j();tM()&&a.Ri()&&(a.o=!0,xM(a,a.c[a.c.length-a.g]),a.g--)}f=xC.prototype;f.Ri=function(){var a=Qh.j();return l(this.c[this.c.length-this.g])&&!1===this.o&&!1===0<a.c.length};f.Si=function(){var a=Qh.j();return l(this.h[this.h.length-1-this.g])&&!1===this.o&&!1===0<a.c.length};function wC(a,b){b?(a.h=a.h.slice(0,a.h.length-b),a.c=a.c.slice(0,a.c.length-b)):(a.h=[],a.c=[]);a.g=0;vM()}function eJ(){return xC.j().o}function xM(a,b){b instanceof Bf&&zM(a,b);Sh(Qh.j(),b)}
function uM(a,b){var c=b.getData();if(Ye(c))return!1;var d=!0;b instanceof Bf&&z(c,function(a){!1===l(a.patch)&&(d=!1)},a);return d}function tM(){return"1"==t.useJsonPatch}function zM(a,b){z(b.getData(),function(a,d){yf(b,a.source,d)},a)}
f.Ip=function(a,b,c){if("success"===a&&this.o){var d=c.getData();if("update"===d.action){a=L.j().get(d.dataType);a.ig();var e=this;a.Ea(function(a,b){if("success"===a&&l(b[d.id])){var c=new zg("dataUpdate","children_propagation",d.dataType,null,d.id);c.A=d.data;Dg(bg.j(),c);e.o=!1;vM()}})}}};f.Fp=function(a,b,c){var d=[1002,1003];("success"===a||F(d,b.code))&&this.o&&(this.G=!1,AM(this,c),this.l=Ah(this.w,this.M),a=BM(),CM(this,a),DM(this,a),D(this.l)&&EM(this))};
function EM(a){var b=BM();FM(a,b);GM(a);b.Oe(!0);I.j().get(q.ImageSizeManager.mvcID).ha();a.o=!1;a.l=[];vM()}function BM(){return I.j().get(x.PageZoneModel.ZoneId)}function FM(a,b){if(b instanceof GK){var c=fg(b.f.o());u(c,function(a){Ng(I.j(),a)&&(a=I.j().get(a),a instanceof GK&&(F(this.A,a.getId())||F(this.w,a.getId()))&&a.Rc("data_updated",!0),FM(this,a))},a)}else F(a.A,b.getId())&&b.Rc("data_updated",!0)}
function AM(a,b){var c=Cg.j().get("content_items"),d=Vh(c),e=bf(d.getData());try{var g=b.getData();z(g,function(a){l(a.patch)&&Ka(e,a.patch)},a)}catch(h){if(t.isDev)throw new Pa(h.getMsg());bM(E.j(),Qh.j())}Bg(c,e);d.fi();z(g,function(a){l(a.patch)&&HM(this,a.patch)},a)}
function HM(a,b){a.M=[];a.A=[];a.w=[];u(b,function(a){var b=a.path.split("/");if("content"===b[2])!1===F(this.A,b[1])&&Dh(this.A,0,0,b[1]);else switch(a.op){case "remove":2===b.length?yh(this.M,b[1]):yh(this.A,b[1]);break;case "replace":yh(this.A,b[1]);break;case "add":2===b.length?yh(this.w,b[1]):yh(this.A,b[1])}},a)}
function CM(a,b){if(b instanceof GK){var c=fg(b.f.o());u(c,function(a){var e=!1,g=!1;Ng(I.j(),a)?(a=I.j().get(a),a.Z.getId()!=b.getId()&&(g=e=!0),F(this.l,a.getId())&&(dg(this.l,a.getId()),yh(this.A,a.getId()))):(a=L.j().get("content_items").getData(a),e={id:a.id},a=I.j().create(a.id,a.type,b.Sa(),b,e),a.observe("onCreateBlock",this.Gp,this),e=new zg("dataCreate","parent_propagation",a.K(),a,a.getId()),Dg(bg.j(),e),e=!0);if(e){var e=a,h,k,p;k=oh(c,e.getId());k+1==c.length?(p=k-1,k="bottom"):(p=k+
1,k="top");e.Z.getId()!=b.getId()&&(e.Z=b,Bi(e,b));Ng(I.j(),c[p])&&(h=I.j().get(c[p]),h=h.B());IM(e,b.Sa(),h,k);g&&JM(e);!1===this.G&&(a.lg(),this.G=!0)}CM(this,a)},a)}}function DM(a,b){z(b.G,function(a){if(F(this.M,a.getId())||!1===a instanceof KM&&F(this.M,b.getId()))F(this.M,a.getId())&&!1===this.G&&(a.lg(),this.G=!0),a instanceof KM?(a.observe("onRemoveBlock",this.Gp,this),a.Jc()):a.dispose();a instanceof GK&&DM(this,a)},a)}
function GM(a){var b=D(a.w)&&D(a.M);(b||!1===a.G)&&u(a.A,function(a){Ng(I.j(),a)&&(a=I.j().get(a),!1===this.G&&(a.lg(),this.G=!0),b&&JM(a))},a)}function JM(a){a.B()&&(new yw(a.B(),ya.UndoRedoManager.fade.start,ya.UndoRedoManager.fade.end,ya.UndoRedoManager.fade.time)).play()}f.Gp=function(a,b){F(this.l,b)&&(dg(this.l,b),D(this.l)&&EM(this))};function vM(){var a=new H("undoRedoChange");Di(bg.j(),a)};function nM(){A.call(this);this.o=new Rq(this);this.c=null;this.A=new Tn(t.authUrl+"?login_refresh=1");this.g=new $v(za.LoginRefresh.usotRefreshTime);this.o.H(this.g,"tick",m(this.G,this));this.h=new $v(za.LoginRefresh.authRefreshTime);this.o.H(this.h,"tick",m(this.l,this))}n(nM,A);ea(nM);nM.prototype.G=function(){var a=new tf,b=new hi("loginRefresh",1);b.up=!1;Sh(Qh.j(),a,b)};
nM.prototype.l=function(){null===this.c&&(this.c=ip("iframe",{width:"1",height:"1",style:"display:none;"}),document.body.appendChild(this.c));go(this.A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^wa()).toString(36));this.c.src=this.A.toString()};function LM(a,b,c){SB.call(this,a,b,c);this.w=null}n(LM,Hz);f=LM.prototype;f.fa=function(){L.j().get("server_projects").Ea(m(this.oo,this),null,this)};
f.oo=function(a,b){switch(b["server_projects.private_access_type"]){case "MEMBER_LOGIN":MM(this);break;default:null!=this.g&&this.g.Vg()&&this.g.hide(),this.l=this.L(this.C()+"private_access","wnd.ui.CheckboxFormItem",null,{create:{data:{value:0}},properties:{id:eC(this.ib()),label:NM(this),name:"",defaultValue:0,initRenderFlag:!0,extendCssClass:"wnd-switch wnd-page-private",isAccessible:!1}}),this.l.observe("onCheckAccess",this.Yu,this)}};
function OM(a){return P(a.f,"dataType")+".private_access"}f.Y=function(a){LM.m.Y.call(this,a);"server_projects"!=a.K()&&"project_info"!=a.K()||L.j().get("server_projects").Ea(m(this.oo,this),null,this)};
function NM(a){var b="";if(!La(t.visibleRelease,"member_login")){switch(P(a.f,"dataType")){case "gui_pages":b="Password protect this page";break;case "listing_items":b="Password protect this blog post"}return b}switch(P(a.f,"dataType")){case "gui_pages":b="Restrict access to this page";break;case "listing_items":b="Restrict access to this blog post"}return b}
f.Yu=function(a,b){if(La(t.visibleRelease,"member_login")){if(!vo.j().hasFeature("member_login"))return eM(),!1;gM(E.j(),m(this.pu,this));Ra.kc("ml_show_activation_popup",{data:{source:PM(this)}});var c=new H("inspectletInfo4",this);this.ca(c)}else c=b.view,c.F&&tp(Tr(Us,{text:"Coming soon...",vd:"wnd-coming-soon"}),c.F)};
f.pu=function(){MM(this,!0);Ra.kc("ml_activation",{data:{source:PM(this)}});var a=new H("inspectletInfo5",this);this.ca(a);a=new zg("dataUpdate","parent_propagation","server_projects",this.ib());this.ca(a)};
function MM(a,b){null!=a.l&&a.l.Vg()&&a.l.hide();var c=OM(a),d;d=P(a.f,"data");d=null!=d[OM(a)]?d[OM(a)]:null;a.g=a.L(a.C()+"member_login","wnd.ui.CheckboxFormItem",null,{create:{data:{value:d}},properties:{id:eC(a.ib()),label:NM(a),name:c,checked:d,defaultValue:d,initRenderFlag:!0,extendCssClass:"wnd-switch wnd-page-member-login",isAccessible:m(a.eu,a)}});a.w=a.g.getValue();a.g.observe("onCheckAccess",a.Zu,a);a.g.observe("onChange",a.Tu,a);b&&(a.g.Rd(!0),a.ib().ra(),Ra.kc("gui_pages"==P(a.f,"dataType")?
"ml_lock_page":"ml_lock_blog_post"));a.g.getValue()&&LF(a.view,a.g.B(),!0)}f.Zu=function(a,b,c){c||eM()};f.eu=function(){var a=vo.j().hasFeature("member_login");return 1==this.w||a};function PM(a){return"gui_pages"==P(a.f,"dataType")?"page":"blog_post"}f.Tu=function(){this.w=this.g.getValue();var a=1==this.g.getValue();Ra.kc(a?"ml_lock_page":"ml_unlock_page",{data:{source:PM(this)}});LF(this.view,this.g.B(),a)};
f.Hr=function(a,b){O(this.f,"data",b);null!=this.l&&this.l.oi();if(null!=this.g){this.g.oi();this.w=this.g.getValue();var c=1==this.g.getValue();LF(this.view,this.g.B(),c)}};I.j().register("wnd.ui.PrivateAccessFieldset",Nj,KF,LM);function QM(a,b){Ia.call(this,a,b)}n(QM,Ia);function RM(a){switch(a.getId()){case 2003:return"backgroundVideo"}return""};function SM(){A.call(this);this.c=new vo}n(SM,A);function TM(a,b,c){z(ya.PremiumContentChecker[c],function(a,c){if(UM(this,a.path.split("/"),a.value,b)&&a.packageLevel>parseInt(this.c.c.level,10))throw new QM(c,a.exceptionCode);},a)}function UM(a,b,c,d){var e=b.shift();if("*"===e)for(var g in d)return ka(d[g])?ia(c)?F(c,d[g]):c===d[g]:UM(a,b,c,d[g]);else if(l(d[e]))return D(b)?ia(c)?F(c,d[e]):c===d[e]:UM(a,b,c,d[e]);return!1};function VM(){this.A=!1;this.c=this.h=this.g=null}n(VM,K);ea(VM);f=VM.prototype;f.zw=function(a,b){try{if("success"==a&&b.code)throw new QM(b.message,b.code);WM(this)}catch(c){c instanceof QM&&setTimeout(m(this.Zx,this,c),r.Publisher.delayPremiumContentPopup)}};function WM(a){null===a.h||Sh(Qh.j(),a.h)}
f.Zx=function(a){var b=null;switch(RM(a)){case "backgroundVideo":b="video_background"}var b=xo(vo.j(),b,t.keenIo.refs["publisher"+lh(RM(a))]),c=E.j(),d="";switch(a.getId()){case 2003:d="Your website contains Premium content"}var e="";switch(a.getId()){case 2003:e="You are attempting to publish a website with a video in the background. This video will be replaced with a static image. In order to have videos play in the background of your website, you must purchase a Mini, Standard or Profi Premium Plan."}this.c=
KE(c,{type:"premiumContent",params:{upgradeUri:b,controls:{right:["Publish"]}},title:d,text:e});fC(this.c,"onUpgrade",m(this.hx,this),this.c);fC(this.c,"onPublish",m(this.Ew,this),this.c);fC(this.c,"onClose",m(this.jv,this),this.c)};f.hx=function(){this.h=null;this.c.hide(null,!0);this.g.hide(null,!0)};f.Ew=function(){this.A=!0;this.c.hide(null,!0);WM(this)};f.jv=function(){this.A||(this.h=null,this.g.hide(null,!0))};
f.Fw=function(a,b){this.A=!1;this.h=null;this.g.hide(null,!0);wC(xC.j());if("success"==b){var c=L.j().get("project_info").getData(),d=window.location.href.replace("cms.",""),e=window.location.hostname.replace("cms.","");null!=c.masterDomain&&(d=c.masterDomainUrl+window.location.pathname,e=c.masterDomain);/_ga=/.test(d)&&(d=d.substring(0,d.indexOf("_ga=")-1));c={uri:d,link:e+window.location.pathname};!1===Mh.project_info.hasUserDomain&&(c.Upgrade={text:"Buy a domain",uri:t.urlDomainRegister+"?ref="+
t.keenIo.refs.publishedPagePopup,target:"_blank"});JE(E.j(),{type:"publishedPage",params:c,extendCssClass:"wnd-info-publish"},a)}else JE(E.j(),{title:"Website is being published...",text:"Cannot publish the website.",extendCssClass:"wnd-info-publish"},a)};function XM(a,b,c){Ai.call(this,a);this.g=a instanceof YM;this.l=a instanceof ZM;this.c=this.g?a:null;null===this.c&&l(c)&&(this.c=c);this.M=this.l?a:null;this.o=b;this.ka=this.l?"layout#":"";this.U=this.T=this.ha=this.F=this.S=this.I=this.P=this.J=null;this.w={};this.xa=[];this.D=[];this.ea=null}n(XM,Ai);
function $M(a,b){var c=aN(a);a.J=b.L(b.C()+"_background","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,items:null,selected:a.o.Ad(),moreItems:["Add image","Effects"],extendCssClass:"wnd-section-default-switcher",collectionSettings:c}});a.J.observe("selectItem",a.Xp,a);a.J.observe("showMoreItems",a.o.Zw,a.o);var d=null;a.g?d=m(a.c.Lc,a.c,bN(),!1):a.l&&(d=m(a.c.Lc,a.c,cN(),!1));null!=d&&a.J.observe("onNextAction",d,a);a.o.observe("onInsert",a.Xp,a);a.o.observe("onFinish",a.Kv,a);a.o.observe("onDataChanged",
a.qv,a);HG(a.o,c);null!=a.c&&dN(a.c,a.J,a.ka+"general",a.getParent().ua())}function eN(a,b){a.P=b.L(b.C()+"_color","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,items:fN(a),selected:gN(a),extendCssClass:"wnd-section-default-switcher"}});a.P.observe("selectItem",a.Rw,a);null!=a.c&&dN(a.c,a.P,a.ka+"schemes",a.getParent().ua())}
function hN(a,b){var c=iN(a);null!==c&&(a.I=b.L(b.C()+"_effects_fx","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Filters",items:c,selected:jN(a),pagination:!0}}),a.I.observe("selectItem",a.Sw,a),null!=a.c&&dN(a.c,a.I,"effects",kN(a)),(c=a.o.g)&&UC(c)&&c.K()&&Uq(Tq.j(),UC(c),c.K(),m(function(){lN(this)},a),null,q.FilesystemPreviewSize.small))}
function mN(a,b){var c=nN(a);null!==c&&(a.S=b.L(b.C()+"_effects_overlay","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Color Overlay",items:c,selected:oN(a),pagination:!0}}),a.S.observe("selectItem",a.Vw,a),null!=a.c&&dN(a.c,a.S,"overlays",kN(a)))}
function pN(a,b){var c=qN(a);null!==c&&(a.F=b.L(b.C()+"_effects_position","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Position",items:c,selected:rN(a),extendCssClass:"wnd-switcher-bgrposition"}}),a.F.observe("selectItem",a.Ww,a),null!=a.c&&dN(a.c,a.F,"position",kN(a)))}
function sN(a,b){var c=tN(a);D(c)||(a.ha=b.L(b.C()+"_effects_bgr_attachment","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Animation",items:c,selected:uN(a),extendCssClass:"wnd-switcher-bgrattachment"}}),a.ha.observe("selectItem",a.Pw,a),null!=a.c&&null===a.F&&dN(a.c,a.ha,"position",kN(a)))}
function vN(a,b){a.T=b.L(b.C()+"_image_transform","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,items:wN(a),extendCssClass:"wnd-img-transform"}});a.T.observe("selectItem",a.o.Tw,a.o);null!=a.c&&dN(a.c,a.T,"transform",kN(a))}
function xN(a,b){a.R=b.L(b.C()+"_video_settings","wnd.pc.VideoSettingsForm",null,{id:b.C(),dataType:b.K(),properties:{updateBeforeShow:!0,autoSave:!0,initRenderFlag:!0,extendCssClass:"wnd-switcher wnd-switcher-video-settings"}});a.R.observe("onChangeSettings",a.o.Xu,a.o);null!=a.c&&dN(a.c,a.R,"video_settings",kN(a))}function kN(a){return a.g?bN():a.l?cN():""}
function aN(a){var b=L.j().get("project_info").getData(),c=null,d=fN(a);a.g?c=dv(TG(a.c.h)).backgroundVideo:a.l&&(c=mv(a.M.g.Ak()).backgroundVideo);a={};b={key:"category",value:[Fa.StaticServerCategory.templates,b.uikit_name,b.template_name,b.template_branch_id,Fa.StaticServerCategory.background],optional:[b.uikit_name,b.template_name,b.template_branch_id]};a.publicImages={filterMN:[b],orderMN:{key:"category",value:Fa.StaticServerCategory.background,order:"DESC"}};a.patterns={filterMN:[b],orderMN:{key:"category",
value:Fa.StaticServerCategory.background,order:"DESC"}};null!=c&&(a.videos={filterMN:[b],orderMN:{key:"category",value:Fa.StaticServerCategory.background,order:"DESC"}},c=fr,a[c]=r.MediaListVideos[c].collectionSettings);a.solidColorSchemes={colors:d};a.solidColors={filter:[{key:"identifier",operator:"IN",value:sv()}]};return a}f=XM.prototype;f.Xp=function(a,b,c){this.o.Ad()!=b&&iM();c.ii===lE?Uq(Tq.j(),UC(c),c.K(),m(this.Ex,this,a,b,c),null,q.FilesystemPreviewSize.small):this.xq.apply(this,arguments)};
f.Ex=function(a,b,c){er(new br(b,UC(c),c.K()),m(this.Sy,this,a,b,c))};f.Sy=function(a,b,c,d){a=null;this.g?a=this.c.h:this.l&&(a=this.M.g);a&&(d=RG(a,d),this.xq(0,b,c,d))};
f.xq=function(a,b,c,d){switch(c.ja){case "solidColorSchemes":if(this.g)yN(this.c.h,c.getId());else if(this.l){var e=this.M.g;d=c.getId();e.view.lh(zN(e));AN(e,d,!0)}break;case "solidColors":if(this.g){e=this.c.h;d=ov(c.Jf,"section",TG(this.c.h));a=BN(e.f,CN);var g=DN(e,a,"wnd-background-solid");g.style.backgroundSettings["default"][a]={id:c.getId(),color:c.De,brightness:c.Jf,mediaType:c.ja||null};EN(g,a,d);FN(e,g);$k(g,e.ba(),{});Yi(e.f,g,!0);e.jm();GN(e);this.P&&rE(this.P.view)}else this.l&&(e=this.M.g,
e.view.lh(zN(e)),HN(e.view,c.De),d=ov(c.Jf),AN(e,d,!1),e=e.f,d=IN("wnd-background-solid"),d.backgroundSettings[JN()]={id:c.getId(),color:c.De,brightness:c.Jf,mediaType:c.ja||null},KN(d),Bg(Cg.j().get("template_styles"),d),LN(e));break;default:a="wnd-background-image";if("patterns"===c.ja)a="wnd-background-pattern";else if("videos"===c.ja||c.ja===fr)a="wnd-background-video";c.tb&&c.tb.getParent()?GG(this.o,FG(c.tb.getParent())):GG(this.o,c);if(this.g){e=this.c.h;d=ov(d,"section",TG(this.c.h));var h=
a,g=BN(e.f,CN);a=MN(e,c,!1,h);!1===(null!=a.style.background)&&(a.style.background={});!1===(null!=a.style.background["default"])&&(a.style.background["default"]={});a.style.background["default"][g]=h||"";var k=c.si;null==k&&("wnd-background-pattern"===h?FN(e,a):(h=a,EN(h,g,d),NN(e,h,"effects",g),NN(e,h,"overlays",g),NN(e,h,"position",g),NN(e,h,"attachment",g)));h=c.tb;null!=h?a.style.backgroundSettings["default"][g].cropDefinition=WG(h):(h=VG(c),null===h!==!0&&null!=a.style.backgroundSettings&&(a.style.backgroundSettings["default"][g].poster=
h));null!=k&&null!=a.style.backgroundSettings&&(a.style.backgroundSettings["default"][g].videoDefinition={sound:k.c,start:k.h});g=c;k=c.tb;null!=k&&(k=k.getParent(),null!=k&&"filesystem_files"==k.K()&&(g=k));k={"=dataType":g.K()};"my_videos"===g.K()?k["=videoId"]=g.getId():k["=imageId"]=g.getId();$k(a,e.ba(),k);g=e.f.Rf();Yi(e.f,a,!0);d&&g!==d&&e.jm();this.P&&rE(this.P.view)}else if(this.l){d=this.M.g;ON(d,c,a);if(g=ov())d.view.Dh(g,PN()),QN(d.f,""+g,!1,!1);g=RN("effects");null!=g&&SN(d,"effects",
g,!0);g=RN("overlays");null!=g&&SN(d,"overlays",g,!0);g=RN("position");null!=g&&SN(d,"position",g,!0);g=RN("attachment");null!=g&&SN(d,"attachment",g,!0);"wnd-background-pattern"===a&&(g=(new YD).Ga("none"),SN(d,"effects",g,!0),SN(d,"overlays",g,!0));g=d.f;a=TN(c,!1,a);k=c.tb;null!=k?(e=k.getParent(),a.backgroundSettings[JN()].cropDefinition=WG(k)):(k=VG(c),null===k!==!0&&(a.backgroundSettings[JN()].poster=k));e&&"filesystem_files"==e.K()?KN(a,"filesystem_files",e.getId()):"filesystem_files"==c.K()?
KN(a,"filesystem_files",c.getId()):KN(a);Bg(Cg.j().get("template_styles"),a);LN(g);UN(d)}}VN(this,UG(c.ja));WN(this);if(La(t.visibleRelease,"contextHelp")&&VC(c))b=this.c.ua(),this.c.ea===b?requestAnimationFrame(m(this.bq,this,c)):(fC(this.c,"onAnimateResizeEnd",m(this.bq,this,c),this),this.c.Lc(this.c.ua()));else if(La(t.visibleRelease,"premium_content"))try{var p,w;this.g?(p=Vh(Cg.j().get("content_items")).getData(this.c.h.C()),w="content_items"):this.l&&(p=L.j().get("template_styles").getData(),
w="styles");l(p)&&l(w)&&TM(new SM,p,w)}catch(v){if(v instanceof QM){c=this.J;p=E.j();w="wnd_premium_bubble_"+v.getId();b=c.view.$c(b);e="";switch(v.getId()){case 2003:e="Background videos are only available with a Mini, Standard or Profi Premium Plan. The selected video will not play on the published website."}c.l=fM(p,w,b,null,{hideAllBeforeShow:!1,hideOnClick:!0,showOnceTime:!0,text:e,extendCssClass:"wnd-info-premium"});Ra.kc("open_premium_popup",{data:{type:v.getMsg()}});c.l.Ya()&&(b=new hi("UpdatePremiumContent",
1),gr(Qh.j(),b),p=Cg.j().get("server_projects"),c=m(c.gx,c),p.c("",{"server_projects.premium_content":1},null,c,b))}}};f.Y=function(a){XM.m.Y.call(this,a);if("filesystem_files"==a.K()&&"dataDelete"==a.getType()&&"children_propagation"==a.h&&this.o&&this.o.g&&this.ea&&this.ea.Ra()){var b=this.o.g;"filesystem_files"==b.K()&&b.getId()==a.g&&this.ea.hide(null,!0)}};
f.bq=function(a){var b=this.J.$c(a.getId());null==b&&a.tb&&a.tb.getParent()&&(b=this.J.$c(a.tb.getParent().getId()));null!=b&&(this.ea=fM(E.j(),"wnd_premium_bubble_image_low_resolution",b,null,{hideAllBeforeShow:!1,hideOnClick:!0,showOnceTime:!1,text:"The resolution of the selected image is too low to use as a section background.",extendCssClass:"wnd-info-premium"}))};f.Kv=function(){this.g?this.c.hide(null,!0):this.l&&Zz(this.M).hide(null,!0)};
f.qv=function(a,b,c){this.J.Qd(b,c);null!=this.c&&dN(this.c,this.J,this.ka+"general",this.c.ua());xF(this.c)};function fN(a){if(a.g){var b=lv(a.c.h),c=[];z(b,function(a,b){qv(b,"section",TG(this.c.h))||("none"===a.backgroundType?c.push(RC(QC(KC(ZD(LC((new YD).Ga(b),a.color),nE),"solidColorSchemes"),"wnd-bgr-fx wnd-overlay-none"),a.backgroundType)):c.push(RC(KC(ZD(LC((new YD).Ga(b),a.color),kE),"solidColorSchemes"),a.backgroundType)))},a);return c}return a.l?XN(a.M.g):[]}
function gN(a){return a.g?a.c.h.getStyle("colorScheme"):a.l?PN():null}f.Rw=function(a,b){if(this.g)yN(this.c.h,b);else if(this.l){var c=this.M.g;c.view.lh(zN(c));AN(c,b,!0)}null!=this.J&&rE(this.J.view);VN(this,[]);WN(this)};function iN(a){return PG(a.o,"effects","effect",a.g?TG(a.c.h):null)}f.Sw=function(a,b,c){c.ii===lE?Uq(Tq.j(),UC(c),c.K(),m(this.yq,this,a,b,c),null,q.FilesystemPreviewSize.small):this.yq.apply(this,arguments)};
f.yq=function(a,b,c){this.U=c;a=KG(this.o);R(this.I.view.fb,"loading",!0);if(F(We(dr),b))if(this.w[a.getId()])b=this.U.getId(),c=this.w[a.getId()][b],null!=c?Uq(Tq.j(),UC(c),c.K(),m(this.Zk,this,c),null,q.FilesystemPreviewSize.small):"filesystem_files"===a.K()&&Uq(Tq.j(),UC(a),a.K(),m(this.lo,this,b));else a:{b=m(this.gw,this);c=KG(this.o);a=c.getId();c=c.K();var d={filter:[]};switch(c){case "filesystem_files":d={filter:[{key:"filesystem_files.parent_file_id",operator:"=",value:a}]};break;case "static_server":d.id=
a;break;default:break a}L.j().get(c,d).Ea(b)}else this.g?YN(this.c.h,a):this.l&&ZN(this.M.g,a),$N(this),lN(this),aO(this)};
f.gw=function(a,b,c,d){if(l(b)&&l(d)&&l(d.order)){var e=KG(this.o),g=e.getId(),h=e.K(),k=this.U.getId();c=a=null;d=0;bO(this,g);if("filesystem_files"===h)cO(this,g,b),this.w[g][k]||(a=e,c=m(this.lo,this,k));else if("static_server"===h&&(dO(this,e,b),!this.w[g][k]))throw new Pa("Image effect #"+k+" doesn't exist for hash #"+g);this.w[g][k]&&(a=this.w[g][k],c=m(this.Zk,this,a),d=q.FilesystemPreviewSize.small);null!=a&&(b=a.cb?a.cb:a.ya(),Uq(Tq.j(),b,a.K(),c,null,d))}};
function bO(a,b){a.w[b]||(a.w[b]={});var c=iN(a);z(c,function(a){a=a.getId();F(We(dr),a)&&!l(this.w[b][a])&&(this.w[b][a]=null)},a)}function cO(a,b,c){var d=null;z(c,function(a){d=a["filesystem_files.effect"];F(We(dr),d)&&(this.w[b][d]=SC(PC(NC((new JC).Ga(a["filesystem_files.id"]).Ab("filesystem_files"),a["filesystem_files.src"]),a["filesystem_types.mime_type"]),a["filesystem_files.name"]).setWidth(a["filesystem_files.width"]).setHeight(a["filesystem_files.height"]))},a)}
function dO(a,b,c){var d=b.getId(),e=b.ja;z(c,function(a){z(a.effects,function(b,c){F(We(dr),c)&&(this.w[d][c]=KC(SC(PC(NC((new JC).Ga(b.hash).Ab("static_server"),b.path),a.mime),a.name).setWidth(a.width).setHeight(a.height),e),"videos"===e&&OC(this.w[d][c],b.poster))},this)},a)}f.lo=function(a){yh(this.xa,a);var b=KG(this.o),c=b.getId(),d=jn(b.ya()),d=a+"_"+c+"."+d,e=ir(new br(c,b.ya(),b.K()),a,b.Qc),g=new WC;g.w=c;g.J=a;g.G=!1;hD(g,e,b.Qc,d);g.observe("onComplete",m(this.kx,this,a),this);YC(g)};
f.kx=function(a,b,c){b=KG(this.o);this.w[b.getId()]||(this.w[b.getId()]={});this.w[b.getId()][a]=c;dg(this.xa,a);D(this.xa)&&Uq(Tq.j(),UC(c),c.K(),m(this.Zk,this,c),null,q.FilesystemPreviewSize.small)};
f.Zk=function(a){var b=po(a.ya(),a.K()),c=null;this.g?c=this.c.h.wd():this.l&&(c=this.M.g.wd());var d=(new YD).Sd(c),c=d.ja;c||(d.ie?c=d.ie.getParent().ja:d.tb&&(c=d.tb.getParent().ja));d=this.U.ie;b=MC(NC(PC(KC((new YD).Ga(a.getId()).Ab(a.K()),c).setHeight(a.getHeight()).setWidth(a.Ma()),a.Qc),a.ya()),b);b.c=this.U;b=aE(b,d);a.cb&&OC(b,a.cb);this.g?YN(this.c.h,b):this.l&&ZN(this.M.g,b);$N(this);lN(this);aO(this)};function jN(a){return a.g?a.c.h.Ec("effects"):a.l?a.M.g.Ec("effects"):""}
function nN(a){return PG(a.o,"overlays","overlay",a.g?TG(a.c.h):null)}function oN(a){return a.g?a.c.h.Ec("overlays"):a.l?a.M.g.Ec("overlays"):""}f.Vw=function(a,b,c){this.g?(a=this.c.h,Yi(a.f,{style:eO(a,c,"overlays")}),fO(a)):this.l&&(a=this.M.g,SN(a,"overlays",c,void 0),UN(a));$N(this);lN(this);aO(this)};function qN(a){return PG(a.o,"position","position",a.g?TG(a.c.h):null,!0)}function rN(a){return a.g?a.c.h.Ec("position"):a.l?a.M.g.Ec("position"):""}
f.Ww=function(a,b,c){this.g?(a=this.c.h,a.f.Ue=!0,Yi(a.f,{style:eO(a,c,"position")})):this.l&&SN(this.M.g,"position",c,void 0);$N(this)};function tN(a){return a.g?gO(a.c.h):a.l?hO(a.M.g):[]}function uN(a){return a.g?a.c.h.Ec("attachment"):a.l?a.M.g.Ec("attachment"):""}f.Pw=function(a,b,c){this.g?(a=this.c.h,a.f.Ue=!0,Yi(a.f,{style:eO(a,c,"attachment")})):this.l&&SN(this.M.g,"attachment",c,void 0);$N(this)};
function wN(a){return a.g?[$D(ZD(QC((new YD).Ga("crop-image"),"wnd-image-transforms"),pE),QG())]:a.l?[$D(ZD(QC((new YD).Ga("crop-image"),"wnd-image-transforms"),pE),QG())]:[]}function lN(a,b){var c=iN(a);null===c||null===a.I||a.I.Qd(c,jN(a),b)}function aO(a,b){var c=nN(a);if(null!==c&&null!==a.S){var d=oN(a)||"none";a.S.Qd(c,d,b)}}
function VN(a,b){var c;!(c=!F(b,"transform"))&&(c=null!==a.o)&&(c=a.o,c=null===c.g?!1:(c.g.ja==Uj||"publicImages"==c.g.ja)&&c.g.Ma()>r.CropImagePopup.image.minSize&&c.g.getHeight()>r.CropImagePopup.image.minSize);c||dg(b,"transform");a.D=b}
function WN(a){if(null!=a.J){var b=a.J.view;null!=b.vc&&S.aa(b.vc,!D(a.D))}null!=a.I&&(F(a.D,"effects")?(a.I.show(),lN(a,!0)):a.I.hide());null!=a.S&&(F(a.D,"overlays")?(a.S.show(),aO(a,!0)):a.S.hide());null!=a.F&&(F(a.D,"position")?(a.F.show(),a.F.Qd(qN(a),rN(a),!0)):a.F.hide());null!=a.ha&&(F(a.D,"attachment")?(a.ha.show(),a.ha.Qd(tN(a),uN(a),!0)):a.ha.hide());null!=a.T&&(F(a.D,"transform")?a.T.show():a.T.hide());null!=a.R&&(F(a.D,"video_settings")?a.R.show():a.R.hide())}
function $N(a){a.g?iO(a.c.h):a.l&&jO(a.M.g)};function kO(a,b,c){oK.call(this,a,b,c);this.l=[qi(ni(li(new ki,VE),m(this.D,this)),!0)]}n(kO,oK);kO.prototype.D=function(){cM();this.w()};I.j().register("wnd.pc.FeFooter",yk,nK,kO);function lO(a,b,c){tz.call(this,a,b,c)}n(lO,tz);var NH=!1;f=lO.prototype;f.Pa=function(){if(!1===l(this.o)){var a={};null!=P(this.f,"toolbox")&&(a=P(this.f,"toolbox"));this.o=E.j().create("wnd.ui.Toolbox",this.C()+"_toolbox",this.bb(),this,{withOverlay:!1},a);this.o.observe("removeConfirm",m(this.Zq,this,!0),this);this.o.observe("removeCancelled",m(this.Zq,this,!1),this);this.o.observe("overToolbox",m(this.rw,this),this);this.o.observe("outToolbox",m(this.qw,this),this)}return this.o};
f.pa=function(a){lO.m.pa.call(this,a)};f.rw=function(){IK(this);kr.j().pause("addContent",!0);kr.j().pause("sectionToolbox",!0)};f.qw=function(){tr(kr.j())};function IK(a,b){var c=xH.j().c;1==(c&&c.Ha()&&(c.C()!==a.C()||c.Da()!==a.Da()))&&xH.j().h(b)}f.Wa=function(a,b){!0===NH||this.f.selected||null!=Qz||(a&&(this.g=a),b||IK(this),0==this.Ha()&&this.Pk())};f.Pk=function(){this.f.active=!0;xH.j().c=this;this.resize()};
f.pb=function(a,b,c){null!=a&&a!==this.g||this.f.selected&&!c||(!this.g&&a&&(this.g=a),1==this.Ha()&&this.pl(b))};f.pl=function(){this.f.active=!1;this.o&&this.o.hide();this.o&&this.o.hide()};f.resize=function(){};f.$a=function(a){this.f.selected=a};f.Da=function(){return this.g};f.Ha=function(){return this.f.active};function mO(a,b){var c=new T(a.clientX,a.clientY);return c.x>b.left&&c.x<b.left+b.width&&c.y>b.top&&c.y<b.top+b.height}
f.Zq=function(a){var b=kr.j();a?(this.Da().$i(),b.pause()):tr(b);this.view.xi(a)};
function nO(a,b,c){if(!(a.g.Z instanceof VJ))if(b){cg(a.Pa(),a.g.Ja(),c,uK(a.g),a.g.Lq,a.g.Nd());c=sK(a.g);b=a.Pa();c=c.width;var d=r.Toolbox.expandedArea.offset,e=r.Toolbox.expandedArea.minWidth,g=r.Toolbox.expandedArea.maxWidth,h=S.oa(b.B());c=c-h.width-2*d;c<e?c=e:g<c&&(c=g);b=b.view;null!=b.w&&(b.w.style.width="calc(100% + "+c+"px)",b.w.style.left=-(c/2)+"px");a.Da()instanceof oO&&(a=a.Pa(),b=x["wnd.pc.FromBlock"].toolbox.expandedArea.height,a.U=b,UF(a.view,b))}else a.o&&a.o.hide()};function tH(a,b,c){tz.call(this,a,b,c)}n(tH,lO);f=tH.prototype;f.O=function(){tH.m.O.call(this);if(!1===Wp)for(var a in Ta)this.c.H(this.view.g[Ta[a]],gq,m(this.pb,this,null)),this.c.H(this.view.g[Ta[a]],hq,m(this.Jy,this)),this.c.H(this.view.g[Ta[a]],U,m(this.$r,this))};f.Jy=function(){this.g&&this.g.Xq()};f.Pk=function(){tH.m.Pk.call(this);var a=this.view,b=this.g,c,d,e;for(e in Ta)c=Ta[e],d=a.g[c],R(d,"movable",b.qe()),c=a.getZIndex(b,c),d.style.zIndex=c,d.style.opacity=1,S.aa(d,!0);this.view.Om(this.g.Nd())};
f.pb=function(a,b,c){tH.m.pb.call(this,a,b,c);0==this.Ha()&&b&&vK(this.view,!0)};f.pl=function(a){var b=!0;a&&(b=0==mO(a,pO(this)))&&(b=S.Zb(document),b=0==mO(a,(new pm(this.f.Mc.left-b.x,this.f.Mc.top-b.y,this.f.Mc.width,this.f.Mc.height)).round()));b&&(sF()||qO(this)||tr(kr.j()),tH.m.pl.call(this),vK(this.view))};function qO(a){var b=!1;z(fH(),function(a){a instanceof rO&&null!=a.g&&a.g.Ra()&&(b=!0)},a);return b}f.$r=function(a){this.g&&null==Qz&&this.g.Th()&&(this.g.Wa(a),a.stopPropagation())};
f.resize=function(){if(1==this.Ha()){var a=0;this.Da().qe()&&(a=x.Hover.width);var b,c=this.view;c.o||(c.o=S.Ng(Ex()));b=c.o;c=sK(this.g);a/c.height*100>x.Hover.maxSize&&(a=c.height*x.Hover.maxSize/100);var d=S.bc(this.g.B()),e=d.bottom>a?d.bottom:a,g=d.top>a?d.bottom:a,h=d.right>a?d.right:a,k=c.height,p=c.width;b=c.top-b.top;var w=c.left,v=new T(w+p-h,b),h=new De(h,k),C=new T(w,b),G=new T(w,b+k-e),J=new De(p,g),e=new De(p,e);wK(this.view,"left",new T(w,b),new De(d.left>a?d.left:a,k));wK(this.view,
"top",C,J);wK(this.view,"right",v,h);wK(this.view,"bottom",G,e);this.f.wf=new pm(c.left,c.top,c.width,k);this.f.Mc=new pm(w,c.top,p,g);this.Pa().f.rd=new pm(C.x,C.y,p,k);this.f.selected&&iG(this.Pa())}};f.$a=function(a,b){if(this.g){var c=!1;this.Da()instanceof BL&&(c=!0);nO(this,a,c);this.view.$a(a);tH.m.$a.call(this,a,b)}else new Pa("Hover #"+this.C()+" without reference to contentBlock. Selected: "+a)};
function pO(a){var b=S.Zb(document);return(new pm(a.f.wf.left-b.x,a.f.wf.top-b.y,a.f.wf.width,a.f.wf.height)).round()}I.j().register("wnd.pc.BaseHover",Ak,tK,tH);function sO(a,b,c){tz.call(this,a,b,c)}n(sO,lO);sO.prototype.resize=function(){if(1==this.Ha()){var a=S.getBounds(this.Da().B()),b=this.Da().bc();a.left+=b.left;a.top+=b.top;a.width-=b.left+b.right;a.height-=b.top+b.bottom;this.Pa().f.rd=a}};sO.prototype.pb=function(a,b,c){var d=this.Da();d&&mG(d)||sO.m.pb.call(this,a,b,c)};
sO.prototype.$a=function(a,b){if(this.g){if(a&&(this.f.active=!0,!1===this.g.Z instanceof VJ)){var c=S.getBounds(this.Da().B()),d=this.Da().bc();c.left+=d.left;c.top+=d.top;c.width-=d.left+d.right;c.height-=d.top+d.bottom;this.Pa().f.rd=c}nO(this,a,!1);sO.m.$a.call(this,a,b)}else new Pa("Hover #"+this.C()+" without reference to contentBlock. Selected: "+a)};I.j().register("wnd.pc.ButtonHover",zk,rK,sO);function tO(a,b,c){tz.call(this,a,b,c);this.V=new Oz;this.V.T=!1;this.l={va:null,step:0}}n(tO,tH);f=tO.prototype;f.pa=function(a){tO.m.pa.call(this,a);Sz(this.V,Ex());this.V.Ka(this.view.g.resize.left);this.V.Ka(this.view.g.resize.right);this.V.Ka(this.view.g.resize.bottom);this.V.observe("onDragstart",this.Wy,this);this.V.observe("onDragend",this.Vy,this);this.V.observe("onMouseMove",this.Xy,this);this.V.init()};
f.O=function(){tO.m.O.call(this);z(this.view.g.resize,function(a){this.c.H(a,"mouseover",m(this.Zy,this));this.c.H(a,gq,m(this.Yy,this))},this)};f.Zy=function(){IK(this);kr.j().pause("addContent",!0)};f.Yy=function(){tr(kr.j())};f.Wy=function(a,b){this.w=ky(b.Bb,"wnd_resize_type");"bottom"==this.w?xJ("VerticalResize").show():"left"!=this.w&&"right"!=this.w||xJ("HorizontalResize").show();this.$a(!0);this.Da().di(!0)};
f.Vy=function(){"bottom"==this.w?xJ("VerticalResize").hide():"left"!=this.w&&"right"!=this.w||xJ("HorizontalResize").hide();mG(this.Da())||(this.$a(!1),this.pb());this.l={va:null,step:0};this.Da().di(!1);this.Da().ra(!0)};
f.Xy=function(){if("bottom"==this.w){var a=this.V.Xc(),b=Math.floor(a.lb.difference/x.ContentResizeStripe.minDifference);null===this.l.va||this.l.va===a.lb.va&&this.l.step===b?(this.l.va=a.lb.va,this.l.step=b,null===this.l.va&&this.Da().zc()):(this.l.va=a.lb.va,this.l.step=b,this.Da().Yn(a.lb.va,b))}else if("left"==this.w||"right"==this.w){var a=this.V.Xc(),c=this.Da(),d=c.Z,b=null,e=!1;!wJ(d)||c instanceof CL&&DL(c)||("left"==this.w?(b=d.jb?d.jb:d,e=!d.jb):(b=d.Ib?d:d.jb,e=!d.Ib));c=Math.floor(a.Qa.difference/
x.ContentResizeStripe.minDifference);null===this.l.va||this.l.va===a.Qa.va&&this.l.step===c?(this.l.va=a.Qa.va,this.l.step=c,null===this.l.va&&(b?b.yg=yJ(b):this.Da().zc())):(this.l.va=a.Qa.va,this.l.step=c,b?(e&&(c*=-1),zJ(b,a.Qa.va,c)):this.Da().Zn(a.Qa.va,c,this.w))}this.resize()};f.$a=function(a,b){if(this.g){var c=b||[];uO(this.g)&&c.push("edit");tO.m.$a.call(this,a,c);this.g.Xg()&&zK(this.view,a)}else new Pa("Hover #"+this.C()+" without reference to contentBlock. Selected: "+a)};
I.j().register("wnd.pc.EditHover",Bk,xK,tO);function KM(a,b,c){c&&(this.Z=c,AL(this)&&uO(AL(this))&&(a.options.ec=!0,a.options.Fd=!0),this.Z instanceof KM&&(this.gb=kv(this.Z),this.Ia=vO(this.Z),this.Ca=wO(this.Z)));tz.call(this,a,b,c);this.view.Wg()||this.Yd();this.M=!0;this.w=this.dk=null;this.xa=!0;this.view.observe("onCreateBlock",m(this.notify,this,"onCreateBlock",this.getId()),this);xO(this,"zIndex");xO(this,"isFixed")}var yO;n(KM,mB);f=KM.prototype;f.jb=null;f.Ib=null;f.Xj=!1;f.gj=null;f.Lq="normal";
function sH(a){var b;a:{b=xH.j();var c=a.Ld();a=a.C();for(var d,e=1;e<=x.HoverManager.instNum;e++){d=c+(e?"_"+e:"");if(!b.g[d]){var g,h=x.HoverManager.type[c].properties;null!=h&&(g={properties:h});b.g[d]=I.j().create(d,x.HoverManager.type[c]["class"],Ex(),bg.j().get("wnd.pc"),g)}d=b.g[d];if(!d.f.selected||!d.Da()||d.Da().C()===a){b=d;break a}}b=null}return b}f.Ld=function(){return"PageBaseHover"};
f.Ja=function(){var a=[];this.qc()&&this.xa&&a.push(qi(ni(li(new ki,"remove-confirm"),m(this.Jc,this)),!0));return a};f.me=function(){return[]};function nm(a){return"block"==a.ic()}function EL(a){return"zone"==a.ic()}function wJ(a){return"column"==a.ic()}function zO(a){return"column_wrapper"==a.ic()}function MH(a){return"section"==a.ic()}f.qc=function(){return this.f.options.ec};f.Xg=function(){return this.f.options.mh};function uO(a){return a.f.options.editable}f.Th=function(){return this.f.options.Dc};
f.Ic=function(){return this.f.options.Oc};f.qe=function(){return this.f.options.Fd};f.Yl=function(){return!this.jb&&!this.Ib};f.Ct=function(){return this.Z};f.move=function(a,b,c){var d=a.C()==this.Z.C(),e=a.getId();d&&(e=null);b&&c&&b.Z==a?(this.view.move(a.Sa(),b.B(),c),this.f.move(e,b.getId(),c)):(this.view.move(a.Sa()),this.f.move(e));b=new H("contentMove",this);this.ca(b);b=I.j().get(this.Z.C());this.Z=a;Bi(this,a);d?AO(this.Z):(AO(a,"in"),AO(b,"out"));rv("wnd-redraw",this.B())};
f.X=function(){this.Yb();var a=this.Z;this.ab&&(this.ab=!1===eJ());KM.m.X.call(this);var b=new H("contentRemove",this);this.ca(b);a.Rc("data_deleted");rv("wnd-redraw",a.B());!1===(null===this.w)&&this.w.dispose();this.Vc()};
f.O=function(){KM.m.O.call(this);var a=this.B();a&&(this.Ic()&&(this.c.H(a,gq,m(this.Ly,this)),this.c.H(a,"mouseover",m(this.xe,this)),this.c.H(a,hq,m(this.Xq,this))),this.Th()&&(this.c.H(a,U,m(this.ae,this)),this.c.H(a,eq,m(this.Cc,this))),this.w=new Er(document.body),this.c.H(this.w,"key",m(this.Bk,this)),this.c.H(a,"wnd-redraw-done",m(this.ax,this)))};
f.Bk=function(a){if(!0===mG(this))switch(a.keyCode){case 46:case 8:if(this.qc()&&"INPUT"!==a.target.nodeName&&!1===this instanceof SG&&!1===this instanceof BO&&!1===this instanceof CO){if(this instanceof VJ||this instanceof oO)for(var b=tJ(this,!0),c=0,d=b.length;c<d;c++){var e=b[c];if(e instanceof CO&&mG(e))return}b=null;this.Ic()&&sH(this)&&(b=sH(this).o.je("remove-confirm"));!0===(null!=b)&&(b.click(),a.stopPropagation(),a.preventDefault())}break;case 27:sF()||this.Yb()}};
f.Xq=function(a){null!=a&&(this.dk=new T(a.clientX,a.clientY));this.xe(a)};f.xe=function(){null!=Qz||null!==eH||this.Ic()&&sH(this)&&sH(this).Wa(this)};f.Ly=function(a){null!=Qz||this.Ic()&&sH(this)&&sH(this).pb(this,a)};f.Cc=function(a){this.Xj=mG(this);yO=this;DO(this,this,a);mG(this)||this.Wa(a);return!0};f.ae=function(a){this.Th()&&(a.stopPropagation(),a.preventDefault());var b=this;yO&&(b=yO);yO=null;DO(this,b,a);this.Xj=!1;return!0};
function DO(a,b,c){z(fH(),function(a){mG(a)&&EO(b,a,c)},a)}function EO(a,b,c){var d=b.zl();if(!D(d))for(var e=0,g=d.length;e<g;e++)EO(a,d[e],c);b.C()!==a.C()&&D(b.zl())&&(b.Xj?c.stopPropagation():b.sb(c),b.Xj=!1)}f.zl=function(){return[]};f.Pd=function(){requestAnimationFrame(m(this.Vc,this),null)};f.Vc=function(){this.Ic()&&sH(this)&&sH(this).resize();var a=this.Z;a&&a instanceof KM?a.Vc():(a=xH.j(),a.c&&a.c.resize())};
f.$d=function(){if(this.Ic()){qH();var a=sH(this);a&&(a.Wa(this),a.$a(!0))}sL();Jg.j().c[this.C()]=this;a=this.Z;a.Th()&&a.$d()};f.sb=function(){delete Jg.j().c[this.C()];var a=sH(this);this.Ic()&&a&&(a.$a(!1),a.pb());this.jp()};f.jp=function(){null!==this.gj&&(this.gj.hide(null,!0),this.gj=null)};function mG(a){var b=fH(),c=!1,d;for(d in b)b[d].C()===a.C()&&(c=!0);return c}f.Yb=function(){var a=fH(),b=sH(this);if(rH(Jg.j()))b&&(this.Ic()?b.pb(this):IK(b,this.C()));else for(var c in a)a[c].sb()};
f.Jc=function(){sH(this)&&sH(this).pb(this,null,!0);Rz=!0;var a=new Bw(this.B(),x.ContentItem.fxDurationRemove);Vm(a,"end",m(this.dispose,this));a.play()};f.dispose=function(){KM.m.dispose.call(this);this.notify("onRemoveBlock",this.getId());Rz=!1};f.resize=function(){};f.Wc=function(){};f.Wa=function(a){if(!1===NH){var b=fH(),c;for(c in b){var d=b[c];d.C()===this.C()||UK(this)||d.sb(a)}this.$d(a)}};
function AL(a,b){for(var c=a.Z,d=null;c instanceof KM;){if(!0===EL(c)&&(!b||c.ba()==b)){d=c;break}c=c.Z}return d}function UK(a){a=a.Z;for(var b=null;a instanceof KM;){if(!0===("microtemplate_cell"==a.ic())){b=a;break}a=a.Z}return b}function FO(a){a=a.Z;for(var b=null;a instanceof KM;){if(a instanceof SG){b=a;break}a=a.Z}return b}function IM(a,b,c,d){c&&d?"left"==d||"top"==d?qp(a.B(),c):rp(a.B(),c):(a=a.B(),b.appendChild(a))}f.lg=function(){this.view.wi()};f.getContext=function(){return this.f.getContext()};
f.ax=function(){this.Vc();var a=new H("contentChange",this);this.ca(a)};f.Ua=function(a){KM.m.Ua.call(this,a);this.Ic()&&sH(this)&&sH(this).resize()};f.Y=function(a){KM.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==this.K()&&a.g==this.getId()&&this.f.update("data_updated",!1,a.A)};f.ma=function(a){KM.m.ma.call(this,a);if("resizeWindow"===a.getType()){var b=sH(this);this.Ic()&&b&&b.Ha()&&b.Da().C()==this.C()&&b.resize()}"columnResize"===a.getType()&&rv("wnd-redraw",this.B())};
f.getComputedStyle=function(a){return this.f.getComputedStyle(a)};f.Nd=function(){return this.f.Nd()};function uK(a){var b=a.f.getComputedStyle("zIndex");b||EL(a)||(b=uK(AL(a)));return b}
function xO(a,b){var c=a.f.getComputedStyle(b);if(null===c){var d,e=a.Z,g=e instanceof KM;g?(c=e.getComputedStyle(b),d=e.B()):d=Ex();var h=a.view,k=c;switch(b){case "isFixed":if(null===c||!1===c){c=null;h=h.B();x.WorkareaElementId==d.id&&(c=!1);if(h)for(;h&&d!=h;)if("fixed"===S.Bl(h)){c=!0;break}else h=zp(h);k=c}break;case "zIndex":if(null===c){c=null;h=h.B();x.WorkareaElementId==d.id&&(c=0);if(h)for(;h&&d!=h;)k=S.Go(h),h=zp(h),"auto"!=k&&(c=parseInt(k,10));k=c}}c=k;null===c&&g&&(c=xO(e,b));a.f.xf[b]=
c}return c}f.Im=function(){return!1};f.Yd=function(){};f.pa=function(a){KM.m.pa.call(this,a);!1===eJ()&&this.Yd()};f.Ak=function(){return this.f.Tc()};function kv(a){return MH(a)?a:a.gb}function vO(a){return"microtemplate_cell"==a.ic()?a:a.Ia}function wO(a){return"form_field"==a.ic()?a:a.Ca}f.Qo=function(){return this.dk};f.$i=function(){};function GO(a,b,c){this.Z=c;if(AL(this,"wnd.pc.BlogZone")||AL(this,"wnd.pc.BlogRecentPosts"))a.options.Oc=!1,a.options.editable=!1,a.options.Dc=!1;KM.call(this,a,b,c);this.ea=!1}n(GO,KM);f=GO.prototype;f.ic=function(){return"block"};f.Ld=function(){var a="PageBaseHover";0==this.M&&(a="ButtonHover");return a};f.di=function(a){this.ea=a};f.bc=function(){return this.view.bc()};f.xe=function(){0!=this.M&&GO.m.xe.call(this)};f.Cc=function(a){var b=GO.m.Cc.call(this,a);mG(this)&&a.stopPropagation();return b};
f.qc=function(){var a=this.f.options.ec;0==this.M&&(a=!1);return a};f.qe=function(){var a=this.f.options.Fd;0==this.M&&(a=!1);return a};function HO(a){var b=null;try{b=jv(a,a.Sf())}catch(d){}if(null===b)return[];var c=[];z(b,function(a,b){c.push(KC(ZD(LC($D((new YD).Ga(b),IO(b)),a),wE),"solidColorSchemes"))},a);return c}
function IO(a){var b="";switch(a){case "claim-default":case "logo-default":b="Basic text";break;case "claim-default-inv":case "logo-default-inv":b="Basic text inverted";break;case "claim-bg":case "logo-bg":b="White background";break;case "claim-bg-inv":case "logo-bg-inv":b="Black background";break;case "claim-color":case "logo-color":b="Colored background";break;case "claim-color-inv":case "logo-color-inv":b="Colored text with background";break;case "claim-color-text":case "logo-color-text":b="Colored text";
break;case "claim-color-alpha":case "logo-color-alpha":b="Transparent color background";break;case "claim-gray":case "logo-gray":b="Transparent gray background";break;case "claim-borders":case "logo-borders":b="With borders";break;case "button-01":b="Style 1";break;case "button-02":b="Style 2";break;case "button-03":b="Style 3";break;case "file-01":b="Style 1";break;case "file-02":b="Style 2";break;case "file-03":b="Style 3";break;default:b=a}return b}
function JO(a,b){var c="",d=a.f.getData();l(d.style)&&l(d.style.cssClasses)&&l(d.style.cssClasses[b])&&(c=d.style.cssClasses[b]);return c}f.wu=function(){var a=HO(this);if(!D(a)){var b=!1,c=JO(this,"color");u(a,function(a){a.getId()===c&&(b=!0)},this);!1===b&&KO(this,a[0].getId())}};function LO(a,b){a.style={cssClasses:{color:b}};return a}f.Zj=function(a,b){KO(this,b)};function KO(a,b){Yi(a.f,LO({},b))}
f.kf=function(){GO.m.kf.call(this);if(this.f.options.Gd){var a=jv(this,this.Sf());null===a||KO(this,Te(a))}};f.ma=function(a){GO.m.ma.call(this,a);this.f.options.Gd&&"colorSchemeChange"==a.getType()&&setTimeout(m(this.wu,this),100)};
f.Ja=function(){var a=[];if(this.f.options.Gd){var b=HO(this);D(b)||a.push(wi(ti(ni(oi(li(new ki,dG),"Style"),m(this.Zj,this)),b).$a(JO(this,"color")),x.ContentBlock.dropdownHeight.changeStyle))}this.f.options.Vk&&a.push(ti(ni(oi(li(new ki,fG),"Align"),m(this.Lu,this)),[ZD($D(new YD,"Left").Ga(x.ContentBlock.alignCssClass.left),wE),ZD($D(new YD,"Center").Ga(x.ContentBlock.alignCssClass.center),wE),ZD($D(new YD,"Right").Ga(x.ContentBlock.alignCssClass.right),wE)]).$a(JO(this,"align")));return Ah(a,
GO.m.Ja.call(this))};f.Lu=function(a,b){var c=this.f.l;this.f.l=!1;Yi(this.f,{style:{cssClasses:{align:b}}});this.f.l=c};function MO(a,b,c){GO.call(this,a,b,c)}n(MO,GO);I.j().register("wnd.pc.HrLineBlock",Cq,pI,MO);function NO(a,b,c){GO.call(this,a,b,c);this.g=!1}n(NO,GO);f=NO.prototype;f.Ld=function(){return"PageBaseHover"};f.O=function(){NO.m.O.call(this);var a=this.B();this.c.H(a,"wnd-open-menu",m(this.$p,this,!0));this.c.H(a,"wnd-close-menu",m(this.$p,this,!1));this.c.H(a,"mouseover",m(this.uz,this));this.c.H(a,gq,m(this.sz,this));this.c.H(a,U,m(this.rz,this))};f.$p=function(a){this.g=a;a||(tr(kr.j()),$f.j().h=!0)};f.uz=function(){this.g&&(kr.j().pause("addContent",!0),kr.j().pause("sectionToolbox"),$f.j().pause())};
f.sz=function(){this.g||(tr(kr.j()),$f.j().h=!0)};f.rz=function(){this.ca(new H("saveContentItems",this))};f.Y=function(a){NO.m.Y.call(this,a);"gui_pages"==a.K()&&Eq(this.f,function(){this.f.update("data_updated")},this)};I.j().register("wnd.pc.MenuBlock",Dq,qI,NO);function OO(a,b,c){GO.call(this,a,b,c);this.g=this.l=0;this.D={length:0,text:""};"wnd.pc.PageZone"==this.Z.ba()&&this.f.Rm(!1);c instanceof PO&&a.Pm(c.zj())}n(OO,GO);OO.prototype.Y=function(a){var b=a.c;if("wnd.pc.PageZone"==this.Z.ba()&&null!=b&&"wnd.pc.TextBlock"===b.ba())vz(this,m(this.I,this,a));else{OO.m.Y.call(this,a);for(var b=this.Z,c=null;b instanceof KM;){if(b instanceof FL){c=b;break}b=b.Z}(b=c)&&"dataUpdate"==a.getType()&&a.K()==b.K()&&a.g==b.getId()&&this.f.update("data_updated")}};
OO.prototype.ma=function(a){var b=a.c;"wnd.pc.PageZone"==this.Z.ba()&&null!=b&&"wnd.pc.TextBlock"===b.ba()?vz(this,m(this.I,this,a)):OO.m.ma.call(this,a)};OO.prototype.I=function(a){QO(this,a.c)};
function QO(a,b){var c=kv(b).getParent(),d="";a.D={length:0,text:""};Om(tJ(c,!0),function(a){if("wnd.pc.TextBlock"===a.ba()){var b=a.Uf();D(b)&&a.Og().firstElementChild&&(b=[a.Og().firstElementChild]);if(!D(b)&&(b=b.filter(m(this.S,this)),Om(b,function(a){var b;""==a.innerHTML.replace(/&nbsp;/gi," ").trim()?b="":(b=a.innerHTML.trim(),b=b.replace(RegExp("<(?!/?(var|b|i|strong|em|a|code|br|sub|sup|small|big|s|strike|tt|font)( .*?>|>)).*?>","g"),""),a=mp(a.tagName),a.innerHTML=b,this.g=this.l=0,b=RO(this,
a).innerHTML.replace(/&nbsp;/gi," ").replace(/\s+/g," ").trim(),a.innerHTML=b,b=a.outerHTML,this.g<x.PerexBlock.minChars&&(this.D.length<this.g&&(this.D={length:this.g,text:b}),b=""));if(d=b)throw Lm;},this),d))throw Lm;}},a);!d&&a.D.text&&(d=a.D.text);N(a.f,"text")!==d&&Xi(a.f,"text",d)}OO.prototype.S=function(a){return 0<="p h1 h2 h3 h4 h5 h6 blockquote".split(" ").indexOf(a.tagName.toLowerCase())};function SO(){return x.PerexBlock.wordsLimit}function TO(){return x.PerexBlock.charsLimit}
function RO(a,b){var c=b.cloneNode(!1),d=null,e="",g=0,h=0;if(a.l<SO()&&a.g<TO())for(var k=0,p=b.childNodes.length;k<p;k++)if(d=b.childNodes[k],e=a,g=d.textContent.replace(/(\r\n|\r|\n)/g," ").replace(/\s+/g," "),0==e.g&&(g=g.replace(/^[\s\xa0]+/,"")),e=g,g=e.length,h=e.trim().split(" ").length,a.g+g<TO()&&a.l+h<SO())a.g+=g,a.l+=h,c.appendChild(d.cloneNode(!0));else{if(3==d.nodeType){k=a;p="";p=e.split(" ");for(g=Math.min(p.length,SO()-k.l);e&&k.g+e.length>TO();)F(p,"")&&g--,p=Eh(p,0,g),e=p.join(" "),
g--;0<k.g+e.length?d=e+"...":(d=d.textContent,e=TO()-k.g,d.length>e&&(d=d.substring(0,e-3)+"..."));p=d;c.appendChild(document.createTextNode(String(p)))}else c.appendChild(RO(a,d));a.g=c.textContent.length;break}return c}I.j().register("wnd.pc.PerexBlock",Hq,rI,OO);function UO(a,b,c){GO.call(this,a,b,c)}n(UO,GO);f=UO.prototype;f.zc=function(){var a=S.Ng(this.view.B()).round();this.f.sh=a;a=S.oa(this.view.B()).round();this.f.wa=a;a=S.df(Ex()).round();this.f.Hn=a};f.Yn=function(a,b){var c;c=this.f.Kg()?this.f.Kg().height:this.f.wa.height;if(0!==b)switch(a){case "top":c=c-b;break;case "down":c+=b}c=parseFloat(c.toFixed(2));this.nm(c);return!0};f.nm=function(a){this.f.Bh(null,a)&&(a=this.f.T,this.view.Sa().style.paddingBottom=a+"%")};
f.Zn=function(a,b,c){var d=this.f.wa.width;0!==b&&(c==a?d+=2*b:d=d-2*b);d=parseFloat(d.toFixed(2));this.f.Kf(d);uI(this.view,this.f.w);return!0};f.move=function(a,b,c){UO.m.move.call(this,a,b,c);this.Xg()&&!1===eJ()&&this.resize(!0)};f.pa=function(a){UO.m.pa.call(this,a);eJ()||!0===(null!=kv(this))&&P(kv(this).f,"newSection")||this.ck()};f.ck=function(){};function VO(a,b,c){GO.call(this,a,b,c)}n(VO,UO);VO.prototype.xe=function(){VO.m.xe.call(this);if(!1===(null!=Qz)){var a=this.view;!0!==a.F&&(!0===(null===a.o)?(S.setStyle(a.c,"position","relative"),a.o=ip("div",{"class":"wnd-embed-overlay"}),a.c.appendChild(a.o)):(S.aa(a.o,!0),a.F=!0))}};VO.prototype.Wc=function(){wI(this.view)};I.j().register("wnd.pc.EmbedBlock",Lq,vI,VO);function WO(a,b,c){GO.call(this,a,b,c);this.g=!0}n(WO,VO);f=WO.prototype;f.Ja=function(){var a=[];uO(this)&&a.push(qi(ni(li(new ki,"edit"),m(this.Wc,this)),!0));return Ah(a,WO.m.Ja.call(this))};f.pa=function(a){WO.m.pa.call(this,a);this.g&&1==P(this.f,"createdFromMenu")&&(this.g=!1,a=E.j().create("wnd.pc.HtmlPopup",this.C()+"_popup_html",document.body,this,{},{blockId:this.C()}),fC(a,"onClose",this.hz,this),requestAnimationFrame(m(this.yu,this,a),null))};f.yu=function(){this.$d()};f.hz=function(){this.dispose()};
f.Wc=function(a){WO.m.Wc.call(this,a);a.stopPropagation();this.Yb();uO(this)&&E.j().create("wnd.pc.HtmlPopup",this.C()+"_popup_html",document.body,this,{},{blockId:this.C()})};I.j().register("wnd.pc.HtmlBlock",Mq,xI,WO);function XO(a,b,c){GO.call(this,a,b,c)}n(XO,VO);f=XO.prototype;f.Ld=function(){var a="PageEditHover";0==this.M&&(a="ButtonHover");return a};f.Ja=function(){var a=[];uO(this)&&a.push(ui(qi(mi(li(new ki,"edit-map"),this),!0),m(this.Ks,this)));return Ah(a,XO.m.Ja.call(this))};f.Ks=function(a){return I.j().create(this.C()+"_edit_map","wnd.pc.EditMapForm",a.view.J,a,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0,width:x.EditMapForm.width}})};
f.ck=function(){this.zc();this.f.Bh(null,null,!0)&&this.ra()};f.Y=function(a){XO.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==this.K()&&a.g==this.Z.C()&&wJ(this.Z)&&(a=N(this.f,"style"),(0<a.margin.left||0<a.margin.right)&&Yi(this.f,{style:{margin:{left:0,right:0}}}))};f.ma=function(a){XO.m.ma.call(this,a);"colorSchemeChange"==a.getType()&&this.view.dc()};f.zc=function(){XO.m.zc.call(this);wI(this.view);this.f.Mm(this.view.Lh())};
f.nm=function(a){this.f.Bh(null,a)&&(a=this.f.T,this.view.Sa().style.paddingBottom=a+"%")};f.Xg=function(){return this.qc()&&this.f.options.mh};f.resize=function(a){this.zc();wJ(this.Z)?this.f.w={left:0,right:0}:Kq(this.f);uI(this.view,this.f.w);a&&this.ra()};f.Sf=function(){return"mapColors"};f.kf=function(){var a=this.f.options.Gd;this.f.options.Gd=!0;XO.m.kf.call(this);this.f.options.Gd=a};I.j().register("wnd.pc.MapBlock",Nq,DI,XO);function YO(a,b,c){GO.call(this,a,b,c)}n(YO,GO);YO.prototype.Y=function(a){YO.m.Y.call(this,a);"dataDelete"===a.getType()&&a.K()===r.FeLanguages.DataType&&t.page.langId!=a.g&&this.f.update("data_updated",!0)};I.j().register("wnd.pc.SelectFeLanguageBlock",Oq,EI,YO);function ZO(a,b,c){GO.call(this,a,b,c)}n(ZO,GO);I.j().register("wnd.pc.TableBlock",Pq,FI,ZO);function $O(a,b,c){GO.call(this,a,b,c);"wnd.pc.PageZone"==this.Z.ba()&&this.f.Rm(!1);c instanceof PO&&(b=a.isEmpty(),c.f.ad=b,a=null!=a.Kd(),c.f.ve=a);this.g=["wnd.pc.ImageBlock","wnd.pc.VideoBlock","wnd.pc.EditVideoForm","wnd.pc.PhotoImageBlock"]}n($O,GO);f=$O.prototype;
f.Y=function(a){var b=a.c;"wnd.pc.PageZone"==this.Z.ba()&&null!=b&&(F(this.g,b.ba())||b instanceof SG||this.f.isEmpty()&&b instanceof BL)&&("wnd.pc.EditVideoForm"===b.ba()&&(b=I.j().get(a.g)),vz(this,m(this.pr,this,b)));$O.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==this.K()&&a.g==this.getId()&&this.getParent()instanceof PO&&(a=this.getParent(),b=this.f.isEmpty(),a.f.ad=b,a=this.getParent(),b=null!=this.f.Kd(),a.f.ve=b,this.getParent().Rc("data_updated"))};
f.ma=function(a){var b=a.c;"wnd.pc.PageZone"==this.Z.ba()&&null!=b&&(F(this.g,b.ba())||b instanceof SG||this.f.isEmpty()&&b instanceof BL)&&vz(this,m(this.pr,this,b));$O.m.ma.call(this,a)};f.pr=function(a){aP(this,a)};
function aP(a,b){var c=null,d=null,e="",g=kv(b).getParent();Om(tJ(g,!0),function(a){switch(a.ba()){case "wnd.pc.ImageBlock":a=a.getImageData();c=qo(a.src)?null:{id:a.id,src:a.src,dataType:a.dataType,width:a.size.width||null,height:a.size.height||null,mediaType:bP(a.dataType),mime:""};e="wnd-background-image";break;case "wnd.pc.PhotoImageBlock":a=a.getImageData();c={id:a.id,src:a.src,dataType:a.dataType,width:a.width||null,height:a.height||null,mediaType:bP(a.dataType),mime:""};e="wnd-background-image";
break;case "wnd.pc.VideoBlock":a=a.getData(),c={id:"",src:a.url,dataType:"my_videos",mime:"",mediaType:fr,width:a.width,height:a.height,poster:{id:"",src:a.thumbnail_large,dataType:"my_videos",width:a.width,height:a.height}},e="wnd-background-video"}if(null!=c)throw Lm;},a);null===c&&(g=cP(a,g))&&(c=g.wd(),e=g.Ec("default"),d=g.Ec("overlays"));dP(a,c,e,d)}
function cP(a,b){var c=null,d=null,e=["publicImages","videos",Uj,fr];Om(tJ(b),function(a){c=a.wd();if(null!=c&&F(e,c.mediaType))throw d=a,Lm;},a);return d}function bP(a){var b=null;switch(a){case "filesystem_files":b=Uj;break;case "static_server":b="publicImages"}return b}
function dP(a,b,c,d){var e=fP,g=bf(a.f.getData());g.style={};null!=g.style.background||(g.style.background={});null!=g.style.background["default"]||(g.style.background["default"]={});c&&(g.style.background["default"][e]=c);null!=g.style.background.overlays||(g.style.background.overlays={});d&&(g.style.background.overlays[e]=d);null!=g.style.backgroundSettings||(g.style.backgroundSettings={});if(!l(g.style.backgroundSettings["default"])||ia(g.style.backgroundSettings["default"]))g.style.backgroundSettings["default"]=
{};null!=b&&(g.style.backgroundSettings["default"][e]=b,"filesystem_files"===b.dataType?(null!=g.refs||(g.refs={}),g.refs.filesystem_files=[{"filesystem_files.id":b.id}]):null!=g.refs&&null!=g.refs.filesystem_files&&delete g.refs.filesystem_files);Yi(a.f,g,!0)}f.Ua=function(a){$O.m.Ua.call(this,a);a=SH(this.f);null!=a&&Zq(Tq.j(),a,m(this.Tv,this))};f.Tv=function(){this.Vc()};I.j().register("wnd.pc.ThumbnailBlock",RH,GI,$O);function gP(a,b,c){GO.call(this,a,b,c)}n(gP,VO);f=gP.prototype;f.Ld=function(){var a="PageEditHover";0==this.M&&(a="ButtonHover");return a};f.Ja=function(){var a=hP(this);return Ah(a,gP.m.Ja.call(this))};f.me=function(){var a=hP(this);return Ah(a,gP.m.me.call(this))};function hP(a){var b=[];uO(a)&&b.push(ui(mi(li(new ki,"edit-video"),a),m(a.Ls,a)));return b}
f.Ls=function(a){return I.j().create(this.C()+"_edit_video","wnd.pc.EditVideoForm",a.view.J,a,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0}})};f.ck=function(){this.zc();Kq(this.f);this.ra()};f.zc=function(){gP.m.zc.call(this);wI(this.view)};f.nm=function(a){this.f.Kf(null,a);uI(this.view,this.f.w)};f.resize=function(a){this.zc();wJ(this.Z)?this.f.w={left:0,right:0}:Kq(this.f);uI(this.view,this.f.w);a&&this.ra()};f.getData=function(){return this.f.getData()};
I.j().register("wnd.pc.VideoBlock",Qq,HI,gP);function Jg(){A.call(this);this.c={};this.h=!1}n(Jg,A);ea(Jg);
Jg.prototype.create=function(a,b,c,d,e,g){var h;h=a.split(".");h="wnd_"+h[h.length-1]+"_"+Math.floor(1E5*Math.random());var k={id:h,create:{parentId:b.getId(),data:{}}};e&&(k.create.data=e);k.create.data.context=b.getContext();c&&d&&("right"==d||"bottom"==d?k.create.after=c.getId():k.create.before=c.getId());e=!1;!0===(null!=g)&&!0===(null!=g.noScrollIntoViewport)&&(e=g.noScrollIntoViewport,delete g.noScrollIntoViewport);g&&(k.properties=g);a=this.Ka(h,a,b,k);c&&d&&(IM(a,b.Sa(),c.B(),d),!1===e&&a.lg());
b.Rc("data_created");return a};Jg.prototype.Ka=function(a,b,c,d){d||(d={id:a});return Ng(I.j(),a)?I.j().get(a):I.j().create(a,b,c.Sa(),c,d)};function XK(a,b){return I.j().get(b)}function fH(){return Jg.j().c}function rH(a){return!0===Ye(a.c)}function Ig(a,b,c){var d=Cg.j().get("content_items"),e=Vh(d),g=e.getData(),h=bf(e.getData());df(g,b);c&&u(c,function(a){delete g[a]},a);Bg(d,g);e instanceof Ii&&e.fi();!1===a.h&&(a=iP(g,h),h=iP(h,g),sM(xC.j(),h,a))}
function iP(a,b){var c={dataType:"gui_pages",dataKey:"gui_pages.content_items",dataSettings:{id:t.page.id}},d=new Ef;Cf(d,a,b,c,"content_items");return d};function jP(a,b,c){al.call(this,a,b,c)}n(jP,al);jP.prototype.o=function(){var a=N(this,"content");return a?a:[]};jP.prototype.vf=function(){return this.vh};jP.prototype.vh=!1;function kP(a,b,c){al.call(this,a,b,c)}n(kP,jP);kP.prototype.na=function(){kP.m.na.call(this);this.options.editable=!0};kP.prototype.J="";kP.prototype.Tc=function(){var a=Wi(this).getData(this.J);return l(a.variant)?a.variant:"default"};function lP(a,b,c){al.call(this,a,b,c)}n(lP,jP);lP.prototype.na=function(){lP.m.na.call(this);this.options.Dc=!0};function mP(a,b,c){al.call(this,a,b,c)}n(mP,lP);function nP(a,b,c){al.call(this,a,b,c)}n(nP,jP);nP.prototype.na=function(){nP.m.na.call(this);this.options.editable=!0;this.options.Oc=!0;this.options.Dc=!0;this.options.ec=!0;this.options.Fd=!0};nP.prototype.o=function(){var a=N(this,"content");return a?a:[]};function oP(a,b,c){al.call(this,a,b,c)}n(oP,lP);function pP(a,b,c){al.call(this,a,b,c)}n(pP,jP);function qP(a,b){mI.call(this,a,b);this.R={};var c=this.f.getData();this.f.Gi=bf(c);this.w=null}n(qP,mI);f=qP.prototype;f.uk=null;f.Ud=null;f.gd=function(a,b,c){var d=!1;if(eJ())d=!0;else{var e=this.f.Gi,g;if(g=l(e.content)){a:{g=e.content;var h=this.f.o();if(ja(g)&&ja(h)&&g.length==h.length){for(var k=g.length,p=0;p<k;p++)if(g[p]!==h[p]){g=!1;break a}g=!0}else g=!1}g=g||!D(e.content)&&D(this.f.o())||D(e.content)&&!D(this.f.o())}g&&(d=!0)}d&&qP.m.gd.call(this,a,b,c);a=this.f.getData();this.f.Gi=bf(a)};
f.tg=function(){if(this.Sa()){this.uk=mp("div");var a=[];eJ()?u(this.f.o(),function(b){var c=Um(b);null===c&&Ng(I.j(),b)&&(c=I.j().get(b).B());null===c===!1&&a.push(c)},this):a=up(this.Sa());rP(this);op(this.uk,a)}qP.m.tg.call(this)};f.Nc=function(){qP.m.Nc.call(this);this.Ud=null;var a=this.Sa();this.uk&&a&&(op(a,up(this.uk)),this.B()&&S.setSize(this.B(),"",""))};f.N=function(){var a=qP.m.N.call(this);return gf(a,{"containerElement.attributes":{id:this.f.C()+"_container"},contentItems:this.f.o()})};
f.Sa=function(){this.Ud||(this.Ud=document.getElementById(this.f.C()+"_container"));return this.Ud};f.cf=function(){this.w||(this.w=ip("div"));return this.w};f.kn=function(){if(this.w){var a=x.PageZoneModel.topOffset,b=S.Jg(this.w),c=S.oa(this.w),d=ep(window),e=S.Zb(document);b.y<a?window.scrollTo(0,parseInt(e.y+b.y-a,10)):b.y+c.height>d.height&&window.scrollTo(0,parseInt(e.y+b.y+c.height+a-d.height,10))}};function rP(a){if(a.B()){var b=S.oa(a.B());S.setSize(a.B(),b)}};function sP(a,b){qP.call(this,a,b)}n(sP,qP);function tP(a,b){qP.call(this,a,b);this.ka=null}n(tP,qP);function uP(a,b){tP.call(this,a,b)}n(uP,tP);function vP(a,b){qP.call(this,a,b)}n(vP,qP);function wP(a,b){tP.call(this,a,b)}n(wP,tP);function xP(a,b){qP.call(this,a,b)}n(xP,qP);xP.prototype.Ej=function(){return S.getBounds(Ex())};xP.prototype.Gl=function(){var a=Um(x.frontendElements["wnd.pc.FeFooter"]),b=new pm(0,0,0,0);a&&(b=S.getBounds(a));return b};function yP(a,b,c){al.call(this,a,b,c)}n(yP,jP);yP.prototype.o=function(){var a=N(this,"content")[this.Tc()];return a?a:[]};function zP(a,b,c){al.call(this,a,b,c)}n(zP,yP);zP.prototype.Xd=function(){return N(this,"required")};zP.prototype.na=function(){zP.m.na.call(this);this.options.Oc=!0;this.options.ec=!0;this.options.editable=!0;this.options.Fd=!0;this.options.Dc=!0};function AP(a,b,c){al.call(this,a,b,c)}n(AP,yP);AP.prototype.na=function(){AP.m.na.call(this);this.options.Oc=!1;this.options.Fd=!0;this.options.Dc=!0};function BP(a,b,c){al.call(this,a,b,c)}n(BP,zP);function CP(a,b,c){al.call(this,a,b,c)}n(CP,BP);function DP(a,b,c){al.call(this,a,b,c)}n(DP,BP);function EP(a,b,c){al.call(this,a,b,c)}n(EP,zP);function FP(a,b,c){al.call(this,a,b,c)}n(FP,EP);function GP(a,b,c){al.call(this,a,b,c)}n(GP,EP);function HP(a,b,c){al.call(this,a,b,c)}n(HP,EP);function IP(a,b,c){al.call(this,a,b,c)}n(IP,EP);function JP(a,b,c){al.call(this,a,b,c)}n(JP,EP);function KP(a,b,c){al.call(this,a,b,c)}n(KP,EP);function LP(a,b,c){al.call(this,a,b,c)}n(LP,EP);function MP(a,b,c){al.call(this,a,b,c)}n(MP,EP);function NP(a,b,c){al.call(this,a,b,c)}n(NP,EP);function OP(a,b,c){al.call(this,a,b,c)}n(OP,AP);function PP(a,b,c){al.call(this,a,b,c)}n(PP,OP);function QP(a,b,c){al.call(this,a,b,c)}n(QP,OP);function RP(a,b,c){al.call(this,a,b,c)}n(RP,OP);function SP(a,b,c){al.call(this,a,b,c)}n(SP,OP);function TP(a,b){qP.call(this,a,b);this.h={};this.F=null}n(TP,qP);f=TP.prototype;f.tg=function(){u(this.f.o(),function(a){this.Gi.eh(a,this.B())},this);var a=this.f.getData();this.R={};this.F=mp("div");S.aa(this.F,!1);document.body.appendChild(this.F);z(a.contentMap,function(a,c){this.R[c]={};var d=null;z(a,function(a,b){try{d=UP(a).B(),this.F&&op(this.F,d)}catch(h){d=null}this.R[c][b]=d},this)},this)};
f.Nc=function(){this.c=null;this.B()&&rv("wnd-redraw",this.B());z(this.R,function(a,b){z(a,function(a,d){var e=Ou(b,d,this.f.C());(e=Um(e))&&a&&tp(a,e)},this)},this);this.F&&sp(this.F)};f.gd=function(){0==this.f.l&&this.dc()};f.getBounds=function(){var a=S.getBounds(this.B());if(this.f.Nd()){var b=S.Zb(document);a.top-=b.y;a.left-=b.x}return a};f.Sa=function(){return this.B()};function VP(a,b){TP.call(this,a,b)}n(VP,TP);VP.prototype.N=function(){var a=["wnd-form-field"];this.f.Xd()&&a.push("wnd-required");return gf(VP.m.N.call(this),{"field.class":a.join(" ")})};function WP(a,b){TP.call(this,a,b)}n(WP,TP);WP.prototype.N=function(){var a=N(this.f,"action").message;return gf(WP.m.N.call(this),{"form.attributes":{action:"",method:"post",novalidate:"novalidate"},message:a,showForm:!0,showMessage:!1})};function XP(a,b){TP.call(this,a,b)}n(XP,VP);XP.prototype.N=function(){return gf(XP.m.N.call(this),{"label.attributes":{}})};function YP(a,b){TP.call(this,a,b)}n(YP,XP);function ZP(a,b){TP.call(this,a,b)}n(ZP,XP);function $P(a,b){TP.call(this,a,b);this.o=null}n($P,VP);$P.prototype.N=function(){var a={id:"field-"+this.f.getId(),name:this.f.getId(),required:this.f.Xd(),disabled:t.isCms};this.o&&(a.type=this.o);var b={"for":"field-"+this.f.getId()};return gf($P.m.N.call(this),{"label.attributes":b,"input.attributes":a})};function aQ(a,b){$P.call(this,a,b);this.o="date"}n(aQ,$P);function bQ(a,b){$P.call(this,a,b);this.o="text"}n(bQ,$P);bQ.prototype.N=function(){return gf(bQ.m.N.call(this),{"input.attributes":{value:N(this.f,"value")}})};function cQ(a,b){$P.call(this,a,b);this.o="file"}n(cQ,$P);cQ.prototype.N=function(){return gf(cQ.m.N.call(this),{"choose.attributes":{},"filename.attributes":{"data-filename-for":this.f.getId()}})};function dQ(a,b){$P.call(this,a,b)}n(dQ,$P);dQ.prototype.N=function(){var a=dQ.m.N.call(this);delete a["input.attributes"].value;return gf(a,{value:""})};function eQ(a,b){$P.call(this,a,b);this.o="number"}n(eQ,$P);function fQ(a,b){$P.call(this,a,b);this.o="password"}n(fQ,$P);function gQ(a,b){$P.call(this,a,b);this.o="tel"}n(gQ,$P);function hQ(a,b){$P.call(this,a,b)}n(hQ,$P);hQ.prototype.N=function(){var a=[];z(N(this.f,"items"),function(b,d){a.push({text:b,attributes:{value:d}})});var b=hQ.m.N.call(this);delete b["input.attributes"].value;return gf(b,{items:a})};function iQ(a,b){$P.call(this,a,b);this.o="text"}n(iQ,$P);function jQ(a,b){TP.call(this,a,b)}n(jQ,WP);function kQ(a,b){TP.call(this,a,b)}n(kQ,jQ);function lQ(a,b){TP.call(this,a,b)}n(lQ,jQ);function mQ(a,b){TP.call(this,a,b)}n(mQ,jQ);function nQ(a,b){TP.call(this,a,b)}n(nQ,jQ);function oQ(a,b,c){al.call(this,a,b,c);this.ve=this.ad=!1}n(oQ,yP);f=oQ.prototype;f.dataType=x.ContentBlock.DataType;f.rn="";f.na=function(){oQ.m.na.call(this);this.options.Oc=!0;this.options.Dc=!0;this.options.editable=!0;this.options.ec=!0};f.Pm=function(a){this.rn=a};f.zj=function(){return this.rn};f.Tc=function(){var a=Wi(this).getData(this.rn);return l(a.variant)?a.variant:"default"};
f.Ml=function(a,b,c){var d=this.getData();null!=d&&L.j().get("listing_items").Ea(function(b,g,h,k){a.call(c,b,g[d.listingItemId],h,k)},b,c)};function pQ(a,b,c){oQ.call(this,a,b,c)}n(pQ,oQ);pQ.prototype.na=function(){pQ.m.na.call(this);this.options.Oc=!1;this.options.Dc=!1};function qQ(a,b){TP.call(this,a,b);this.o={EMPTY:"wnd-empty-thumbnail",VIDEO:"wnd-video-thumbnail"}}n(qQ,TP);qQ.prototype.da=function(){this.hk(function(){},null,this,this.f.Ml)};
qQ.prototype.Hb=function(a){var b=this.N(),c=this.f.getData(),d=gf,e=[];1==a["listing_items.private_access"]&&e.push("wnd-private-content");this.f.ad?e.push(this.o.EMPTY):this.f.ve&&e.push(this.o.VIDEO);return d(b,{"containerElement.class":e.join(" "),"containerElement.attributes":{id:this.f.C()+"_container"},contentMap:c.contentMap,"link.attributes":{href:t.listingsPrefix+a["listing_items.identifier"]+"/"}})};
qQ.prototype.Be=function(){R(this.Sa(),this.o.EMPTY,this.f.ad);R(this.Sa(),this.o.VIDEO,this.f.ve)};qQ.prototype.Nc=function(){qQ.m.Nc.call(this);R(this.Sa(),this.o.EMPTY,this.f.ad);R(this.Sa(),this.o.VIDEO,this.f.ve)};function rQ(a,b){qQ.call(this,a,b)}n(rQ,qQ);function sQ(a,b,c){al.call(this,a,b,c)}n(sQ,yP);sQ.prototype.Tc=function(){return t.page.layout};function tQ(){return L.j().get("template_styles").getData()}function JN(){return"default"}function QN(a,b,c,d){var e=Cg.j().get("template_styles");e.update("colorScheme",b);c&&(b=bf(Vh(e).getData()),l(b.background)||(b.background={}),b.background[JN()]="",l(b.backgroundSettings)||(b.backgroundSettings={}),b.backgroundSettings[JN()]="",KN(b),Bg(e,b));d&&LN(a)}
function TN(a,b,c){c=IN(c);a={id:a.getId(),src:a.ya(),dataType:a.K(),mime:a.Qc,mediaType:a.ja||null,width:a.Ma()||null,height:a.getHeight()||null};b?(df(c.backgroundSettings[JN()],a),null!=c.backgroundSettings[JN()].poster&&delete c.backgroundSettings[JN()].poster):c.backgroundSettings[JN()]=a;return c}function IN(a){var b=L.j().get("template_styles"),b=bf(b.getData());a&&(l(b.background)||(b.background={}),b.background[JN()]=a);l(b.backgroundSettings)||(b.backgroundSettings={});return b}
function KN(a,b,c){if(c&&b){a.refs={};var d={};d[b+".id"]=c;a.refs[b]=[d]}else l(a.refs)&&delete a.refs}function LN(a){var b=null,c="",d={},b=t.page.template.id,c="gui_page_templates";if(null!==b){var e=L.j().get("template_styles");d[c+".styles"]=JSON.stringify(e.getData());e=new hi("savePageStyles",1);gr(Qh.j(),e);c=Cg.j().get(c);a=m(a.J,a);c.c(b,d,null,a,e)}}sQ.prototype.J=function(a){if("success"!==a)throw new Pa("Cannot save data for PageStyle");};
sQ.prototype.Kd=function(){if(mv(this.Tc()).backgroundVideo){var a=tQ().backgroundSettings["default"];if(oa(a)&&"videos"==a.mediaType)return(new JC).Sd(a)}return null};function uQ(a,b){TP.call(this,a,b);this.o=this.W=this.kb=null;this.La={}}n(uQ,TP);function vQ(a){a.kb||(a.kb=document.querySelector('[data-wnd_color_scheme="default"]'));return a.kb}function wQ(a){a.W||(a.W=document.querySelectorAll('[data-wnd_background~="default"]'));return a.W}
function xQ(a){a.o={};a.o.effects=document.querySelectorAll('[data-wnd_background~="effects"]');a.o.overlays=document.querySelectorAll('[data-wnd_background~="overlays"]');a.o.position=document.querySelectorAll('[data-wnd_background~="position"]');a.o.attachment=document.querySelectorAll('[data-wnd_background~="attachment"]');return a.o}uQ.prototype.Dh=function(a,b){!0!==ga(vQ(this))&&(!0===(null!=b)&&Gl(vQ(this),b),El(vQ(this),a))};
function yQ(a,b,c){var d=["wnd-background-image","wnd-background-pattern","wnd-background-video","wnd-background-solid"];u(wQ(a),function(a){null!=c&&(u(d,function(b){Gl(a,b)},this),El(a,c));a.innerHTML="";zQ(this,a,b)},a);a.W=null}function zQ(a,b,c){var d=b.cloneNode(!1);d.style.backgroundImage="url('"+c+"')";rp(d,b);setTimeout(m(a.gc,a,d,b),q.ImageSizeManager.replaceTimeout)}uQ.prototype.gc=function(a,b){for(var c=b.firstChild;c;)a.appendChild(c),c=c.nextSibling;sp(b);this.notify("onChangePageBackground")};
function AQ(a,b,c){u(wQ(a),function(a){a.innerHTML="<div>"+b+"</div>";l(c)&&El(a,c)},a)}uQ.prototype.lh=function(a){a.push("wnd-background-image");a.push("wnd-background-pattern");a.push("wnd-background-video");a.push("wnd-background-solid");u(wQ(this),function(b){Hl(b,a);b.innerHTML="";S.setStyle(b,"backgroundImage","");S.setStyle(b,"backgroundColor","")},this);var b=xQ(this);z(b,function(b){u(b,function(b){Hl(b,a)},this)},this)};
function BQ(a,b,c,d){var e=xQ(a);l(e[d])&&u(e[d],function(a){c&&Gl(a,c);b&&!Dl(a,b)&&El(a,b)},a)}function HN(a,b){u(wQ(a),function(a){a.style.backgroundColor=b;l("wnd-background-solid")&&El(a,"wnd-background-solid")},a)}function CQ(a,b){u(document.querySelectorAll("[data-wnd_multilang_class]"),function(a){R(a,"wnd-multilang",b)},a)}uQ.prototype.da=function(){};
function DQ(a,b){var c=Vh(Cg.j().get("title_info")).getData();if(F(c.type,b)){var d=oh(c.type,b);-1!==d&&c.text[d]!=a&&(c.text[d]=a,d=document.head.querySelector("title"),null!==d&&(d.innerHTML=c.text.join(c.sep)))}};function EQ(a,b,c){al.call(this,a,b,c)}n(EQ,jP);EQ.prototype.vf=function(){return!0};EQ.prototype.dataType=x.ContentZoneColModel.DataType;function FQ(a,b){qP.call(this,a,b)}n(FQ,qP);function GQ(a,b,c){al.call(this,a,b,c)}n(GQ,jP);GQ.prototype.dataType=x.ContentZoneColModel.DataType;function HQ(a,b){qP.call(this,a,b)}n(HQ,qP);HQ.prototype.da=function(){HQ.m.da.call(this);if("undefined"!==typeof N(this.f,"style")){var a=N(this.f,"style").width;"undefined"!==typeof a&&this.Sc(a)}};HQ.prototype.Sc=function(a){S.setWidth(this.B(),a+"%")};function IQ(a,b,c){al.call(this,a,b,c)}n(IQ,jP);function JQ(a,b){qP.call(this,a,b);this.h={}}n(JQ,qP);function KQ(a,b,c){al.call(this,a,b,c);this.Cf=!0}n(KQ,IQ);KQ.prototype.na=function(){KQ.m.na.call(this);this.options.editable=!0};function LQ(a,b){JQ.call(this,a,b)}n(LQ,JQ);LQ.prototype.N=function(){var a=LQ.m.N.call(this);return gf(a,{"noColumns.class":this.f.vf()?"":"wnd-no-cols"})};function MQ(a,b,c){al.call(this,a,b,c);this.Cf=!1;this.Gb=this.page=0;NQ(this)}n(MQ,IQ);MQ.prototype.na=function(){MQ.m.na.call(this);this.options.Oc=!0;this.options.editable=!1;this.options.Dc=!0};function NQ(a){L.j().get("listing_items").Ea(m(function(a,c){this.Gb=0;z(c,function(){this.Gb++},this)},a))}function OQ(a){return N(a,"limit")?parseInt(N(a,"limit"),10):10}function PQ(){return"/"+t.page.identifier}function QQ(a){var b=PQ(),c=a.page-1;return 0>c?"#":0==c?b+"/":b+"/"+RQ(a)+"/"+c+"/"}
function SQ(a){var b=PQ(),c=a.page;return 0==c?b+"/":b+"/"+RQ(a)+"/"+c+"/"}function TQ(a){var b=PQ(),c=a.page+1;return c>=Math.ceil(a.Gb/OQ(a))?"#":b+"/"+RQ(a)+"/"+c}function RQ(a){a=a.C();return"p-"+(cy?ca.btoa(a):dy(ol(a))).replace(/=/g,"").substr(-8).toLowerCase()}function UQ(a,b){var c=a.ba(),d=a.Tc(),e=void 0,e=l(e)?e:null,c=null!=Qe.variantSettings&&null!=Qe.variantSettings[c]&&null!=Qe.variantSettings[c][d]?Qe.variantSettings[c][d]:{};return b?null!=c[b]?c[b]:e:c!=={}?c:e}MQ.prototype.ab=function(){return t.page.id};function VQ(a,b,c){MQ.call(this,a,b,c)}n(VQ,MQ);VQ.prototype.na=function(){VQ.m.na.call(this);this.options.Fd=!0};function WQ(a,b,c){MQ.call(this,a,b,c);this.bu=this.ab()}n(WQ,VQ);WQ.prototype.na=function(){WQ.m.na.call(this);this.options.ec=!0};WQ.prototype.ab=function(){var a=t.page.langId;return null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[a]&&null==t.listings.blog[a].removed?parseInt(t.listings.blog[a].page_id,10):null};function XQ(a,b){JQ.call(this,a,b)}n(XQ,JQ);function YQ(a,b){R(a.B(),x.ListingZone.activeItem.className,b)}
XQ.prototype.N=function(){var a=XQ.m.N.call(this),b=this.f.Gb>OQ(this.f),c=x.ListingZone.disabled.className,d=gf,b=Gu("wnd.pc.Pager",{show:!0,"contentElement.attributes":{},"contentElement.class":b?"":c,variant:UQ(this.f,"pagerVariant"),"link.prev.attributes":{href:QQ(this.f)},"link.prev.class":"#"==QQ(this.f)?c:"","link.next.attributes":{href:TQ(this.f)},"link.next.class":"#"==TQ(this.f)?c:"","link.load.attributes":{href:TQ(this.f)},"link.load.class":"#"==TQ(this.f)?c:"","title-prev":this.F(),"title-next":this.o(),
"title-load":Ha("wnd.templates.load")}),c="";null===this.f.ab()?c="notExists":this.f.Gb||(c="noItems");return d(a,{pager:b,placeholderType:c,listingPageExists:null!==this.f.ab()})};XQ.prototype.o=function(){return Ha("wnd.templates.prev")};XQ.prototype.F=function(){return Ha("wnd.templates.next")};function ZQ(a,b){JQ.call(this,a,b)}n(ZQ,XQ);ZQ.prototype.o=function(){return Ha("wnd.pc.BlogDetailPageZone.previous")};ZQ.prototype.F=function(){return Ha("wnd.pc.BlogDetailPageZone.next")};function $Q(a,b){JQ.call(this,a,b)}n($Q,ZQ);$Q.prototype.N=function(){var a=$Q.m.N.call(this);return gf(a,{pager:""})};function aR(a,b,c){KQ.call(this,a,b,c);this.Cf=!1}n(aR,KQ);aR.prototype.na=function(){aR.m.na.call(this);this.options.Dc=!0};function bR(a,b){JQ.call(this,a,b);cR(this)}n(bR,LQ);function cR(a){var b=a.B();0==a.f.o().length&&(b.style.cursor="pointer")};function dR(a,b,c){al.call(this,a,b,c)}n(dR,yP);f=dR.prototype;f.na=function(){dR.m.na.call(this);this.options.editable=!0;this.options.ec="page"==this.getContext();this.Ue=!1};f.We=function(){return dR.m.We.call(this)+"_"+N(this,"contentIdentifier")};f.Tc=function(){var a=dR.m.Tc.call(this),b=BN(this,eR);return oa(a)?l(a[b])?a[b]:"default":a};
f.getStyle=function(a,b){var c=N(this,"contentIdentifier"),d=BN(this,CN),c=iv(c,a,b);if("background"===a||"backgroundSettings"===a)!0===(null===c)&&(c={}),c["wnd-background-image"]="wnd-background-image";if(Ye(c))return"";var e=N(this,"style"),e=oa(e)&&l(e[a])?e[a]:{};b&&(e=l(e[b])?e[b]:{});return!Ye(e)&&l(e[d])?e[d]:"background"===a?"":(d=Te(Ue(c)))?d:""};
f.Ao=function(a){var b={},c=N(this,"style"),d=BN(this,CN);if(!1===(null!=c)||!1===(null!=c.backgroundSettings)||!1===(null!=c.backgroundSettings["default"])||!1===(null!=c.backgroundSettings["default"][d])||""===c.backgroundSettings["default"][d])return b;var e=c.backgroundSettings["default"][d];if("solidColors"===e.mediaType)return b["default"]=Lu({backgroundColor:e.color}),b;if("videos"===e.mediaType)return b;c=e.src;d=e.dataType;"patterns"==e.mediaType?e=po(c,d):(e=Yq(Tq.j(),c,d),null===e&&(e=
po(c,d,a)));b["default"]=Lu({backgroundImage:"url('"+e+"')"});return b};function fR(a){var b=N(a,"contentIdentifier"),b=iv(b,"background"),c={};u(Na(b),function(a){var b=this.getStyle("background",a);"effects"!==a&&b&&(c[a]=b)},a);return c}f.Kh=function(){var a="",b=N(this,"contentIdentifier"),b=iv(b,"colorScheme"),c=L.j().get(Fa.PageStyles.dataType).getData("colorScheme");if(!Ye(b)&&!0===(null!=c)){var d=this.getStyle("colorScheme");null!=b[c][d]&&(a=b[c][d].backgroundType)}return a};f.Rf=function(){return this.getStyle("colorScheme")};
function gR(a,b,c){var d=bf(a.getData()),e=BN(a,CN);l(d.style.colorScheme)||(d.style.colorScheme={});d.style.colorScheme[e]=b;c&&(hR(a,d.style),$k(d,a.ba(),{}));Yi(a,d,!0)}function hR(a,b){var c=BN(a,CN);u(["background","backgroundSettings"],function(a){l(b[a])&&(z(b[a],function(e,g){l(e[c])&&delete e[c];Ye(b[a][g])&&delete b[a][g]},this),Ye(b[a])&&delete b[a])},a)}var eR="pageVariants",CN="pageStyles",fP="default";
function BN(a,b){var c=dv(N(a,"contentIdentifier"));return null!=c&&!0===c[b]&&"layout"===N(a,"context")?t.page.id:fP}dR.prototype.Kd=function(){if(dv(N(this,"contentIdentifier")).backgroundVideo){var a=this.getStyle("backgroundSettings","default"),b=["videos",fr];if(oa(a)&&F(b,a.mediaType))return(new YD).Sd(a)}return null};function iR(a,b,c){al.call(this,a,b,c)}n(iR,dR);iR.prototype.na=function(){iR.m.na.call(this);this.options.editable=!1;this.options.ec=!1};function jR(a,b,c){al.call(this,a,b,c)}n(jR,dR);jR.prototype.na=function(){jR.m.na.call(this);this.options.editable=!0;this.options.ec=!1};function kR(a,b,c){al.call(this,a,b,c)}n(kR,dR);kR.prototype.na=function(){kR.m.na.call(this);this.options.editable=!1;this.options.ec=!1;this.options.Fd=!1};function lR(a,b,c){al.call(this,a,b,c)}n(lR,dR);lR.prototype.na=function(){lR.m.na.call(this);this.options.editable=!1;this.options.ec=!1;this.options.Fd=!1};function mR(a,b,c){al.call(this,a,b,c)}n(mR,dR);mR.prototype.na=function(){mR.m.na.call(this);this.options.editable=!1;this.options.ec=!1};function nR(a,b){TP.call(this,a,b);this.W=null}n(nR,TP);f=nR.prototype;f.N=function(){var a=nR.m.N.call(this),b="",c=this.f.Kd();null!=c&&(b=jD(iD.j(),c));var c=this.f.getStyle("background","default"),d=this.f.Rf();return gf(a,{"color.class":[d,c].join(" "),"styles.backgroundClasses":fR(this.f),"styles.backgroundStyles":this.f.Ao(q.FilesystemPreviewSize.small),"backgroundVideo.show":""!=b,"backgroundVideo.code":b})};
f.cf=function(){this.o||(this.o=ip("div",{"class":"wnd-temp-section-area"}),document.body.appendChild(this.o));return this.o};f.mq=function(){this.o&&(this.o.parentNode.removeChild(this.o),this.o=null,this.B().style.marginBottom="",this.B().style.marginTop="")};f.Dh=function(a,b){!0!==ga(this.B())&&(b&&Gl(this.B(),b),El(this.B(),a),this.notify("onAfterChangeColorScheme"))};
f.lh=function(a){var b;if(b=ly(this.B(),"wnd_section_background")&&ky(this.B(),"wnd_section_background").match("\\b"+a+"\\b")?this.B():this.B().querySelector('[data-wnd_section_background~="'+a+'"]'))a=this.f.getStyle("background",a),null!=a&&""!==a&&(Gl(b,a),S.setStyle(b,"backgroundImage","none")),"wnd-background-video"==a&&(b=this.B().querySelector("video"))&&sp(b)};
f.kn=function(){if(this.o){var a=x.PageZoneModel.topOffset,b=S.Jg(this.o),c=S.oa(this.o),d=ep(window),e=S.Zb(document);b.y<a?window.scrollTo(0,parseInt(e.y+b.y-a,10)):b.y+c.height>d.height&&window.scrollTo(0,parseInt(e.y+b.y+c.height+a-d.height,10))}};f.wi=function(){eJ()&&nR.m.wi.call(this)};
f.ot=function(){var a=[];ly(this.c,"wnd_section_background")&&ky(this.c,"wnd_section_background").match("\\bdefault\\b")&&a.push(this.c);u(this.c.querySelectorAll('[data-wnd_section_background~="default"]'),function(b){a.push(b)},this);return a};f.dc=function(){!0===this.f.Ue?oR(this,m(this.ot,this),m(this.dc,this)):nR.m.dc.call(this)};
function oR(a,b,c){a.f.Ue=!1;var d=!0,e=b.apply(a);ia(e)||(e=[e]);u(e,function(a){var e=S.oa(a),e=ip("div",{"class":x.Section.fadeOverlay.className,style:"width:"+e.width+"px;height:"+e.height+"px;"});a.appendChild(e);a=new yw(e,0,x.Section.fadeOverlay.finalOpacity,x.Section.fadeOverlay.duration);!0===d&&(Vm(a,"end",m(this.Iv,this,b,c)),d=!1);Vm(a,"end",m(function(a){sp(a.target.element)},this));a.play()},a)}
f.Iv=function(a,b){b.apply(this);var c=a.apply(this);ia(c)||(c=[c]);u(c,function(a){var b=S.oa(a),b=ip("div",{"class":x.Section.fadeOverlay.className,style:"width:"+b.width+"px;height:"+b.height+"px;"});a.appendChild(b);a=new yw(b,x.Section.fadeOverlay.finalOpacity,0,x.Section.fadeOverlay.duration);Vm(a,"end",m(function(a){sp(a.target.element)},this));a.play()},this)};f.Ej=function(){return S.getBounds(Ex())};
f.Gl=function(){var a=Um(x.frontendElements["wnd.pc.FeFooter"]),b=new pm(0,0,0,0);a&&(b=S.getBounds(a));return b};function pR(a,b){nR.call(this,a,b)}n(pR,nR);function qR(a,b){nR.call(this,a,b)}n(qR,nR);function rR(a,b){nR.call(this,a,b)}n(rR,nR);function sR(a,b){nR.call(this,a,b)}n(sR,nR);function tR(a,b){nR.call(this,a,b)}n(tR,nR);function xH(){K.call(this);this.g={};this.c=null;E.j().observe("onPopupMouseOver",m(this.h,this),this)}n(xH,K);ea(xH);function uR(a){var b=xH.j(),c,d=x.HoverManager.type,e={},g;for(g in d)for(var h=1;h<=x.HoverManager.instNum;h++)if(c=g+(h?"_"+h:""),!a||l(d[g].dragDrop)&&-1!=d[g].dragDrop.indexOf(a)){if(!b.g[c]){var k,p=x.HoverManager.type[g].properties;null!=p&&(k={properties:p});b.g[c]=I.j().create(c,d[g]["class"],Ex(),bg.j().get("wnd.pc"),k)}e[c]=b.g[c]}return e}
xH.prototype.h=function(a){if(this.c){var b=this.c.Da();(!a||a&&b instanceof GK&&F(b.f.o(),a))&&this.c.pb()}};function vR(a,b){IA.call(this,a,b,Ex());this.ka={}}n(vR,IA);f=vR.prototype;f.tc=function(a,b,c,d){return vR.m.tc.call(this,a,b,c,d,!0)};function wR(a){var b,c=uR("wnd.pc.PageZoneDragDrop"),d;for(d in c)for(var e in Ta)b=Ta[e],a.Ka(c[d].view.g[b],c[d])}function xR(a){var b=!1,c=!0;if(a instanceof GK){for(a=yR(a);a instanceof CL&&DL(a);)a=a.Ib;c=a instanceof KM&&a.Yl()}a instanceof BL&&(b=c&&!!D(a.Uf()));return b?"wnd.ui.FloatDropStripe":"wnd.ui.DropStripe"}
f.zi=function(a){vR.m.zi.call(this,a);if(this.J){var b=RA(this,this.J);if(b instanceof EA&&b.Ha()&&b.Od()){var c=this.J.sc;c instanceof tH&&(c=c.Da());var d=b.kd();!0===ly(this.J.Bb,"wnd_insert_type")?"wnd.pc.ImageBlock"===ky(this.J.Bb,"wnd_insert_type")&&HA(b,a.clientX,d):c instanceof CL?(c=c.B(),HA(b,a.clientX,d,c)):GA(b)}}};f.Ui=function(){};
f.Wi=function(a,b){var c=!1,d=b.sc;d instanceof tH&&(d=d.Da());if(d){var e=uH(this,a),g=a.kd().id,h=null;e?(h=e,c=h.C()===d.C()||"wnd.pc.ImageBlock"!=d.ba()&&a.Od()):h=I.j().get(g);"wnd.pc.BlogZone"===d.ba()&&FO(d)instanceof zR&&(c=FO(d).C()!==FO(h).C());!1===c&&(c=d.getContext()!==h.getContext())}return c};
function AR(a,b,c,d){var e="wnd.ui.DropStripe";if("left"==c||"right"==c)e="wnd.ui.FloatDropStripe";b=a.tc(b,c,null,e);b.Od()&&(c=vH(a,d.C(),c))&&(b.f.A.x=zA(c).x,b.f.M.x=c.f.M.x,om(b.f));a.ka[b.getId()]=d}function uH(a,b){return"undefined"!=typeof a.ka[b.getId()]?a.ka[b.getId()]:null}function vH(a,b,c){return a.g[b+"_"+c+r.StripesDragDrop.stripeSuffix]}f.he=function(a){var b=Tz(this,a);null!==b.sc&&na(b.sc.Da)&&!1===b.sc.Da().qe()||vR.m.he.call(this,a)};
f.reset=function(){vR.m.reset.call(this);this.ka={}};f.ye=function(a,b){var c=Tz(this,a),c=RA(this,c);c.Ha()&&(this.Jh=c instanceof EA&&"float"==c.f.we?c.getPosition():null);vR.m.ye.call(this,a,b)};function BR(a,b,c){al.call(this,a,b,c)}n(BR,jP);BR.prototype.We=function(){return BR.m.We.call(this)+"_"+N(this,"contentIdentifier")};function CR(a,b){qP.call(this,a,b)}n(CR,qP);function DR(a,b,c){al.call(this,a,b,c)}n(DR,yP);DR.prototype.na=function(){DR.m.na.call(this);this.options.Oc=!0;this.options.Fd=!0;this.options.Dc=!0;this.options.ec=!0};DR.prototype.We=function(){return DR.m.We.call(this)+"_"+N(this,"contentIdentifier")};DR.prototype.Hi="";DR.prototype.Tc=function(){var a=Wi(this).getData(this.Hi);return a&&l(a.variant)?a.variant:"default"};function ER(a,b){TP.call(this,a,b)}n(ER,TP);ER.prototype.Be=function(){eJ()&&ER.m.Be.call(this)};function FR(a,b,c){al.call(this,a,b,c);this.J=""}n(FR,DR);FR.prototype.We=function(){return al.prototype.We.call(this)};FR.prototype.ya=function(){return N(this,"image").src};FR.prototype.Ke=function(){var a=N(this,"image"),b=a.src,a=po(b,a.dataType,q.FilesystemPreviewSize.small);qo(b)&&this.J&&(a+=(0>a.indexOf("?")?"?":"&")+this.J);return a};FR.prototype.nf=function(a){this.J=a};function GR(a,b){TP.call(this,a,b);this.W=null}n(GR,ER);f=GR.prototype;f.N=function(){var a=this.f.getData(),b=!1,c={};null!=a.image&&(b=qo(a.image.src),c={id:this.f.C()+"_img"},b&&(c.type="image/svg+xml"),this.f.nf(Ev(HR(this),this.Oa())),c.src=this.f.Ke());return gf(GR.m.N.call(this),{title:a.title,"img.attributes":c,"link.attributes":{href:a.link,target:"_blank"},showText:!0,showImage:!b,showEmbed:b,embedScript:""})};f.Oa=function(){this.o||(this.o=document.getElementById(this.f.C()+"_img"));return this.o};
f.Nc=function(){this.o=null;GR.m.Nc.call(this)};f.Lg=function(){if(!this.La||!this.o){var a=this.Oa();this.La=a?a.parentNode:null}return this.La};f.Nm=function(a){var b=this.Lg();b&&S.setStyle(b,"position",a)};function HR(a){a.W||(a.W=new Dv);return a.W}f.Pe=function(){this.f.nf(Ev(HR(this),this.Oa()));HR(this).Pe(this.f.Ke(),this.Oa())&&(this.o=null)};f.Fm=function(){var a=this.Oa(),b=this.Oa();a.outerHTML=b.outerHTML;this.o=null};
f.mf=function(a){var b=this.Oa();b&&(bq||aq)&&(b.style.visibility=a?"":"hidden")};function ZM(a,b,c){SB.call(this,a,b,c);this.g=IR(uz(this));this.l=null;D(wQ(this.g.view))||(this.l=new EG(this.g.wd(),PN()));this.J=new XM(this,this.l,c)}n(ZM,SB);ZM.prototype.ua=function(){return this.getParent().ua()};ZM.prototype.fa=function(){};ZM.prototype.Lc=function(a,b){this.getParent().Lc(a,b);WN(this.J)};
ZM.prototype.Y=function(a){ZM.m.Y.call(this,a);null!=this.l&&"filesystem_files"==a.K()&&"dataDelete"==a.getType()&&"children_propagation"==a.h&&uh(this.l.l,function(a){return"filesystem_files"==a.K()&&a.getId()!=this.l.Ad},this)&&(YG(this.l),HG(this.l,aN(this.J)))};I.j().register("wnd.pc.EditLayoutContent",Mj,rB,ZM);function JR(a,b,c){uC.call(this,a,b,c);this.l.ImageList=m(this.Wr,this);this.l.FileList=m(this.Vr,this);this.g={}}n(JR,uC);f=JR.prototype;f.Vr=function(){this.g.FileList=OG(E.j(),{showTypes:[Vj],activeType:Vj,checkLowResolution:!1});fC(this.g.FileList,"onInsert",this.or,this);fC(this.g.FileList,"onClose",this.nr,this)};
f.Wr=function(){var a=L.j().get("project_info").getData(),a={filterMN:[{key:"category",value:[Fa.StaticServerCategory.templates,a.uikit_name,a.template_name,a.template_branch_id,Fa.StaticServerCategory.content],optional:[a.uikit_name,a.template_name,a.template_branch_id,Fa.StaticServerCategory.content]}],orderMN:{key:"category",value:Fa.StaticServerCategory.content,order:"DESC"}},b={};b.publicImages=a;b.publicIcons=a;this.g.ImageList=OG(E.j(),{showTypes:[Uj,"publicImages","publicIcons"],activeType:Uj,
collectionSettings:b,checkLowResolution:!1});fC(this.g.ImageList,"onInsert",this.or,this);fC(this.g.ImageList,"onClose",this.nr,this)};f.Ii=function(){Zz(this).qb()&&this.notify("onCancel");this.Mk();return!0};f.or=function(a,b){this.g.ImageList&&Jh(this.g.ImageList,"onInsert");this.g.FileList&&Jh(this.g.FileList,"onInsert");this.notify("onInsert",b[0])};f.nr=function(){this.notify("onClose")};I.j().register("wnd.pc.SelectMediaFooter",Pj,yB,JR);function KR(a,b,c){lF.call(this,a,b,c);this.qa=this.D=this.T=this.F=null}n(KR,lF);f=KR.prototype;f.mo=function(a){var b=this.view;b.w=Tr(Js,{name:Ml(a[Q(this.f,"name")])});b.ze().appendChild(b.w)};f.Bc=function(){LR(this);KR.m.Bc.call(this);null!=this.F&&this.F.reset();null!=this.T&&this.f.Ea(this.T.Hr,null,this.T);null!=this.D&&this.D.reset()};f.uj=function(a){var b=KR.m.uj.call(this,a);a instanceof Yz&&(b.value=parseInt(b.value,10));return b};
function LR(a){Gj(a.f,Q(a.f,"name"),function(a,c){if(null!=c){var d=this.view;null!==d.w&&(d.w.innerHTML=Ml(c))}},a)}f.Uo=function(){return{title:"Delete blog post",text:"Are you sure you want to delete this blog post?"}};f.uf=function(a,b,c){KR.m.uf.call(this,a,b,c);this.f.Ea(this.Ky,null,this)};f.Ky=function(a,b){l(b)&&l(b[Q(this.f,"identifier")])&&b[Q(this.f,"identifier")]!==this.qa.getValue()&&this.qa.jc("value",b[Q(this.f,"identifier")])};I.j().register("wnd.pc.BlogPostEdit",Zj,gL,KR);function MR(a,b,c){DF.call(this,a,b,c)}n(MR,DF);f=MR.prototype;f.Ol=function(){var a=MR.m.Ol.call(this);a.title="Blog";a.addButton=x.BlogAdminPopup.addButton;return a};f.No=function(){x.BlogAdminPopup.dataSettings.filter[0].value=P(this.f,"listingPageId");return{filter:x.BlogAdminPopup.dataSettings.filter}};f.Ll=function(){var a=MR.m.Ll.call(this);a.enabledDragDrop=!1;return a};f.yn=function(){MR.m.yn.call(this);var a=new H("onBeforePopupClose",this);a.h="children_propagation";this.ca(a)};
f.Fl=function(){var a=MR.m.Fl.call(this);a.buttons={Wc:"Edit Post","delete":"Delete"};return a};f.O=function(){MR.m.O.call(this);this.l.observe("onListItemActivate",m(this.fw,this),this);this.D.observe("onBlogAddArticle",m(this.ru,this),this)};f.fw=function(a,b){this.g.select(b)};f.ru=function(a,b){this.notify(a,b)};I.j().register("wnd.pc.BlogAdminPopup",ak,oF,MR);function YM(a,b,c){wr.call(this,a,b,c);this.U=this.F=this.Na=this.l=this.w=null;this.h=I.j().get(P(a,"sectionId"));this.D=null;NR(this.h)&&(this.D=new EG(this.h.wd(),this.h.getStyle("colorScheme")));this.I={};this.g=new XM(this,this.D)}n(YM,wr);f=YM.prototype;f.ua=function(){return x.EditSection.groups["default"]};function bN(){return x.EditSection.groups.sectionEffects}function cN(){return x.EditSection.groups.layoutEffects}f.O=function(){YM.m.O.call(this);this.c.H(this.B(),U,this.az)};
f.az=function(a){pF(this.view,new T(a.clientX,a.clientY))&&a.stopPropagation()};
f.fa=function(){P(this.f,"useLayoutOptions")&&(this.F=this.L(this.C()+"_layout_edit","wnd.pc.EditLayoutContent",null,{properties:{initRenderFlag:!1}}));this.w=this.L(this.C()+"_default_block","wnd.ui.PopupEmptyBlock",this.ua(),{properties:{initRenderFlag:!0,switchAnimation:!0,extendCssClass:"wnd-switch-block"}});if(null!=this.F){var a=this.F,b=this.w;m(this.Lc,this,cN(),!1);if(null!==a.l||OR(a.g)){var c=b.L(a.C()+"_nav_default","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Website Background"}});
dN(a.getParent(),c,"layout#header",a.getParent().ua());null!=a.l?$M(a.J,b):OR(a.g)&&eN(a.J,b)}}if(NR(this.h)||1==lv(this.h)||PR(this.h)||this.h.qc())a="",a=this.h instanceof QR?"Website Header":this.h instanceof RR?"Website Footer":"Section",a=this.w.L(this.C()+"_nav_default","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:a}}),dN(this,a,"header",this.ua()),NR(this.h)?$M(this.g,this.w):1==lv(this.h)&&eN(this.g,this.w),PR(this.h)&&(a=SR(this),this.U=this.w.L(this.C()+"_variant",
"wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Layout",items:a,selected:this.h.Ak()}}),this.U.observe("selectItem",this.Wu,this),dN(this,this.U,"variant",this.ua())),this.h.qc()&&this.w.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:{controls:{right:["Delete"]},initRenderFlag:!0,extendCssClass:"wnd-edit-section-controls",confirmDeleteTitle:"Are you sure you want to delete this section?"}});NR(this.h)&&(this.l=this.L(this.C()+"_section_effects_block","wnd.ui.PopupEmptyBlock",
bN(),{properties:{initRenderFlag:!0,switchAnimation:!0,extendCssClass:"wnd-switch-block"}}),a=this.l.L(this.C()+"_nav_effects","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,switchContainer:this.getId(),switchGroups:[this.ua()]}}),dN(this,a,"header",bN()),hN(this.g,this.l),mN(this.g,this.l),pN(this.g,this.l),sN(this.g,this.l),vN(this.g,this.l),xN(this.g,this.l));null!==this.F&&(this.Na=this.L(this.C()+"_layout_effects_block","wnd.ui.PopupEmptyBlock",cN(),{properties:{initRenderFlag:!0,
switchAnimation:!0,extendCssClass:"wnd-switch-block"}}),a=this.F,b=this.Na,D(wQ(a.g.view))||(c=b.L(a.C()+"_nav_effects","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,switchContainer:a.C(),switchGroups:[a.getParent().ua()]}}),dN(a.getParent(),c,"header",cN(a.getParent())),hN(a.J,b),mN(a.J,b),pN(a.J,b),sN(a.J,b),vN(a.J,b),xN(a.J,b),b=[],(c=a.g.wd())&&(b=UG(c.mediaType)),VN(a.J,b),WN(a.J)));null!=this.l&&(a=[],(b=this.h.wd())&&(a=UG(b.mediaType)),VN(this.g,a),WN(this.g));this.Lc(this.ua(),
!0);$B(this,this.ua())};f.Wu=function(a,b){var c=this.h,d=BN(c.f,eR),e={};e[d]=b;Yi(c.f,{variant:e});GN(c)};f.remove=function(){this.notify("onRemove");this.hide();var a=new H("inspectletInfo1",this);this.ca(a)};function SR(a){var b=hv(TG(a.h)),c=[];u(b,function(a){c.push(ZD((new YD).Ga(a),oE))},a);return c}f.show=function(){YM.m.show.call(this);if(1!=lv(this.h)){var a=this.g;null===a.P||a.P.hide()}a=P(this.f,"useLayoutOptions")?new H("inspectletInfo2",this):new H("inspectletInfo3",this);this.ca(a)};
f.ma=function(a){YM.m.ma.call(this,a);a.c instanceof TR&&"colorSchemeChange"==a.getType()&&(a=this.g,null===a.P||a.P.Qd(fN(a),gN(a)||"",!0),null!=this.D&&HG(this.D,aN(this.g)))};f.Y=function(a){YM.m.Y.call(this,a);NR(this.h)&&null!=this.D&&"filesystem_files"==a.K()&&"dataDelete"==a.getType()&&"children_propagation"==a.h&&uh(this.D.l,function(a){return"filesystem_files"==a.K()},this)&&(YG(this.D),HG(this.D,aN(this.g)))};
f.Lc=function(a,b){if(!b){var c=new xw(this.view.Va,this.view.Va.offsetHeight,UR(this,a),250);"top"===this.hb&&c.H("animate",m(this.Au,this));c.H("end",m(this.zu,this));c.play()}YM.m.Lc.call(this,a,b);WN(this.g)};f.Au=function(){xF(this)};f.zu=function(){xF(this);this.notify("onAnimateResizeEnd")};f.hc=function(){YM.m.hc.call(this);S.setHeight(this.view.Va,"auto");this.w.B().style.position="relative"};
function dN(a,b,c,d){b.Ya()&&(l(a.I[d])||(a.I[d]={}),a.I[d][c]=parseInt(S.oa(b.B()).height,10))}function UR(a,b){var c=0;if(!l(a.I[b]))return c;var d=["header","schemes"];b===bN()?d=Ah(d,a.g.D):b===cN()?d=Ah(d,a.F.J.D):d=Na(a.I[b]);z(a.I[b],function(a,b){F(d,b)&&(c+=a)},a);return c+x.EditSection.heightCorrection}f.Al=function(){var a=YM.m.Al.call(this),b=a.height,c=0;z(this.I,function(a){c=0;z(a,function(a){c+=a},this);c>b&&(b=c)},this);return new De(a.width,b)};
I.j().register("wnd.pc.EditSectionPopup",ck,qF,YM);function VR(a,b,c){wr.call(this,a,b,c)}n(VR,wr);VR.prototype.fa=function(){this.L(this.C()+"_layout_edit","wnd.pc.EditLayoutContent",this.ua(),{properties:{initRenderFlag:!0}})};VR.prototype.show=function(){VR.m.show.call(this);WR(!0)};VR.prototype.Hd=function(){VR.m.Hd.call(this);WR(!1)};function WR(a){var b=kr.j();!0===a?(b.pause(),(b=xH.j().c)&&b.pb(null,null,!0)):tr(b);NH=a}I.j().register("wnd.pc.LayoutPopup",ck,qF,VR);function JL(){A.call(this)}n(JL,A);ea(JL);function IL(a,b,c,d){var e=!1,g=x.NewContentItemPopupsManager[b];null!=g&&(a.h=b,a.g=c,a.c=d?d:{},c=g.properties?g.properties:{},c.dataType=Fa.mvc.DataType,c.createMVCType=a.h,fC(E.j().create(g.mvcType,g.mvcType.split(/\./).pop()+"_"+b,document.body,null,{destroyAfterClose:!0},c),"onInsert",a.A,a),e=!0);return e}JL.prototype.A=function(a,b){Ye(this.c)||(b=gf(b,this.c));this.g(b)};function GK(a,b,c){KM.call(this,a,b,c);this.I=!1;this.S=null;this.T=!1}n(GK,KM);f=GK.prototype;f.ic=function(){return"container"};f.Xi=null;function XR(a){for(var b=a.f.o(),c=b.length,d=Wi(a.f).getData(),e,g=0;g<c;g++)e=d[b[g]].type,a.$f(b[g],e)}f.$f=function(a,b){return Jg.j().Ka(a,b,this,{id:a,properties:this.Jl(a,b)})};f.Jl=function(){return{}};f.ud=function(a,b,c,d,e){return Jg.j().create(a,this,b,c,d,e)};function UP(a){return XK(Jg.j(),a)}
function tJ(a,b,c){a=a.f.o();var d,e=[];d=[];if(a)for(var g=a.length,h=0;h<g;h++)d=UP(a[h]),e.push(d),b&&d instanceof GK&&(!c||-1!=c.indexOf(d.ic()))&&(d=tJ(d,!0,c),e=e.concat(d));return e}function YR(a,b,c,d,e){var g=tJ(a),h=g.length;a.I=!0;b.I=!0;b.Xi=tJ(b);for(var k=0;k<h;k++)e&&0<=e.indexOf(g[k].getId())||(g[k].move(b,c,d),c=g[k],d="bottom");a.I=!1;b.I=!1;AO(a,"out");AO(b,"in")}
f.Jb=function(a,b,c,d){GK.m.Jb.call(this,a,b,c,d);"data_created"!=b&&"data_deleted"!=b&&"data_updated"!=b||ZR(this);a=!1;b=tJ(this);for(c=0;c<b.length;c++)if("wnd.pc.ContentZoneColWrapper"==b[c].ba()){a=!0;break}a!=this.f.vf()&&(this.f.vh=a,a=this.view,a.f.vf()?a.B().classList.remove("wnd-no-cols"):a.B().classList.add("wnd-no-cols"))};function ZR(a){a=tJ(a);for(var b=0;b<a.length;b++)a[b].jb=0==b?null:a[b-1],a[b].Ib=b==a.length-1?null:a[b+1]}function $R(a){return 0==a.f.o().length}
function aS(a){return 1==a.f.o().length}function yR(a){var b=null;$R(a)||(a=a.f.o(),b=UP(a[0]));return b}f.Sa=function(){return this.view.Sa()};function AO(a,b){switch(b){case "in":a.Rc("data_created",!0);break;case "out":a.Rc("data_deleted",!0);break;default:a.Rc("data_updated",!0)}}f.Yd=function(){XR(this);ZR(this)};function TG(a){return N(a.f,"contentIdentifier")}f.zl=function(){var a=tJ(this),b=[];u(a,function(a){mG(a)&&b.push(a)},this);return b};
function bS(a,b,c,d){b=new b;d=d||"bottom";b.data.parentId=a.C();a=a.getContext();b.data.context=a;b.data.referenceId=c?c.C():null;b.setPosition(d);return b}function cS(a,b,c,d,e){var g=L.j().get("content_items").getData(b);e=e||{};b=Jg.j().Ka(b,g.type,a,{id:b,properties:e});a.Rc("data_created");c&&IM(b,a.Sa(),c.B(),d);return b}
function GL(a,b,c,d){kr.j().pause("addContent",!0);xJ("DisableContent").show();dS(a,c,d,x["wnd.pc.FromBlock"].placeholder.height);b=eS(a,b,c,d);var e=I.j().get(x.PageZoneModel.ZoneId);fS(e)?u(b,function(a){e.R.push(a)},a):(a=new hi("createForm",b.length),yL(Qh.j(),b,a))}function eS(a,b,c,d){var e,g=[];e="default";var h=bS(a,xv,c,d);h.data.form=b;h.data.variant=e;mf(h,m(a.qm,a,c,d));g.push(h);return g}
f.qm=function(a,b,c,d){gS(this);tr(kr.j());xJ("DisableContent").hide();"error"!==c&&(a=cS(this,d.id,a,b),a=new H("formCreated",a),this.ca(a))};function HL(a,b,c){kr.j().pause("addContent",!0);xJ("DisableContent").show();dS(a,b,c,x["wnd.pc.FromBlock"].placeholder.height);b=hS(a,b,c);var d=I.j().get(x.PageZoneModel.ZoneId);fS(d)?u(b,function(a){d.R.push(a)},a):(a=new hi("createBlogRecentPosts",b.length),yL(Qh.j(),b,a))}
function hS(a,b,c){var d,e=[];d=x.CreateBlogRecentPostsServerRequest.variant;var g=bS(a,vv,b,c);g.data.variant=d;mf(g,m(a.Hu,a,b,c));e.push(g);return e}f.Hu=function(a,b,c,d){gS(this);tr(kr.j());xJ("DisableContent").hide();"error"!==c&&(a=cS(this,d.id,a,b),a=new H("blogRecentPostsCreated",a),this.ca(a),a=new H("keenInfoAdd",this),this.ca(a))};
function dS(a,b,c,d){b=b?b.B():null;var e=a.view,g=e.cf();if(b){var h=b.className.trim();h&&Fl(g,h.split(" "));d||(d=S.oa(b).height);"bottom"==c||"right"==c?rp(g,b):qp(g,b)}else e.Sa().appendChild(g);d&&S.setHeight(g,d);e.kn();a.S||(a.S=I.j().create(a.C()+"_loading","wnd.ui.Loading",a.view.cf(),a,{properties:{type:"container"}}));a.S.show();a.Vc()}function gS(a){a.S&&(a.S.dispose(),a.S=null);a=a.view;a.w&&(sp(a.w),a.w=null);tr(kr.j())};function iS(a,b,c){GK.call(this,a,b,c)}n(iS,GK);iS.prototype.g=function(){this.ud(x[this.ba()].optionMVCType)};iS.prototype.$f=function(a,b){var c=iS.m.$f.call(this,a,b);c.M=!1;return c};iS.prototype.Y=function(a){iS.m.Y.call(this,a);"parent_propagation"==a.h&&"dataDelete"==a.getType()&&a.c.ba()===x[this.ba()].optionMVCType&&this.Vc()};
iS.prototype.ma=function(a){iS.m.ma.call(this,a);var b=!1;if("itemActivate"===a.getType()){var b=null===this.view.ka,c=this.view;c.ka||(c.ka=Tr(Ut),c.B().appendChild(c.ka));S.aa(c.ka,!0);b&&(b=this.view.ka)&&this.c.H(b,U,m(this.g,this));b=!0}"itemDeactivate"===a.getType()&&(S.aa(this.view.ka,!1),b=!0);b&&(this.Vc(),a=new H("contentChange",this),a.h="parent_propagation",this.ca(a))};function jS(a,b,c){GK.call(this,a,b,c)}n(jS,iS);I.j().register("wnd.pc.CheckboxGroupOptions",mP,uP,jS);function kS(a,b,c){GK.call(this,a,b,c)}n(kS,iS);I.j().register("wnd.pc.RadioGroupOptions",oP,wP,kS);function lS(a,b,c){GK.call(this,a,b,c);this.view.Gi=this}n(lS,GK);lS.prototype.eh=function(a,b,c){var d=I.j(),e;c=c||this;if(Ng(d,a))e=d.get(a),e.view.sg=b,e.Ya()||e.show();else{var g=L.j().get("content_items").getData(a).type,h={id:a};c instanceof lS&&(h.properties={contentMap:mS(c,a,g)});e=d.create(a,g,b,c,h);a=new zg("dataCreate","parent_propagation",e.K(),e,e.getId());this.ca(a);e instanceof GK&&(a=e.f.o(),u(a,function(a){this.eh(a,e.Sa(),e)},this))}return e};
function mS(a,b,c){var d=N(a.f,"contentMap"),e;if(null!=d[c]&&oa(d[c])){c=d[c];d={};for(e in c)d[c[e]]=e;e=d}else e={};d=e;b=null!=d[b]?d[b]:null;e=a.ba();(a=N(a.f,"contentIdentifier"))&&(e+="_"+a);return{parent:e,identifier:b}}lS.prototype.Jl=function(a,b){return gf(lS.m.Jl.call(this,a,b),{contentMap:mS(this,a,b)})};lS.prototype.X=function(){var a=I.j(),b=Cg.j().get("content_items"),c=[];z(N(this.f,"content"),function(a){c=Ah(c,a)});Fh(c);u(c,function(c){Ng(a,c)||b["delete"](c)});lS.m.X.call(this)};
lS.prototype.getBounds=function(){return this.view.getBounds()};function oO(a,b,c){lS.call(this,a,b,c)}n(oO,lS);f=oO.prototype;f.ic=function(){return"form_field"};f.Ld=function(){return"FormFieldBaseHover"};f.Ja=function(){var a=[];nS(this)&&(!nS(this)||"name"!=N(this.f,"systemName"))||a.push(ui(mi(li(new ki,"field-properties"),this),m(this.ez,this,"field-properties")));this.qc()&&this.xa&&a.push(qi(ni(li(new ki,oS(this)),m(this.Jc,this)),!0));return a};function oS(a){var b="remove-confirm";aS(a.Z)&&(b="remove-form-confirm");return b}
f.ez=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditFieldSettingsForm",b.view.J,b,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0}})};f.getId=function(){return this.f.getId()};f.Xd=function(){return this.f.Xd()};f.xe=function(a){null!==mH||oO.m.xe.call(this,a)};f.eh=function(a,b,c){a=oO.m.eh.call(this,a,b,c);a.M=!1;return a};f.$f=function(a,b){var c=oO.m.$f.call(this,a,b);c.M=!1;return c};
f.Jc=function(){var a=this.Z;aS(a)&&!1===eJ()?(a=a.Z,sH(this)&&sH(this).pb(this,null,!0),a.Jc()):oO.m.Jc.call(this)};f.ae=function(a){oO.m.ae.call(this,a);Om(tJ(this),function(b){if(b instanceof CO)throw pS(b,a),Lm;},this);return!0};function nS(a){return!0===N(a.f,"systemField")}f.qc=function(){return nS(this)?!1:oO.m.qc.call(this)};f.qe=function(){var a;if(a=nS(this)){for(a=this.getParent();0==a instanceof qS;)a=a.getParent();a="wnd.pc.UserRegistrationFormBlock"!==a.ba()}return a?!1:oO.m.qe.call(this)};function rS(a,b,c){lS.call(this,a,b,c)}n(rS,oO);rS.prototype.$d=function(){var a=this.view.B(),b=S.bc(a),c=x["wnd.pc.GroupField"].paddingBottom;b.bottom<c&&S.setStyle(a,"paddingBottom",c+"px");rS.m.$d.call(this);a=new H("itemActivate",this);a.h="children_propagation";this.ca(a)};rS.prototype.sb=function(){S.setStyle(this.view.B(),"paddingBottom","");rS.m.sb.call(this);var a=new H("itemDeactivate",this);a.h="children_propagation";this.ca(a)};function sS(a,b,c){lS.call(this,a,b,c)}n(sS,rS);I.j().register("wnd.pc.CheckboxGroupField",CP,YP,sS);function tS(a,b,c){lS.call(this,a,b,c)}n(tS,rS);I.j().register("wnd.pc.RadioGroupField",DP,ZP,tS);function uS(a,b,c){lS.call(this,a,b,c)}n(uS,oO);function vS(a,b,c){lS.call(this,a,b,c)}n(vS,uS);I.j().register("wnd.pc.DateField",FP,aQ,vS);function wS(a,b,c){lS.call(this,a,b,c)}n(wS,uS);I.j().register("wnd.pc.EmailField",GP,bQ,wS);function xS(a,b,c){lS.call(this,a,b,c)}n(xS,uS);I.j().register("wnd.pc.FileUploadField",HP,cQ,xS);function yS(a,b,c){lS.call(this,a,b,c)}n(yS,uS);I.j().register("wnd.pc.LongTextField",IP,dQ,yS);function zS(a,b,c){lS.call(this,a,b,c)}n(zS,uS);I.j().register("wnd.pc.NumberField",JP,eQ,zS);function AS(a,b,c){lS.call(this,a,b,c)}n(AS,uS);I.j().register("wnd.pc.PasswordField",KP,fQ,AS);function BS(a,b,c){lS.call(this,a,b,c)}n(BS,uS);I.j().register("wnd.pc.PhoneField",LP,gQ,BS);function BO(a,b,c){lS.call(this,a,b,c)}n(BO,uS);BO.prototype.Ja=function(){var a=[];a.push(qi(ui(mi(li(new ki,"edit-select-options"),this),m(this.g,this,"edit-select-options")),!0));return Ah(a,BO.m.Ja.call(this))};BO.prototype.g=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditSelectboxFieldOptionsForm",b.view.J,b,{id:this.C(),properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0}})};I.j().register("wnd.pc.SelectboxField",MP,hQ,BO);function CS(a,b,c){lS.call(this,a,b,c)}n(CS,uS);I.j().register("wnd.pc.ShortTextField",NP,iQ,CS);function PO(a,b,c){a.Pm(c.C());lS.call(this,a,b,c)}n(PO,lS);f=PO.prototype;f.Ld=function(){return"PageBaseHover"};f.Ja=function(){var a=[];uO(this)&&a.push(qi(ni(li(new ki,"edit"),m(this.Wc,this)),!0));return Ah(a,PO.m.Ja.call(this))};f.Y=function(a){PO.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==this.Z.K()&&a.g==this.Z.getId()&&this.f.update("data_updated")};
f.dispose=function(){this.f.Ml(function(a,b){if(b){var c=new hi("deleteItem",1);gr(Qh.j(),c);var d=Cg.j().get("listing_items");$h(d,b["listing_items.id"],null,c)}},null,this);PO.m.dispose.call(this)};f.so=function(){lS.prototype.dispose.call(this)};f.Wc=function(){this.f.Ml(function(a,b){window.location.href=t.listingsPrefix+b["listing_items.identifier"]+"/"},null,this)};f.$d=function(a){PO.m.$d.call(this,a);a=sH(this.Z);vK(a.view)};
f.Cc=function(a){PO.m.Cc.call(this,a);mG(this)&&a.stopPropagation();return!0};f.zj=function(){return this.f.zj()};function DS(a,b,c){PO.call(this,a,b,c)}n(DS,PO);I.j().register("wnd.pc.BlogItem",pQ,rQ,DS);function TR(a,b,c){this.D=!1;this.w=null;this.R=[];this.V=new vR(b.B(),m(this.ds,this));this.g={};this.ea=S.oa(document.body);lS.call(this,a,b,c);this.V.observe("onDragstart",this.Bz,this);this.V.observe("onDragend",this.Az,this);this.V.observe("onDrop",this.Cz,this);this.U=!1;this.V.init();this.U=!0;this.l=new nH(this.V);this.l.init();this.view.observe("onChangePageBackground",this.Su,this);this.Em=!0;setTimeout(m(this.Ws,this),500)}n(TR,lS);f=TR.prototype;f.ic=function(){return"zone"};
f.ds=function(){wR(this.V);this.U&&z(this.g,function(a,b){Ng(I.j(),b)?I.j().get(b).qg():Ze(this.g,b)},this)};
f.qg=function(a,b){var c=this.V;if($R(a))c.tc(a.B(),"bottom");else{var d=yR(a);aS(a)&&zO(d)||(d=xR(a),c.tc(a.B(),"left",null,d),c.tc(a.B(),"right",null,d))}c=b.length;for(d=0;d<c;d++){var e=this.V,g=b[d],h=g.B(),k=xR(g);nm(g)||EL(g)?(g instanceof CL||g instanceof gP||g instanceof XO)&&e.Ka(h,g):"wnd.pc.PhotoGalleryBlock"==g.ba()&&e.Ka(h,g);if(g instanceof GK){var p=void 0;for(p in Ta){var w=Ta[p],v=!1,C="left"==w||"right"==w;"bottom"!=w&&"right"!=w||!g.Ib?!zO(g)&&C?v=!0:zO(g)&&!C?v=!0:!C&&g.T&&(v=
!0):v=!1;v&&("left"==Ta[p]||"right"==Ta[p]?e.tc(h,Ta[p],null,k):e.tc(h,Ta[p]))}}else if((p=0==(g instanceof CL&&DL(g)))&&e.tc(h,"top"),!g.Yl()&&p&&(e.tc(h,"left",null,k),e.tc(h,"right",null,k)),!g.Ib&&p&&e.tc(h,"bottom"),g instanceof CO)for(h=g.Uf(),k=0,p=h.length;k<p;k++)0<k&&AR(e,h[k],"top",g),AR(e,h[k],"left",g),AR(e,h[k],"right",g)}this.g[a.C()]||(this.g[a.C()]=b)};
f.Bz=function(a,b){if(!Rz){var c=null,d=null,e=[],g=!1,h=!1;if(ly(b.Bb,"wnd_insert_type"))c=ky(b.Bb,"wnd_insert_type"),Ng(I.j(),x.InsertContentPopup.mvcId)&&I.j().get(x.InsertContentPopup.mvcId).hide(),d=b.Bb;else{var k=b.sc;k instanceof tH&&(k=b.sc.Da());c=k.ba();k.Yb();d=k.B();k instanceof BL&&(e=k.Hl());h=g=!0;na(k.Qo)&&(this.V.l=k.dk)}Vz(this.V,{blockType:c,sourceElement:d,floatElements:e,asSibling:g,realGrip:h})}};f.Az=function(){};
f.Cz=function(a,b,c,d,e){var g=c.id;if(b.id!==g&&(ly(c,x.ContentBlock.separableParts.typeIsSeparable)&&(g=ky(c,x.ContentBlock.separableParts.typeSeparableId)),g)){var g=UP(g),h;EL(g)&&!1===g instanceof FL?h=g:h=AL(g);this.V.Jh&&(d="top");Uz(this.V);a=m(h.yw,h,a,b,c,d,e);b=ky(b,"wnd_insert_type");c=!0;e||(c=!IL(JL.j(),b,a));c&&a()}};f.Oe=function(a){null==Qz&&(a?(kr.j().reset(),this.V.reset(),this.l.reset(),this.V.init(),this.l.init()):JA(this.V,!0))};
f.O=function(){TR.m.O.call(this);this.c.H(this.bb(),U,m(this.ae,this));this.w=new Er(document.body);this.c.H(this.w,"key",this.Bk)};f.Ws=function(){if(S.oa(document.body).height!=this.ea.height){this.Oe(!0);var a=new H("contentChangeFinished");this.ca(a)}};f.Za=function(){TR.m.Za.call(this);null!==this.w&&(this.w.dispose(),this.w=null)};f.Bk=function(a){TR.m.Bk.call(this,a);a.ctrlKey&&!1===hM()&&!1===fS(this)&&(90===a.keyCode&&wM(),89===a.keyCode&&yM())};
function fS(a){var b=!1;a.P&&(b=!0);b||(b=Re(fH(),function(a){return a.Im()},a));return b}function ES(a){z(fH(),function(a){a.Im()&&(this.D=!0,a.ra())},a);a.P&&(a.Jm(),clearTimeout(a.P),a.P=0)}f.ca=function(a){a instanceof zg&&"content_items"==a.K()&&a.c==this&&this.handleEvent(a);TR.m.ca.call(this,a)};
f.Y=function(a){if("content_items"==a.K()){if(this.D)this.Jm();else{var b=m(this.Jm,this,a);this.P&&clearTimeout(this.P);this.P=setTimeout(m(this.kq,this,b),200)}var b=null,c;if(c=null!=a.c)c=null!=a.c.B();c&&(b=a.c.B());vz(this,m(this.fr,this,a,b))}a.K()!=r.FeLanguages.DataType||"dataCreate"!=a.getType()&&"dataDelete"!=a.getType()||(b=Ri.j().hd(),CQ(this.view,1<b));"gui_pages"==a.K()&&a.g==t.page.id&&na(a.c.Ro)&&DQ(a.c.Ro(),"title");"server_projects"==a.K()&&FS(this,a)};
function FS(a,b){var c=b.c;null!=c&&z(c.fb,function(a,b){switch(b){case "server_projects.favicon_w2":var c=JSON.parse(a),h=document.querySelector('link[rel="shortcut icon"]');null===h&&(h=ip("link",{rel:"shortcut icon"}),document.head.appendChild(h));h.href=po(c.src,c.dataType);break;case "server_projects.project_name":DQ(a,"name")}},a)}
f.Jm=function(){this.D=!1;var a=new hi("savePageData",this.R.length+1);gr(Qh.j(),a);var b=Cg.j().get("content_items"),c=m(this.Mw,this),b=Vh(b),d=b.il();b.gq(d);var e=d.getData();!1===Ye(e)?(mf(d,m(b.Hy,b)),c&&mf(d,c),Sh(Qh.j(),d,a),b.A[d.getId()]=d):a&&Ph(Qh.j(),a);c=0;for(b=this.R.length;c<b;c++)Sh(Qh.j(),this.R[c],a);this.R=[]};f.Mw=function(){};
f.ma=function(a){TR.m.ma.call(this,a);var b=!1;"saveAndDeactivateContentItems"===a.getType()&&GS(this);"saveContentItems"===a.getType()&&ES(this);if("parent_propagation"==a.h&&a.c instanceof KM)switch(a.getType()){case "contentRemove":case "contentChange":b=!0;a.stopPropagation();break;case "microTemplateCellCreated":case "sectionCreated":case "formCreated":case "formFieldCreated":case "blogRecentPostsCreated":case "contentMove":case "fontChange":case "listingItemReload":b=!0}if("resizeWindow"===
a.getType()&&(b=!0,Ng(I.j(),x.InsertContentPopup.mvcId))){var c=I.j().get(x.InsertContentPopup.mvcId);c.Ra()&&c.hide()}if("delegatedStyleChanged"===a.getType()){var d=a.c,c=this.view,e=TG(d),d=N(d.f,"delegatedStyle");l(c.La[e])||(c.La[e]=document.querySelector('[data-wnd_delegated_style="'+e+'"]'));c=c.La[e];null!==c&&(c.className=d)}if(b){b=null;if(c=null!=a.c)c=null!=a.c.B();c&&(b=a.c.B());vz(this,m(this.fr,this,a,b))}};
f.fr=function(a,b){if(!eJ()){if(this.Em){this.Oe(!0);var c=new H("contentChangeFinished");this.ca(c)}this.Em=!0;var c=this.view,d=b||c.B();null===d.parentNode&&(d=c.B());rv("wnd-content-change",d)}};function OR(a){var b;if(b=!!cv("showColorSchemes"))b=null!=vQ(a.view);return b}f.Ak=function(){return this.f.Tc()};
function XN(a){if(!cv("showColorSchemes"))return[];var b=[],c=cv("colorScheme");z(c,function(a,c){qv(c)||("none"===a.backgroundType?b.push(RC(QC(KC(ZD(LC((new YD).Ga(c),a.color),nE),"solidColorSchemes"),"wnd-bgr-fx wnd-overlay-none"),a.backgroundType)):b.push(RC(KC(ZD(LC((new YD).Ga(c),a.color),kE),"solidColorSchemes"),a.backgroundType)))},a);return b}function PN(){var a=tQ();return null!=a.colorScheme?a.colorScheme:null}
f.wd=function(){var a=tQ();return null!=a.backgroundSettings&&null!=a.backgroundSettings[JN()]?a.backgroundSettings[JN()]:null};function AN(a,b,c){a.view.Dh(b,PN());QN(a.f,b,c,!0);b=new H("colorSchemeChange",a);b.h="children_propagation";a.ca(b);rv("wnd-redraw",a.B())}
function ON(a,b,c){if("videos"!=b.ja){var d=null;"patterns"!=b.ja&&(d=q.FilesystemPreviewSize.small);Uq(Tq.j(),b.ya(),b.K(),m(function(a){var d=b.K();if("static_server"===d){var h=Tk(a),k=0,p=h.c.split("/"),w=0;switch(d){case "filesystem_files":w=4;break;case "static_server":w=6;break;default:throw new Pa("Unknown dataType: "+d);}p.length===w&&(d=parseInt(p[p.length-2],10),La(q.FilesystemPreviewSize,d)&&(k=d));k===q.FilesystemPreviewSize.small&&(h.h.remove("t"),a=h.toString())}yQ(this.view,a,c)},
a),null,d,!0)}"videos"==b.ja&&(d=jD(iD.j(),b),a.view.lh(zN(a)),AQ(a.view,d,c),a=I.j(),Ng(a,q.VideoLoaderManager.mvcID)&&a.get(q.VideoLoaderManager.mvcID).ha())}function SN(a,b,c,d){var e=c.getId();if("none"===e||"fx-none"===e)e="";BQ(a.view,e,a.Ec(b),b);a=a.f;var e=Cg.j().get("template_styles"),g=Vh(e).getData("background")||{};"none"===c.getId()||"fx-none"===c.getId()?l(g[b])&&delete g[b]:g[b]=c.getId();e.update("background",g);d||LN(a)}
function ZN(a,b){ON(a,b);if(b.c)SN(a,"effects",b.c,!0);else{var c=RN("effects");null!=c&&SN(a,"effects",c,!0)}var c=a.f,d=TN(b,!0),e=b.ie;if(null!=e){var g=XG(e);d.backgroundSettings[JN()].effectDefinition={type:e.getType(),parent:g}}"videos"==b.ja&&(d.backgroundSettings[JN()].poster={id:b.getId(),src:b.cb,dataType:b.K(),width:b.Ma()||null,height:b.getHeight()||null});Bg(Cg.j().get("template_styles"),d);LN(c);UN(a)}
function zN(a){var b=["wnd-background-image","wnd-background-pattern"],c=a.Ec("effects");c&&b.push(c);(c=a.Ec("overlays"))&&b.push(c);(a=a.Ec("position"))&&b.push(a);return b}function RN(a){a=nv(a);return null!=a?(new YD).Ga(a):null}function GS(a){z(fH(),function(a){a.sb()},a);ES(a)}function hO(a){var b=[],c=cv("background","attachment");null!=c&&z(c,function(a,c){l(a.type)&&"attachment"===a.type&&b.push(ZD(QC((new YD).Ga(c),"wnd-bgr-fx wnd-preview-"+c),nE))},a);return b}
f.Ec=function(a){var b=tQ();return null!=b.background&&null!=b.background[a]?b.background[a]:"effects"===a?"fx-none":""};function UN(a){var b=a.wd();if(b&&l(b.id)&&l(b.src)&&l(b.dataType)&&l(b.mediaType)){var c=b.id,d=b.src,e=b.dataType;b.poster&&(c=b.poster.id,d=b.poster.src,e=b.poster.dataType);er(new br(c,d,e),m(a.zz,a))}}f.zz=function(a){a=RG(this,a);a=ov(a);AN(this,a,!1);jO(this)};
function jO(a){null!=a.f.Kd()&&(a=I.j(),Ng(a,q.VideoLoaderManager.mvcID)&&a.get(q.VideoLoaderManager.mvcID).ha())}f.Su=function(){var a=new H("pageBackgroundChange",this);this.ca(a);rv("wnd-redraw",this.B())};I.j().register("wnd.pc.PageZone",sQ,uQ,TR);function HS(a,b,c){GK.call(this,a,b,c)}n(HS,GK);HS.prototype.ic=function(){return"column_wrapper"};
HS.prototype.Jb=function(a,b,c,d){HS.m.Jb.call(this,a,b,c,d);if(!this.I&&!eJ()){c=this.f.o();a=!1;if("data_deleted"==b&&$R(this))this.dispose();else if("data_deleted"==b&&aS(this))a=!0,b=yR(this),YR(b,this.Z,this,"bottom"),b.dispose(),this.dispose();else if("data_created"==b)if(a=!0,null!==this.Xi){d=tJ(this);var e=d.length;b=[];c=100;for(var g=0,h=0;h<e;h++)-1==this.Xi.indexOf(d[h])?(b.push(d[h]),g+=yJ(d[h])):c-=yJ(d[h]);this.Xi=null;if(g!==c)for(d=b.length,e=100-c,g=0;g<d;g++)h=yJ(b[g]),h=parseFloat((c-
c/100*h).toFixed(2)),b[g].Sc(h),e+=h,d===g+1&&(100<e?(h=parseFloat((h-(e-100)).toFixed(2)),b[g].Sc(h)):100>e&&(h=parseFloat((h+(100-e)).toFixed(2)),b[g].Sc(h)))}else{IS(this);b=tJ(this);c=b.length;d=parseFloat((100/c).toFixed(2));for(var e=null,h=g=0,k=!1,p=0;p<c;p++)if(0===yJ(b[p])){if(null!==e){k=!0;e=null;break}e=b[p]}else{var h=h+yJ(b[p]),w=parseFloat((yJ(b[p])-d/100*yJ(b[p])).toFixed(2)),v=parseFloat((w-d).toFixed(2)),v=0>v?-1*v:v;.01!==v||100!==d*c&&99.99!==d*c||(w=d);b[p].Sc(w);g+=w}null!==
e&&e.Sc(parseFloat((h-g).toFixed(2)));if(!0===k)for(d=parseFloat((100/c).toFixed(2)),e=0;e<c;e++)b[e].Sc(d)}else if("data_deleted"==b&&1<c.length){a=!0;b=tJ(this);c=b.length;d=parseFloat((100/c).toFixed(2));e=0;g=null;for(h=0;h<c;h++)yJ(b[h]),e+=d,100<e&&(d=parseFloat((d+(100-e)).toFixed(2))),b[h].Sc(d),g=b[h];null!==g&&(100>e&&(d=parseFloat((d+(100-e)).toFixed(2)),g.Sc(d)),JS(g).init())}a&&this.bi(!0)}};
function IS(a){var b=N(a.f,"widthPercentage");"undefined"===typeof b&&(b=100/(S.getBounds(a.B()).width/x.ContentResizeStripe.minDifference),b=parseFloat(b.toFixed(2)),Xi(a.f,"widthPercentage",b));return b}HS.prototype.bi=function(a){for(var b=tJ(this),c=b.length,d=0;d<c;d++)b[d].bi(a)};I.j().register("wnd.pc.ContentZoneColWrapper",EQ,FQ,HS);function KS(a,b,c){GK.call(this,a,b,c);this.yg=yJ(this)}n(KS,GK);function JS(a){var b=a.getId()+x.ContentResizeStripe.suffixId;!0===Ng(I.j(),b)?a.g=I.j().get(b):a.g=I.j().create(b,"wnd.pc.ContentResizeStripe",Ex(),a);return a.g}f=KS.prototype;f.ic=function(){return"column"};f.Jb=function(a,b,c,d){KS.m.Jb.call(this,a,b,c,d);this.I||eJ()||"data_deleted"!=b||($R(this)?this.dispose():aS(this)&&(a=yR(this),zO(a)&&YR(a,this.Z,this,"bottom")))};
function yJ(a){if("undefined"===typeof N(a.f,"style"))return 0;a=N(a.f,"style").width;return"undefined"===typeof a?0:a}
function zJ(a,b,c){var d=IS(a.Z),e=a.yg,g=!1,h=0,k=yJ(a);0!==c&&("left"===b?(e=a.yg-d*c,h=k-e,g=!0):"right"===b&&(e=a.yg+d*c,h=e-k,g=!1));e=parseFloat(e.toFixed(2));if(!(b=e<x.ContentResizeStripe.minWidth)){a:{b=a.getParent();b=tJ(b);c=0;for(d=b.length;c<d;c++)if(yJ(b[c])>x.ContentResizeStripe.minWidth){b=!0;break a}b=!1}b=!1===b}if(!b&&!0===a.Sc(e))a:{c=a.getParent();b=h;var d=g,g=null,p,w=!0,h=0;c=tJ(c);for(var v=0,C=c.length;v<C;v++)h+=yJ(c[v]),a===c[v]?w=!1:!0!==w&&null===g&&(0===b?p=c[v].yg:
p=!0===d?parseFloat((yJ(c[v])+b).toFixed(2)):parseFloat((yJ(c[v])-b).toFixed(2)),g=c[v],h-=yJ(c[v]));100<p+e&&(p-=parseFloat((p+e-100).toFixed(2)));100>h&&(p=parseFloat((100-h).toFixed(2)));if(p<x.ContentResizeStripe.minWidth){b=x.ContentResizeStripe.minWidth-p;if(e-b<x.ContentResizeStripe.minWidth){a.Sc(k);break a}p=x.ContentResizeStripe.minWidth;k=parseFloat((e-b).toFixed(2));a.Sc(k)}100<h&&(k=parseFloat((e-(h-100+p)).toFixed(2)),a.Sc(k));null!==g&&g.Sc(p)}}
f.Sc=function(a){if(0>=a||100<a)return!1;var b={};"object"===typeof N(this.f,"style")&&(b=bf(N(this.f,"style")));b.width=a;this.f.l=!0;this.view.Sc(a);Xi(this.f,"style",b);this.f.l=!1;return!0};f.bi=function(a){for(var b=tJ(this,!0),c=b.length,d=0;d<c;d++)nm(b[d])&&b[d].Xg()&&b[d].resize(a)};f.qm=function(a,b,c,d,e,g){KS.m.qm.call(this,a,b,c,d,e,g);"error"===c&&$R(this)&&this.dispose()};
f.ma=function(a){KS.m.ma.call(this,a);"contentChangeFinished"!==a.getType()||"children_propagation"!==a.h||!this.Ib||JS(this).init()};I.j().register("wnd.pc.ContentZoneCol",GQ,HQ,KS);function SG(a,b,c){lS.call(this,a,b,c);this.U=this.g=this.l=this.D=null;this.ea=!1;this.view.observe("onAfterChangeColorScheme",this.jm,this)}n(SG,lS);f=SG.prototype;f.ic=function(){return"section"};function LS(a){if(a.yi()){var b=a.getBounds(),c=kr.j();c.Ka(b,"sectionToolbox","mouseover",m(a.mr,a),0,a.Nd());c.Ka(b,"sectionToolbox",gq,m(a.kr,a),0,a.Nd());a.Mf=!0;MS(a)}}f.Yd=function(){SG.m.Yd.call(this);LS(this)};
f.bt=function(){this.l=E.j().create("wnd.pc.EditSectionPopup","wnd-popup-edit_"+this.C(),document.body,this,{withOverlay:!1},{coordinates:m(this.wt,this),sectionId:this.C(),useLayoutOptions:this.ea});this.Yb();this.l.observe("onRemove",this.Gz,this);this.l.observe("onAfterClose",this.xu,this);this.mr();$f.j().A[NS(this)]=this.l};function yN(a,b){a.view.lh("default");a.view.Dh(b,a.f.Rf(),!0);gR(a.f,b,!0);GN(a)}f.jm=function(){var a=new H("colorSchemeChange",this);a.h="children_propagation";this.ca(a)};
function DN(a,b,c){a=bf(a.f.getData());null!=a.style||(a.style={});null!=a.style.background||(a.style.background={});null!=a.style.background["default"]||(a.style.background["default"]={});c&&(a.style.background["default"][b]=c);null!=a.style.backgroundSettings||(a.style.backgroundSettings={});if(!l(a.style.backgroundSettings["default"])||ia(a.style.backgroundSettings["default"]))a.style.backgroundSettings["default"]={};return a}
function MN(a,b,c,d){var e=BN(a.f,CN);d=DN(a,e,d);var g={id:b.getId(),src:b.ya(),dataType:b.K(),mime:b.Qc,mediaType:b.ja||null,width:b.Ma()||null,height:b.getHeight()||null};c?(df(d.style.backgroundSettings["default"][e],g),null!=d.style.backgroundSettings["default"][e].poster&&delete d.style.backgroundSettings["default"][e].poster,"videos"==b.ja&&(d.style.backgroundSettings["default"][e].poster={id:b.getId(),src:b.cb,dataType:b.K(),width:b.Ma()||null,height:b.getHeight()||null})):d.style.backgroundSettings["default"][e]=
g;c=!1;if(null!=a.f.Kd()||"videos"==b.ja||b.ja==fr)c=!0;a.observe("afterChangeBackground",m(a.vu,a,b,c),a);return d}function EN(a,b,c){!1===(null!=a.style.colorScheme)&&(a.style.colorScheme={});a.style.colorScheme[b]=c}function FN(a,b){var c=(new YD).Ga("none");b.style=gf(b.style,eO(a,c,"effects"));b.style=gf(b.style,eO(a,c,"overlays"))}
function YN(a,b){var c=BN(a.f,CN),d=MN(a,b,!0);if(b.c)var e={style:eO(a,b.c,"effects")},d=gf(d,e);e=b.ie;if(null!=e){var g=XG(e);d.style.backgroundSettings["default"][c].effectDefinition={type:e.getType(),parent:g}}else NN(a,d,"effects",c);Yi(a.f,d,!0)}function iO(a){null!=a.f.Kd()&&(a=I.j(),Ng(a,q.VideoLoaderManager.mvcID)&&a.get(q.VideoLoaderManager.mvcID).ha())}f.vu=function(a,b){fO(this);b&&iO(this);Jh(this,"afterChangeBackground")};
function NN(a,b,c,d){var e=nv(c,"section",TG(a));if(e)a=e;else if(e=L.j().get("section_styles").getData(),e[TG(a)]&&e[TG(a)].background&&e[TG(a)].background[c]){var g=BN(a.f,CN);a=e[TG(a)].background[c][g]}else a=null;l(b.style.background)||(b.style.background={});l(b.style.background[c])||(b.style.background[c]={});b.style.background[c][d]=null!=a?a:""}f.Ua=function(a){SG.m.Ua.call(this,a);this.notify("afterChangeBackground");a=new H("sectionBackgroundChange",this);this.ca(a)};
function eO(a,b,c){b=b.getId();"none"===b&&(b="");a=BN(a.f,CN);var d={background:{}};d.background[c]={};d.background[c][a]=b;return d}f.getStyle=function(a,b){return this.f.getStyle(a,b)};f.Gz=function(){this.qc()&&(iO(this),requestAnimationFrame(m(function(){this.l.hide(null,!0);var a=new Bw(this.B(),x.ContentItem.fxDurationRemove);Vm(a,"end",m(this.dispose,this));a.play()},this)))};f.X=function(){$f.j().remove(NS(this));this.g&&this.g.dispose();SG.m.X.call(this)};
f.wd=function(){var a=N(this.f,"style"),b=BN(this.f,CN);return!0===(null!=a.backgroundSettings)&&!0===(null!=a.backgroundSettings["default"])&&!0===(null!=a.backgroundSettings["default"][b])?a.backgroundSettings["default"][b]:null};
f.yi=function(){if(null==this.D){var a;if(!(a=this.qc())&&(a=NR(this)))a:{a=this.view;if(!0===l(a.W)){if(ly(a.c,"wnd_section_background")&&ky(a.c,"wnd_section_background").match("\\bdefault\\b")){a=a.W=!0;break a}a.W=null!=a.c.querySelector('[data-wnd_section_background~="default"]')}a=a.W}this.D=a||1==lv(this)||PR(this)}return this.D};function NS(a){return a.C()+"_toolbox"}function OS(a){a.U||(a.U=[qi(ni(li(new ki,"section-edit"),m(a.bt,a)),!0)]);return a.U}
f.mr=function(){var a=!1;!this.yi()||$f.j().Ra(NS(this))||this.animate&&(1==this.animate.nc||!0!==uO(this))||($f.j().show(NS(this),OS(this),this.Nd())&&this.Mf&&(MS(this),this.Mf=!1),a=!0);return a};f.kr=function(){$f.j().hide(NS(this));return!0};f.wt=function(){var a=$f.j().get(NS(this));return S.getBounds(a.je("section-edit"))};function MS(a){var b=$f.j();a.yi()&&ag(b,NS(a))&&(b=b.get(NS(a)),b.Ya()&&(a=a.view.getBounds(),a.top+=x.Section.topOffset,b.f.rd=a,iG(b)))}f.xu=function(){PS(this)};
f.Kh=function(){return this.f.Kh()};f.Rf=function(){return this.f.Rf()};function OH(a){var b=a.getBounds(),c=a.view.Gl();a=a.view.Ej();return b.height+c.height+x.PageZoneModel.topOffset>=a.height}function QS(a,b,c){NH=!1;a.g&&(a.g.dispose(),a.g=null);c||OH(a)?a.view.mq():(c=a.B(),a.animate=new sw(c,[x.Section.animation.end],[x.Section.animation.start],x.Section.animation.collapseTime,ee),a.animate.H("animate",m(a.lr,a,b)),a.animate.H("end",m(a.view.mq,a.view)),a.animate.play())}
f.lr=function(a,b){if("top"==a){var c=this.view,d=b.c[0];c.B().style.marginTop=d+"px";var e=c.getBounds();S.setPosition(c.cf(),e.left,e.top-d)}else c=this.view,d=b.c[0],c.B().style.marginBottom=d+"px",e=c.getBounds(),S.setPosition(c.cf(),e.left,e.top+e.height);S.setSize(c.cf(),e.width,d);MS(this)};f.Aa=function(){this.g||(this.g=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.view.cf(),this,{properties:{type:"section"}}));this.g.show()};
function lv(a){a=iv(TG(a),"colorScheme");var b=L.j().get(Fa.PageStyles.dataType).getData("colorScheme");return a&&l(a[b])?a[b]:null}function NR(a){a=iv(TG(a),"background");return null!=a&&Xe(a,"default")}function PR(a){a=hv(TG(a));return ia(a)&&1<a.length}function gO(a){var b=[],c=iv(TG(a),"background");null!=c&&Xe(c,"attachment")&&z(c.attachment,function(a,c){l(a.type)&&"attachment"===a.type&&b.push(ZD(QC((new YD).Ga(c),"wnd-bgr-fx wnd-preview-"+c),nE))},a);return b}
f.Ec=function(a){var b=N(this.f,"style"),c=BN(this.f,CN);return!0===(null!=b.background)&&!0===(null!=b.background[a])&&!0===(null!=b.background[a][c])?b.background[a][c]:""};f.Uk=function(){var a=this.getBounds().top<=x.PageZoneModel.topOffset,b=this.jb instanceof RS;return"page"===this.getContext()&&!a&&!b};f.Sk=function(){return!0};
f.pa=function(a){SG.m.pa.call(this,a);a=this.B();var b=x.Section.renderAnimation.start,c=S.oa(this.B()).height;a=new sw(a,[b],[c],x.Section.renderAnimation.expandTime,ee);a.H("begin",m(this.mx,this));a.H("animate",m(this.lx,this));a.H("end",m(this.nx,this));a.play()};f.mx=function(){this.Yb();kr.j().pause();xJ("DisableContent").show()};
f.lx=function(a){a=a.c[0];S.setHeight(this.B(),a);var b=x.PageZoneModel.topOffset,c=S.Jg(this.B()),d=ep(window),e=S.Zb(document);c.y+a+b>d.height&&c.y>b&&c.y<d.height&&window.scrollTo(0,parseInt(e.y+c.y+a+b-d.height,10))};f.nx=function(){this.B().style.height="";tr(kr.j());xJ("DisableContent").hide();var a=new H("contentChange",this);this.ca(a)};f.lg=function(){eJ()&&this.view.wi()};
f.ma=function(a){SG.m.ma.call(this,a);"resizeWindow"===a.getType()&&MS(this);"contentChangeFinished"===a.getType()&&"children_propagation"===a.h&&(PS(this),LS(this))};function PS(a){if($f.j().Ra(NS(a))){var b;b=kr.j().l;var c=a.getBounds();b&&(b.y<=c.top||b.y>=c.top+c.height)&&a.kr()}}function fO(a){var b=a.wd();if(b&&l(b.id)&&l(b.src)&&l(b.dataType)&&l(b.mediaType)){var c=b.id,d=b.src,e=b.dataType;b.poster&&(c=b.poster.id,d=b.poster.src,e=b.poster.dataType);er(new br(c,d,e),m(a.Fz,a))}}
f.Fz=function(a){a=RG(this,a);var b=this.f.Rf();(a=ov(a,"section",TG(this)))&&b!==a&&(this.view.Dh(a,b,!1),gR(this.f,a,!1));GN(this);iO(this)};f.Y=function(a){if("parent_propagation"==a.h&&"dataDelete"==a.getType()&&this.qc()&&1<SS(this.Z).length){for(var b=!0,c=tJ(this),d=0;d<c.length;d++)if(!EL(c[d])||!$R(c[d])){b=!1;break}b&&this.dispose()}SG.m.Y.call(this,a)};
function GN(a){var b=I.j().get(x.PageZoneModel.ZoneId),b=mv(b.Ak());l(b.delegatedStyles)&&-1!==oh(b.delegatedStyles,TG(a))&&(Yi(a.f,{delegatedStyle:a.B().className}),a.ca(new H("delegatedStyleChanged",a)))}f.qc=function(){this.f.options.ec&&u(tJ(this,!0),function(a){a instanceof TS&&(this.f.options.ec=!1)},this);return this.f.options.ec};I.j().register("wnd.pc.Section",dR,nR,SG);function RS(a,b,c){SG.call(this,a,b,c)}n(RS,SG);RS.prototype.Uk=function(){return!1};RS.prototype.Sk=function(){return!1};I.j().register("wnd.pc.BlogDetailHeaderSection",iR,pR,RS);function zR(a,b,c){SG.call(this,a,b,c)}n(zR,SG);I.j().register("wnd.pc.BlogSection",jR,qR,zR);function RR(a,b,c){SG.call(this,a,b,c)}n(RR,SG);I.j().register("wnd.pc.FooterSection",kR,rR,RR);function QR(a,b,c){SG.call(this,a,b,c);this.ea=t.page.isHomepage}n(QR,SG);QR.prototype.yi=function(){return QR.m.yi.call(this)||t.page.isHomepage};QR.prototype.Uk=function(){return!1};QR.prototype.Sk=function(){return!1};I.j().register("wnd.pc.HeaderSection",lR,sR,QR);function US(a,b,c){SG.call(this,a,b,c)}n(US,SG);I.j().register("wnd.pc.MasterSection",mR,tR,US);function VS(a,b,c){GK.call(this,a,b,c)}n(VS,GK);function WS(a){if(a.g){var b=a.B();a.g.c=b;a.g.observe("onDragstart",a.ln,a);a.g.observe("onDragend",a.Ry,a);a.g.observe("onDrop",a.mn,a);a.g.init()}}f=VS.prototype;f.ln=function(a,b){var c=b.sc;c&&(c instanceof tH&&(c=b.sc.Da()),c.Yb());!0===na(c.Qo)&&(this.g.l=c.dk);Vz(this.g,{blockType:c.ba(),sourceElement:c.B(),limitingBlock:c.Z.B(),parentContainer:c.Z,asSibling:!0,realGrip:!0})};f.Ry=function(){};
f.mn=function(a,b,c,d,e){a=UP(c.id);b=e;b instanceof tH&&(b=e.Da());a.C()!==b.C()&&b.move(this,a,d);this.g.reset();this.g.init()};f.Oe=function(){if(this.g&&null==Qz){this.g.reset();var a=this.B();this.g.c=a;this.g.init()}};f.X=function(){this.g&&(this.g.dispose(),this.g=null);VS.m.X.call(this)};f.Io=function(){return tJ(this)};
f.bs=function(){for(var a=this.Io(),b=null,c=null,d=!1,e=DJ(this),g=0,h=a.length;g<h;g++){b=a[g];d=g==h-1;if(!d&&"x"==e)var k=c=a[g+1],c=b.getBounds(),k=k.getBounds(),d=c.left>k.left;var c=this.g,k=b,p="left",w="right";"y"==e&&(p="top",w="bottom");var v=k.B();c.tc(v,p,null,"wnd.pc.ContainerDropStripe",!0);c.Ka(v,k);d&&c.tc(v,w,null,"wnd.pc.ContainerDropStripe",!0);this.Kn(b)}var a=this.g,e=uR("wnd.pc.ContainerDragDrop"),C;for(C in e)for(var G in Ta)b=Ta[G],a.Ka(e[C].view.g[b],e[C])};
function DJ(a){var b=tJ(a),c="x";D(b)||(b=S.oa(b[0].B()),a=S.oa(a.B()),1==Math.round(a.width/b.width)&&(c="y"));return c}f.Kn=function(){};f.ma=function(a){VS.m.ma.call(this,a);"contentChangeFinished"===a.getType()&&"children_propagation"===a.h&&this.Oe()};function XS(a,b,c){this.g=new FJ(this);GK.call(this,a,b,c)}n(XS,VS);XS.prototype.l=null;XS.prototype.Oe=function(){0<this.G.length&&(XS.m.Oe.call(this),this.l&&(this.l.reset(),this.l.init()))};XS.prototype.Yd=function(){XS.m.Yd.call(this);WS(this);this.l||(this.l=new AH(this.g),this.l.init())};XS.prototype.X=function(){this.l&&this.l.dispose();XS.m.X.call(this)};function YS(a,b,c){this.g=new QH(this);GK.call(this,a,b,c);this.ka=this.ea=!1}n(YS,VS);function xL(a,b,c,d,e,g){var h=[];a.ea=!0;d=d||"default";var k=bS(a,yv,e,g);c&&(k.data.emptyContent=c);k.data.section=b;k.data.variant=d;b=ZS(a,b);k.data.colorSchemes=b;mf(k,m(a.Ow,a,e,g));h.push(k);return h}f=YS.prototype;
f.Ow=function(a,b,c,d){c=d.id;this.ea=!1;null!=this.l&&(QS(this.l,this.U,!0),this.l=null);a=cS(this,c,a,b,{newSection:!0});$S(this,tJ(a,!0));b=new H("sectionCreated",a);this.ca(b);O(a.f,"newSection",!1);this.ka&&(wC(xC.j()),this.ka=!1)};function $S(a,b){var c=I.j().get(q.ImageSizeManager.mvcID);u(b,function(a){c.Ka(a.C(),a.ba())},a)}
f.Jb=function(a,b,c,d){YS.m.Jb.call(this,a,b,c,d);if("page"===this.getContext()&&0==this.ka&&!1===eJ()&&D(SS(this))&&!aT(this)&&!bT(this))for(this.ka=!0,a=I.j().get(x.PageZoneModel.ZoneId),b=xL(this,"default",!0),c=0;c<b.length;c++)a.R.push(b[c])};function aT(a){var b=tJ(a),c=[],d=!1;u(b,function(a){MH(a)&&c.push(a)},a);1!=c.length||c[0].qc()||(b=c[0].getBounds(),d=a.view.Gl(),a=a.view.Ej(),d=b.height+d.height+x.PageZoneModel.topOffset>=a.height);return d}
f.Y=function(a){"parent_propagation"==a.h&&(a=m(this.St,this,a),this.P&&clearTimeout(this.P),this.P=setTimeout(m(this.kq,this,a),100))};function SS(a){var b=[],c=tJ(a);u(c,function(a){MH(a)&&a.qc()&&b.push(a)},a);return b}function bT(a){var b=!1,c=tJ(a);u(c,function(a){MH(a)&&a instanceof RS&&(b=!0)},a);return b}f.St=function(){if(!$R(this)||bT(this)){var a=tJ(this);u(a,function(a){MH(a)&&MS(a)},this)}};
f.cs=function(){for(var a=tJ(this),b=!1,c=0,d=a.length;c<d;c++){var b=c==d-1,e=this.g,g=a[c],h=g.B();e.tc(h,"top",null,"",!0);e.Ka(h,g);b&&e.tc(h,"bottom",null,"",!0)}};f.Yd=function(){YS.m.Yd.call(this);this.qe()&&WS(this);this.D=new PH(null,m(this.Et,this));this.D.init()};function cT(a,b,c,d,e){var g=a.top;"bottom"===d&&(g=a.top+a.height);return{dy:new pm(a.left,g,a.width,0),js:new pm(a.left,g-b,a.width,2*c),position:d,Fq:e}}
f.Et=function(){var a=tJ(this),b=x.AddSectionManager.maxDistance,c=[],d=this.view.Ej();if("page"==this.getContext()){var e=null,g=null;u(a,function(a){e=a.getBounds();g=b;!a.jb&&(g=0);a.Uk()&&c.push(cT(e,g,b,"top",a.C()));a.Ib||!a.Sk()&&!D(c)||(g=b,e.top+e.height>d.height-b/2&&(e.height=e.height-b),c.push(cT(e,g,b,"bottom",a.C())))},this);D(c)&&(e=S.getBounds(this.B()),c.push(cT(e,b,b,"top",this.C())))}return c};
function ZS(a,b){if(!iv(b,"changeByContent"))return[];var c=dT(a),d=[];u(c,function(a){var b="";"none"===a.Kh()?b=L.j().get(Fa.PageStyles.dataType).getData("colorScheme"):b=a.Rf();d.push(b)},a);return d}function dT(a){if(!a.l)return[];var b=null,c=[a.l];a.l.jb||"top"!==a.U?"top"===a.U?b=a.l.jb:(b=a.l.Ib,null===b&&(a=a.Ib)&&"wnd.pc.SectionWrapper"===a.ba()&&(b=yR(a))):(a=a.jb)&&"wnd.pc.SectionWrapper"===a.ba()&&(b=null,$R(a)||(b=a.f.o(),b=UP(b[b.length-1])));b&&c.push(b);return c}
f.Cq=function(a){var b=E.j().create("wnd.pc.InsertContentPopup",x.InsertContentPopup.mvcId,Ex(),uz(this),{destroyAfterClose:!1,centered:!1});gH(b,pL);this.l?(iH(b,this.l.B(),this.U),fC(b,"onSelectInsertType",this.Uw,this),fC(b,"onClose",this.Zv,this)):iH(b,this.B(),"bottom");jH(b,a)};f.Uw=function(){this.ea=!0;this.l.Aa()};f.Zv=function(){tr(kr.j());this.ea||(QS(this.l,this.U),this.l=null)};f.Oe=function(){0<this.G.length&&(this.qe()&&YS.m.Oe.call(this),this.D.reset(),this.D.init())};
f.X=function(){this.D&&this.D.dispose();YS.m.X.call(this)};I.j().register("wnd.pc.SectionWrapper",pP,xP,YS);function eT(a,b,c){XS.call(this,a,b,c);this.T=!0}n(eT,XS);f=eT.prototype;f.ic=function(){return"microtemplate"};f.mv=function(a,b,c,d){c=d.id;gS(this);a=cS(this,c,a,b,{newCell:!0});aS(this)&&this.view.dc();a.lg();b=new H("microTemplateCellCreated",a);this.ca(b);O(a.f,"newCell",!1);xJ("DisableContent").hide()};
f.Uq=function(a,b){xJ("DisableContent").show();kr.j().pause("addContent",!0);qH();this.ca(new H("saveContentItems",this));var c,d=[];c=b||"bottom";a&&dS(this,a,c);var e=bS(this,Kg,a,c);mf(e,m(this.mv,this,a,c));d.push(e);c=new hi("createMicroTemplateCell",d.length);yL(Qh.j(),d,c);d=new H("inspectletInfo1",this);this.ca(d)};f.Kn=function(a){var b=tJ(a);u(b,function(b){0==b instanceof CO&&this.g.Ka(b.B(),a)},this)};
f.Y=function(a){eT.m.Y.call(this,a);"parent_propagation"==a.h&&"dataDelete"==a.getType()&&a.K()==this.K()&&a.c instanceof VJ&&$R(this)&&this.qc()&&this.Jc()};I.j().register("wnd.pc.MicroTemplate",BR,CR,eT);function VJ(a,b,c){a.Hi=c.C();lS.call(this,a,b,c);this.l="wnd.pc.ImageBlock wnd.pc.PhotoGalleryBlock wnd.pc.TextBlock wnd.pc.StyledInlineTextBlock wnd.pc.InlineTextBlock wnd.pc.ButtonBlock wnd.pc.MapBlock wnd.pc.VideoBlock wnd.pc.LogoBlock wnd.pc.HtmlBlock".split(" ");this.F=[]}n(VJ,lS);f=VJ.prototype;f.ic=function(){return"microtemplate_cell"};f.Ld=function(){return"MicroTemplateCellBaseHover"};
f.Y=function(a){VJ.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==this.Z.K()&&a.g==this.Z.getId()&&this.f.update("data_updated")};f.Cc=function(a){VJ.m.Cc.call(this,a);mG(this)&&(sH(this.Z).pb(),a.stopPropagation());return!0};f.xe=function(a){null!==mH||VJ.m.xe.call(this,a)};f.eh=function(a,b,c){a=VJ.m.eh.call(this,a,b,c);a.M=!1;return a};f.$f=function(a,b){var c=VJ.m.$f.call(this,a,b);c.M=!1;return c};f.$i=function(){var a=tJ(this);u(a,function(a){mG(a)&&a.sb()},this)};
function fT(a){a=ev(TG(a));return l(a.hasLink)?!!a.hasLink:!1}
f.Ja=function(){var a=[];if(N(this.f,"link")){var b=0!==N(this.f,"link").indexOf("/");a.push(si(ri(pi(li(new ki,"go-to"),N(this.f,"link")),N(this.f,"link")),b));a.push(ui(oi(mi(li(new ki,"edit-or-remove-link"),this),"Edit link"),m(this.dr,this,"edit-or-remove-link")))}var c=tJ(this);u(this.l,function(b){z(c,function(c){b===c.ba()&&(a=Ah(a,c.me()))},this)},this);fT(this)&&!N(this.f,"link")&&a.push(ui(mi(li(new ki,"add-link"),this),m(this.dr,this,"add-link")));return Ah(a,VJ.m.Ja.call(this))};
f.dr=function(a,b,c){return I.j().create(this.C()+"_"+a,"wnd.pc.EditLinkForm",b.view.J,b,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0,canBeEmpty:"edit-or-remove-link"===c.c}})};f.Bv=function(a){for(var b=0,c=this.F.length;b<c;b++)if(mG(this.F[b])){pS(this.F[b],a);return}pS(this.F[0],a)};I.j().register("wnd.pc.MicroTemplateCell",DR,ER,VJ);function gT(a,b){oF.call(this,a,b);this.h["class"]+=" wnd-photogallery"}n(gT,oF);function hT(a,b,c){OB.call(this,a,b,c)}n(hT,OB);f=hT.prototype;f.ua=function(){return"PhotoGalleryList"};function iT(a,b){b?(a.Lc(b),$B(a,b)):(a.Lc("PhotoGalleryList"),$B(a,"PhotoGalleryList"));aq&&a.B().focus()}function jT(a){if(a)var b="Insert photo gallery";return b||"Photo gallery"}
f.fa=function(){var a;a=this.ua();a=this.L(this.C()+"_list_area","wnd.ui.PopupEmptyBlock",a,{properties:{initRenderFlag:!0,switchAnimation:!0}});this.l=a.L(this.C()+"_navigation_image_list","wnd.pc.AddPhotoIntoGallery",null,{properties:{blockId:this.C(),title:jT(P(this.f,"isEmpty")),extendCssClass:"wnd-photogallery",switchGroups:["addImages"]}});this.g=a.L(this.C()+"_content_image_list","wnd.pc.PhotoGalleryListContent",null,{id:P(this.f,"blockId"),properties:{blockId:this.C(),fileGroup:tD,canUpload:!0,
toolbox:!0,dragDrop:!0,width:x.PhotoGalleryListContent.width,extendCssClass:"wnd-media-list-area wnd-photo-list",multipleUpload:!0,height:x.PhotoGalleryBlock.dimension.withImages.height,resize:!0}});this.g.observe("onInitUpload",this.Ez,this);this.g.observe("onFinishUpload",this.Dz,this);this.l.observe("onUploadClick",this.g.bh,this.g);this.w=a.L(this.C()+"_control_image_list","wnd.pc.AddPhotoGalleryControlBar",null,{properties:{controls:{left:[],right:["Cancel","Close"]},switchContainer:this.getId()}});
this.w.observe("onUploadCancel",this.g.ah,this.g);iT(this,"PhotoGalleryList");a=this.l;var b=jT(this.g.isEmpty());O(a.f,"title",b);a.view.dc()};f.Am=function(a){this.g.Am(a)};
f.Ez=function(){this.w.eb("Cancel",!0);this.w.eb("Close",!1);S.aa(this.l.view.xa,!1);this.g.isEmpty()&&(this.resize(x.DefaultPopupProperties["wnd.pc.PhotoGalleryPopup"].width,x.DefaultPopupProperties["wnd.pc.PhotoGalleryPopup"].height),this.g.resize(x.PhotoGalleryBlock.dimension.withImages.width,x.PhotoGalleryBlock.dimension.withImages.height));this.l.Aa();this.notify("onInit")};
f.Dz=function(a,b){this.w.eb("Cancel",!1);this.w.eb("Close",!0);this.l.Fa();S.aa(this.l.view.xa,!0);this.notify("onFinish",b)};
f.show=function(){hT.m.show.call(this);this.g.isEmpty()?(this.w.eb("Close",!1),this.w.eb("Cancel",!0),S.aa(this.l.view.xa,!1),this.resize(x.DefaultPopupProperties["wnd.pc.SelectMediaPopup"].width,x.DefaultPopupProperties["wnd.pc.SelectMediaPopup"].height),this.g.resize(x.PhotoGalleryBlock.dimension.withoutImages.width,x.PhotoGalleryBlock.dimension.withoutImages.height)):(this.w.eb("Cancel",!1),this.w.eb("Close",!0),S.aa(this.l.view.xa,!0),this.g.resize(x.PhotoGalleryBlock.dimension.withImages.width,
x.PhotoGalleryBlock.dimension.withImages.height));this.l.Fa()};f.hide=function(a,b){return this.qb()?!1:hT.m.hide.call(this,a,b)};f.hc=function(){hT.m.hc.call(this);var a=this.l,b=jT(this.g.isEmpty());O(a.f,"title",b);a.view.dc();this.view.zn()};f.Y=function(a){hT.m.Y.call(this,a);a.K()==this.K()&&"parent_propagation"==a.h&&this.B()&&iT(this);"children_propagation"==a.h&&a.c&&a.c.getId()==this.getParent().getId()&&(QE(this.g),this.g.V.reset(),this.g.V.init())};f.qb=function(){return this.g.ga&&this.g.ga.qb()};
I.j().register("wnd.pc.PhotoGalleryPopup",Jk,gT,hT);function kT(a,b,c){GK.call(this,a,b,c);this.U=!0;this.D=this.l=!1;this.g=null;this.T=!0}n(kT,GK);f=kT.prototype;f.Ja=function(){var a=[];uO(this)&&a.push(qi(ni(li(new ki,"edit"),m(this.Wc,this)),!0));return Ah(a,kT.m.Ja.call(this))};f.Jb=function(a,b,c,d){kT.m.Jb.call(this,a,b,c,d)};
f.pa=function(a){kT.m.pa.call(this,a);this.U&&$i(this.f)&&(this.U=!1,this.zb=E.j().create("wnd.pc.PhotoGalleryPopup",this.C()+"_popup",document.body,this,{},{blockId:this.C()}),fC(this.zb,"onClose",this.hv,this),fC(this.zb,"onInit",this.jr,this),fC(this.zb,"onFinish",this.ir,this))};
f.Wc=function(a){a.stopPropagation();this.Yb();uO(this)&&(this.zb=E.j().create("wnd.pc.PhotoGalleryPopup",this.C()+"_popup",document.body,this,{},{blockId:this.C(),isEmpty:this.isEmpty()}),fC(this.zb,"onInit",this.jr,this),fC(this.zb,"onFinish",this.ir,this))};f.Rc=function(a,b){!1===this.l&&this.f.update(a,b)};f.hv=function(){this.D||this.dispose()};f.jr=function(){this.D=this.l=!0;this.g=null};
f.ir=function(a,b){if(!0===this.l){if(null!=b){for(var c={},c={},d={},e=Na(b),g=0;g<e.length;g++)c={"=imageId":b[e[g]].getId(),"=imageSrc":b[e[g]].ya(),"=dataType":b[e[g]].K(),"=width":b[e[g]].Ma(),"=height":b[e[g]].getHeight()},c=Zi(I.j(),"wnd.pc.PhotoImageBlock",c),d[e[g]]=this.ud("wnd.pc.PhotoImageBlock",void 0,void 0,c);this.zb.Am(d)}d=new H("photoGalleryChange",this);this.ca(d);this.l=!1;this.Rc("data_created");null!==this.g&&(this.ca(this.g),this.g=null)}};f.isEmpty=function(){return 0==this.f.getData().content.length};
f.Y=function(a){a.K()==this.K()&&"parent_propagation"==a.h&&"dataUpdate"==a.getType()&&a.g==this.C()&&kT.m.Y.call(this,a)};f.hg=function(a){a instanceof zg&&"dataCreate"==a.getType()&&a.c&&"wnd.pc.PhotoImageBlock"==a.c.ba()?this.g=a:kT.m.hg.call(this,a)};I.j().register("wnd.pc.PhotoGalleryBlock",nP,vP,kT);function lT(a,b){mI.call(this,a,b)}n(lT,mI);
lT.prototype.N=function(){var a=N(this.f,"image"),b=q.FilesystemPreviewSize.small,c=N(this.f,"image"),d={src:po(c.src,c.dataType,b),width:0,height:0},e=c.width,c=c.height;e>c?(d.width=b,d.height=Math.round(b/e*c)):(d.width=Math.round(b/c*e),d.height=b);b=po(a.src,a.dataType);e=["wnd-orientation-"+this.f.Il()];return gf(lT.m.N.call(this),{id:N(this.f,"id"),title:N(this.f,"description"),"detail.src":b,"preview.src":d.src,"detail.width":a.width,"detail.height":a.height,"preview.width":d.width,"preview.height":d.height,
"contentElement.class":e.join(" ")})};function mT(a,b,c){KM.call(this,a,b,c);a.J=c.C()}n(mT,KM);mT.prototype.ic=function(){return"container_item"};mT.prototype.Y=function(a){mT.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==this.Z.K()&&a.g==this.Z.getId()&&F(this.Z.f.o(),this.C())&&this.f.update("data_updated")};mT.prototype.Jb=function(){var a=new H("photoGalleryChange",this);this.ca(a)};mT.prototype.getImageData=function(){return l(this.f.getData().image)?this.f.getData().image:null};
I.j().register("wnd.pc.PhotoImageBlock",uv,lT,mT);function nT(a,b,c){OB.call(this,a,b,c)}n(nT,RL);f=nT.prototype;
f.fa=function(){this.L(this.C()+"_navigation_upload_image","wnd.ui.BasicNavigationBar",null,{properties:{title:"image"==P(this.f,"fileGroup")?"Insert image":"Insert file",extendCssClass:"image"==P(this.f,"fileGroup")?"wnd-upload-image":"wnd-upload-file",initRenderFlag:!0}});this.l=this.L(this.C()+"_content_upload_image","wnd.pc.SelectMediaContent",null,{properties:{popupId:this.C(),closeAfterUpload:!0,fileGroup:P(this.f,"fileGroup"),initRenderFlag:!0,width:"100%",height:200,multipleUpload:!1}});this.l.observe("onInsert",
this.Pp,this);this.l.observe("onInit",this.Vv,this);this.l.observe("onClose",this.Ep,this);this.l.observe("onFinish",this.Oz,this);var a={right:["Cancel"]};"image"==P(this.f,"fileGroup")&&(a.left=["ImageList"]);this.g=this.L(this.C()+"_footer_upload_image","wnd.pc.SelectMediaFooter",null,{properties:{controls:a,fileGroup:P(this.f,"fileGroup"),initRenderFlag:!0,height:x.SelectMediaFooter.height}});this.g.observe("onInsert",this.Pp,this);this.g.observe("onClose",this.Ep,this);this.g.observe("onCancel",
this.l.Ju,this.l)};f.Vv=function(){"image"==P(this.f,"fileGroup")?this.g.eb("ImageList",!1):this.g.eb("FileList",!1)};f.Oz=function(a,b){"image"==P(this.f,"fileGroup")?this.g.eb("ImageList",!0):this.g.eb("FileList",!0);b||this.hide()};f.hide=function(a,b){return this.qb()?!1:nT.m.hide.call(this,a,b)};f.show=function(){nT.m.show.call(this);"image"==P(this.f,"fileGroup")?this.g.eb("ImageList",!0):this.g.eb("FileList",!0)};
f.Pl=function(a){var b={},c=P(this.f,"createMVCType");"wnd.pc.FileBlock"===c&&(b={"=fileId":a.id,"=fileSrc":a.src,"=dataType":a.dataType});"wnd.pc.ImageBlock"===c&&(b={"=imageId":a.id,"=imageSrc":a.src,"=dataType":a.dataType});return b};
f.Jo=function(a){var b={},c=P(this.f,"createMVCType");if("wnd.pc.FileBlock"===c){b=Ha("wnd.pc.FileBlock.download");""!==b&&(b+=" ");a:{var d=b+a.name,b=25;if(b<d.length){var e=d.replace(/\.+/g,"."),g=e.lastIndexOf(".");if(0>=g){b=d;break a}d=e.substr(g+1);e=e.substr(0,g);b-=1+d.length;g=e.substr(-(b/5));b-=3+g.length;d=e.substr(0,b)+"..."+g+"."+d}b=d}b={code:b}}"wnd.pc.ImageBlock"===c&&(b={image:{size:{width:a.width,height:a.height}}});return b};
f.Pp=function(a,b){var c={id:b.getId(),dataType:b.K(),src:b.ya(),name:b.Eg,width:b.Ma(),height:b.getHeight(),mediaType:b.ja};this.notify("onInsert",this.Tf(c));Jh(this,"onClose")};f.Ep=function(){this.hide()};f.Hd=function(){this.l.ah();this.notify("onClose")};f.qb=function(){return this.l.ga&&this.l.ga.qb()};I.j().register("wnd.pc.SelectMediaPopup",ak,oF,nT);function CL(a,b,c){GO.call(this,a,b,c);c instanceof VJ&&(a.yh=!0);this.F=m(this.lz,this);this.S=m(this.jz,this);this.I=m(this.iz,this);this.l=null;c instanceof lS&&(a.options.mh=!1)}n(CL,UO);f=CL.prototype;f.Ld=function(){var a="PageEditHover";0==this.M&&(a="ButtonHover");return a};
f.Ja=function(){var a=[];uO(this)&&("link"===N(this.f,"variant")&&N(this.f,"link")&&a.push(si(ri(li(new ki,"go-to"),N(this.f,"link")),/^[a-z]+:\/\//.test(N(this.f,"link")))),a.push(qi(ni(li(new ki,"edit"),m(this.Wc,this)),!0)));return Ah(a,CL.m.Ja.call(this))};f.me=function(){var a=[];uO(this)&&a.push(ni(li(new ki,"change-image"),m(this.Sx,this)));return Ah(a,CL.m.me.call(this))};f.O=function(){CL.m.O.call(this);Zp&&this.view.Oa()&&this.c.H(this.view.Oa(),eq,m(this.Uv,this))};f.Uv=function(a){a.preventDefault()};
f.mz=function(){this.dispose()};f.bg=function(a){this.V&&(this.V.dispose(),this.V=null);CL.m.bg.call(this,a)};f.ck=function(){this.zc();EH(this.f,null,null,!0,!0)&&(wJ(this.Z)&&(this.f.w={left:0,right:0}),this.ra())};f.zc=function(){CL.m.zc.call(this);CH(this.f);this.f.Mm(this.view.Lh());if(DL(this)){var a=S.oa(this.Z.B()).width;this.f.vc=a}};
f.Yn=function(a,b){if(!DH(this.f))return!1;var c=this.f.Kg().height,d=this.f.Kg().width;if(0!==b)switch(a){case "top":c=c-b;break;case "down":c+=b}var e=d,g=x.ImageBlock.snapOffset,h=(c-g)*e/c,g=(c+g)*e/c,k=c*DH(this.f).width/DH(this.f).height;0<h&&h<k&&k<g&&(c=e*DH(this.f).height/DH(this.f).width);c=parseFloat(c.toFixed(2));d=parseFloat(d.toFixed(2));EH(this.f,d,c)&&(d=this.f.T,this.view.Sa().style.paddingBottom=d+"%",AI(this.view,this.f.Na),uI(this.view,this.f.w));oT(this);return!0};
f.Zn=function(a,b,c){if(!DH(this.f))return!1;var d;DL(this)?d=this.f.wa.width:(d=this.f.Kg().width,b*=2);0!==b&&(c==a?d+=b:d=d-b);d=parseFloat(d.toFixed(2));DL(this)?(HH(this.f,d),a=this.f.fb,S.setWidth(this.view.B(),a?a+"%":"")):(this.f.Kf(d),uI(this.view,this.f.w));oT(this);return!0};f.resize=function(a){DL(this)||(this.zc(),wJ(this.Z)?this.f.w={left:0,right:0}:this.f.Kf(null,null,!0),uI(this.view,this.f.w),a&&this.ra())};f.Yb=function(){this.ea||CL.m.Yb.call(this)};
f.Wc=function(a){a.stopPropagation();this.Yb();uO(this)&&(E.j().create("wnd.pc.EditImagePopup",this.C()+"_popup_edit",document.body,this,{},{blockId:this.C(),directoryId:x.ImageBlock.directoryId,onRemove:m(this.mz,this)}),a=new H("inspectletInfo1",this),this.ca(a))};
f.Sx=function(){var a=N(this.f,"image"),b=L.j().get("project_info").getData(),c={key:"category",value:"",order:"DESC"},b={key:"category",value:[Fa.StaticServerCategory.templates,b.uikit_name,b.template_name,b.template_branch_id],optional:[b.uikit_name,b.template_name,b.template_branch_id]},d=I.j().get(this.getId());UK(d)?(d=TG(UK(d)),d=ev(d),d=Fa.StaticServerCategory.microtemplatePrefix+d.type,b.value.push(Fa.StaticServerCategory.microtemplate),b.value.push(d),b.optional.push(d),b.optional.push(Fa.StaticServerCategory.microtemplate),
c.value=Fa.StaticServerCategory.microtemplate):(b.value.push(Fa.StaticServerCategory.content),b.optional.push(Fa.StaticServerCategory.content),c.value=Fa.StaticServerCategory.content);c={filterMN:[b],orderMN:c};b={};b.publicImages=c;b.publicIcons=c;fC(OG(E.j(),{showTypes:[Uj,"publicImages","publicIcons"],activeType:IC(a.dataType,a.src),collectionSettings:b,checkLowResolution:!1}),"onInsert",this.kz,this);l(sH(this).o)&&sH(this).o.hide();this.Yb()};f.kz=function(a,b){this.f.jk(b[0])};
f.Y=function(a){mG(this)&&"dataUpdate"==a.getType()&&this.Z&&this.Z.C()==a.g&&oT(this);"dataUpdate"==a.getType()&&FO(this)&&FO(this).K()==a.K()&&FO(this).C()==a.g&&pT(this);"dataUpdate"==a.getType()&&a.K()==this.K()&&a.g==this.C()&&((a=a.A)&&(a.width||a.height)?(this.zc(),EH(this.f,null,null,!0,!0)&&(this.ra(),this.resize(!0))):this.f.update("data_updated",!0))};
f.ma=function(a){CL.m.ma.call(this,a);"colorSchemeChange"==a.getType()&&pT(this);a.c===FO(this)&&"sectionCreated"==a.getType()&&pT(this,!0)};function pT(a,b){var c=!1;if(qo(a.f.ya())&&(c=a.view.Pe(),bq)){requestAnimationFrame(m(a.nz,a));return}b&&c&&a.Aa()}f.nz=function(){this.view.Fm()};f.jz=function(){xJ("Move").show();this.g={lb:{va:null,step:0},Qa:{va:null,step:0}}};f.iz=function(){xJ("Move").hide();this.ra(!0)};
f.lz=function(){var a=this.V.Xc(),b=Math.floor(a.lb.difference/x.ContentResizeStripe.minDifference),c=Math.floor(a.Qa.difference/x.ContentResizeStripe.minDifference);if(null===this.g.lb.va&&null===this.g.Qa.va){this.D=S.getPosition(CI(this.view));var d=this.view;S.Le(d.Oa(),d.Sa()).round();this.zc()}"vertical"==qT(this)?null===this.g.lb.va||this.g.lb.va===a.lb.va&&this.g.lb.step===b?(this.g.lb.va=a.lb.va,this.g.lb.step=b):(this.g.lb.va=a.lb.va,this.g.lb.step=b,rT(this,a.lb.va,b)):"horizontal"==qT(this)&&
(null===this.g.Qa.va||this.g.Qa.va===a.Qa.va&&this.g.Qa.step===c?(this.g.Qa.va=a.Qa.va,this.g.Qa.step=c):(this.g.Qa.va=a.Qa.va,this.g.Qa.step=c,rT(this,a.Qa.va,c)))};
function rT(a,b,c){if(DH(a.f)){var d=null,e=null,g=0,g=0,h=x.ImageBlock.sliderOffset,k=S.getBounds(BI(a.view));if(0!==c)switch(b){case "top":g=a.D.y-c;d=100*g/(k.height-h);break;case "down":g=a.D.y+c;d=100*g/(k.height-h);break;case "left":g=a.D.x-c;e=100*g/(k.width-h);break;case "right":g=a.D.x+c,e=100*g/(k.width-h)}null!==d&&(100<d?d=100:0>d&&(d=0),b=d+"%",S.setPosition(CI(a.view),"",b));null!==e&&(100<e?e=100:0>e&&(e=0),b=e+"%",S.setPosition(CI(a.view),b,""));b=a.f;h=e;k=DH(b).width;g=DH(b).height;
e=b.J.width;c=b.J.height;var p=g/k,w=c/e;h&&k/g>e/c?(d=c*k/g-e,b.S.Qa=GH(d/(d/100*h))):d&&p>w&&(h=e*g/k-c,b.S.lb=GH(h/(h/100*d)));FH(b,e,c);AI(a.view,a.f.Na)}}f.$d=function(a){CL.m.$d.call(this,a);1==this.M&&(S.aa(BI(this.view),!0),!this.V&&this.B()&&(this.V=new Oz,this.V.T=!1,Sz(this.V,Ex()),this.V.Ka(CI(this.view)),this.V.observe("onDragstart",this.S,this),this.V.observe("onDragend",this.I,this),this.V.observe("onMouseMove",this.F,this),this.V.init()),this.zc(),oT(this))};
f.sb=function(a){CL.m.sb.call(this,a);1==this.M&&S.aa(BI(this.view),!1)};
function oT(a){var b,c,d=qT(a),e=null!==d;S.aa(BI(a.view),e);if(d){var g=x.ImageBlock.sliderOffset,h=x.ImageBlock.rangeAreaOffset,e=a.f;b=100/e.S.lb;c=100/e.S.Qa;var k=S.getBounds(a.view.Sa()),p=0,w=0,v=e="";R(BI(a.view),"horizontal","horizontal"==d);"vertical"==d?(e=b+"%",S.setPosition(CI(a.view),"",e),p=k.top,w=k.left+k.width,e=k.height-g-2*h):(v=c+"%",S.setPosition(CI(a.view),v,""),p=k.top+k.height,w=k.left,v=k.width-g-2*h);g=w;h=p;S.setPosition(BI(a.view),g,h);g=v;S.setSize(BI(a.view),g,e)}}
function qT(a){var b=a.view.Lh();a=S.oa(a.view.Oa());var c=null;(b.width/b.height).toFixed(1)!==(a.width/a.height).toFixed(1)&&(a.height>b.height?c="vertical":a.width>b.width&&(c="horizontal"));return c}function DL(a){a=a.f.gc?a.f.gc:N(a.f,"style")["float"];return"left"==a||"right"==a}f.Ua=function(a){CL.m.Ua.call(this,a);pT(this)};
f.Aa=function(){var a=this.view.Sa();if(a&&qo(this.f.ya())){this.view.mf(!1);this.l||(this.l=I.j().create(this.C()+"_loading","wnd.ui.Loading",a,this,{properties:{type:"icon",contentSize:Fe(this.view.Lh())}}));this.l.show();var b=this.l.view;b.B().parentNode!==a&&(b.sg=a,a=b.B(),b.bb().appendChild(a));this.view.Oa()&&this.c.H(this.view.Oa(),"load",m(this.Fa,this))}};f.Fa=function(){this.l&&(this.l.dispose(),this.l=null);this.view.mf(!0)};
f.getImageData=function(){return l(this.f.getData().image)?this.f.getData().image:null};I.j().register("wnd.pc.ImageBlock",BH,yI,CL);function sT(a,b,c){OB.call(this,a,b,c)}n(sT,OB);
sT.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"SOCIAL NETWORKING ICON",initRenderFlag:!0,extendCssClass:"wnd-upload-image"}});var a=this.L(this.C()+"_content","wnd.ui.PopupEmptyBlock",this.ua(),{properties:{initRenderFlag:!0}});this.l=a.L(this.C()+"_image_detail","wnd.pc.SocialIconsImage",null,{id:P(this.f,"blockId"),properties:{initRenderFlag:!0,imageId:P(this.f,"imageId"),directoryId:x.ImageBlock.directoryId,buttonType:"Edit",width:x.SocialIconsImage.width,
height:x.SocialIconsImage.height}});this.g=a.L(this.C()+"_form","wnd.pc.SocialIconsEditForm",null,{id:P(this.f,"blockId"),properties:{id:this.C()+"-form-content",initRenderFlag:!0,width:x.SocialIconsEditForm.width}});this.L(this.C()+"_control","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{right:["Submit"]},initRenderFlag:!0}})};sT.prototype.show=function(){this.g&&this.g.Bc();sT.m.show.call(this)};sT.prototype.mb=function(){this.g.ra()&&this.hide()};
I.j().register("wnd.pc.SocialIconsEditPopup",ak,oF,sT);function tT(a,b,c){VJ.call(this,a,b,c);this.g=null}n(tT,VJ);f=tT.prototype;f.Ja=function(){var a=[];a.push(qi(ni(li(new ki,"edit"),m(this.Wc,this)),!0));return Ah(a,tT.m.Ja.call(this))};f.Wc=function(a){a.stopPropagation();E.j().create("wnd.pc.SocialIconsEditPopup","wnd-popup-edit-social-icon_"+this.C(),document.body,this,{},{blockId:this.C()})};function uT(a){a.view.Oa()&&qo(a.f.ya())&&(a.view.Pe(),bq?requestAnimationFrame(m(a.Pz,a)):a.Aa())}f.Pz=function(){this.view.Fm()};
f.ma=function(a){tT.m.ma.call(this,a);"colorSchemeChange"==a.getType()&&uT(this)};f.Ua=function(a){tT.m.Ua.call(this,a);uT(this)};f.Aa=function(){var a=this.view.Lg();a&&qo(this.f.ya())&&(this.view.mf(!1),this.g||(this.g=I.j().create(this.C()+"_loading","wnd.ui.Loading",a,this,{properties:{type:"icon"}})),this.g.show(),this.view.Nm("relative"),this.view.Oa()&&this.c.H(this.view.Oa(),"load",m(this.Fa,this)))};f.Fa=function(){this.g&&(this.g.dispose(),this.g=null);this.view.mf(!0)};
I.j().register("wnd.pc.SocialIconsCell",FR,GR,tT);function vT(a,b){oF.call(this,a,b);this.Ff=null}n(vT,oF);vT.prototype.da=function(){vT.m.da.call(this);var a=gs(Fu,{uri:t.projectUrl,link:t.projectDomain});this.Ff=a.querySelector(".wnd-start-button");this.Va.appendChild(a)};function wT(a,b,c){OB.call(this,a,b,c);O(this.f,"extendCssClass","wnd-welcome")}n(wT,OB);wT.prototype.show=function(){wT.m.show.call(this)};wT.prototype.O=function(){wT.m.O.call(this);null!==this.view.Ff&&this.c.H(this.view.Ff,U,m(this.hide,this,null,!0))};wT.prototype.hide=function(a,b){var c=wT.m.hide.call(this,a,b);!0===c&&(Ie(Ke,"welcomeDone","1",86400,"/"),oa(window.history)&&na(window.history.replaceState)&&window.history.replaceState({},"",t.baseUrl));return c};
I.j().register("wnd.pc.WelcomePopup",Kk,vT,wT);function xT(a,b,c){wr.call(this,a,b,c);this.w=this.l=this.g=null}n(xT,wr);f=xT.prototype;f.fa=function(){this.g=this.L(this.C()+"_content","wnd.pc.WysiwygLinkForm",null,{properties:{id:this.C(),width:x.WysiwygLinkForm.width,attributes:P(this.f,"attributes"),initRenderFlag:!0}})};
f.mb=function(a){if(this.Ya()&&this.g.ra()){var b=hC(this.g,"href");if(null!=b)if(""===b.jd())P(this.f,"unlink").call(P(this.f,"object"));else{var c=b.getValue(),d=hC(this.g,"target");"insertLink"===P(this.f,"action")&&1==(null!=this.l)&&this.w===this.l.innerHTML&&sp(this.l);this.w=b.ke()||c;this.l=P(this.f,"process").call(P(this.f,"object"),{href:c,target:d.getValue()?"_blank":""},this.w)}"fromHide"!=a&&this.hide(null);this.getParent().Vc()}};
f.hide=function(a){if(null!=a&&a instanceof iq){if(-1<this.B().outerHTML.indexOf(a.target.outerHTML))return!1;this.mb("fromHide")}else l(a)||this.mb("fromHide");a=xT.m.hide.call(this,a);!0===a&&(P(this.f,"cancel").call(P(this.f,"object")),setTimeout(m(function(){if(!0===(null!=this.g)){var a=this.g;null!=a.g&&a.g.close()}},this),500));return a};f.Hd=function(){this.notify("onClose")};f.Gr=function(a){13===a.keyCode&&this.mb()};f.O=function(){xT.m.O.call(this);this.c.H(this.B(),U,this.Xz)};f.Xz=function(a){a.stopPropagation()};
I.j().register("wnd.pc.WysiwygLinkPopup",ck,qF,xT);function CO(a,b,c){GO.call(this,a,b,c);this.I=!1;this.S=[];this.F=0;this.l=null;yT();this.T=this.D=this.xa=!1;uO(this)||(a=this.view,LI(a)&&R(LI(a),NI(),!1));zT(this)}var AT;n(CO,GO);f=CO.prototype;f.be=null;f.Ld=function(){return"PageBaseHover"};
f.Wa=function(a){if(this.Qi()){this.T=!1;if(!this.I){var b=LI(this.view);do if("A"==b.nodeName&&b.hasAttribute("href")&&(jy(b,"wnd_href",b.getAttribute("href")),b.removeAttribute("href")),b===this.B())break;while(b=b.parentNode);this.I=!0}var b=uO(this)&&yT().Ha(this),c=a.target&&!Ap(this.B(),a.target);BT(this,c);CO.m.Wa.call(this,a);this.Z instanceof VJ&&(!0===b&&!0===yT().Zm()?sH(this.Z).o.hide():yT().qk(!1))}else CO.m.Wa.call(this,a)};f.Qi=function(){return!0};
f.Ua=function(a){CO.m.Ua.call(this,a);this.I=!1;this.view.Pj()||QI(this.view,"",!0);this.Vc()};f.ih=function(){zT(this);yT().remove(this)};f.bg=function(a){CO.m.bg.call(this,a);yT().Ha(this)&&this.ih()};
function BT(a,b){if(!a.ub){a.be||(a.be={});null!=b&&(a.be.setCursor=b);var c;c=a.view;if(!c.wh){var d=document.getElementById(c.f.C()+"_wsw_container");d&&(c.wh=d.cloneNode(!1).outerHTML)}(c=c.wh)&&(a.be.textContainerHTML=c);OI(a.view)&&a.be&&!0===a.be.disableFormatting&&(LI(a.view).innerHTML="&nbsp;");(c=UK(a))&&(a.be.editorDimension=m(c.getBounds,c));uO(a)&&!yT().Ha(a)&&(c=PI(a.view),yT().Wa(a,a.be),a.f.l=!0,d=new H("inspectletInfo1",a),a.ca(d),CT(a,c))}}
f.sb=function(a){if(Zp&&a){var b=null;!0===(null!=wO(this))?b=S.getBounds(wO(this).view.B()):!0===(null!=vO(this))&&(b=S.getBounds(vO(this).view.B()));if(b){var c=pr(kr.j(),a);if(b.contains(c))return}}b=PI(this.view);this.ra();this.ih();CO.m.sb.call(this,a);CT(this,b)};function DT(a){var b=yT().getContent();OI(a.view)?(b="",LI(a.view).innerHTML=""):b=ET(b);b={code:b};a.f.options.Fg&&(b.style={cssClasses:{fontSize:a.f.ha}});return b}
f.Jb=function(a,b,c,d){CO.m.Jb.call(this,a,b,c,d);c&&this.D&&!this.Z.ub&&(IR(uz(this)).Em=!1)};f.ra=function(){if(yT().Ha(this)){var a=DT(this);this.f.ra(!0,a);this.Uf(!0);this.f.l=!1;return!0}return!1};function ET(a){a=a.replace(/ id="[^"]*"/g,"");return a=a.replace(/ data-wnd[^=]+="[^"]*"/g,"")}f.X=function(){mG(this)?this.sb():this.ih();CO.m.X.call(this)};function yT(){"undefined"==typeof AT&&(AT=new AK);return AT}f.Uf=function(a){a=this.view.Uf(a||!1);this.f.Gn=a.length;return a};
function FT(a,b){var c,d=a.view;c=LI(d).cloneNode(!0);for(var d=MI(d,c,!0,!1),d=xp(d[b]),e;d;)e=xp(d),sp(d),d=e;c=c.innerHTML;d=a.view;e=MI(d,LI(d),!1,!1);for(var g=e.length,h=b;h<g;h++)sp(e[h]);MI(d,LI(d),!0,!0);d=LI(d).innerHTML;Xi(a.f,"code",d);return c}f.Og=function(){return this.view.Og()};f.Fj=function(){return yT().getContent()};f.Im=function(){var a=N(this.f,"code"),b=this.Fj(),c=ah(b);return!0===(b!=a&&c!=a)};
f.Cc=function(a){var b=CO.m.Cc.call(this,a);yT().Ha(this)||this.Wa(a);mG(this)&&(a.stopPropagation(),a.target===this.B()&&a.preventDefault());return b};f.Ic=function(){var a=this.f.options.Oc;0==this.M&&(a=!1);return a};f.Th=function(){return this.f.options.Dc};f.bc=function(){var a=null;UK(this)?a=new Ym(0,0,0,0):a=CO.m.bc.call(this);return a};f.$i=function(){var a=PI(this.view);yT().Ha(this)&&(this.ra(),this.ih());this.Vc();CT(this,a)};
f.Vz=function(a){var b=a.currentTarget.href;if(b){a.stopPropagation();a=new H("saveAndDeactivateContentItems",this);this.ca(a);a=window.location.href.match(Rn);var c=b.match(Rn);!1===(a[3]==c[3]&&a[4]==c[4])?window.open(b,"_blank"):window.location.href=b}};
f.Ja=function(){var a=[];if(this.f.options.lj&&!D(fv())&&!Ru()){var b=this.f.getData(),c="";b.style&&b.style.cssClasses&&b.style.cssClasses.fontFamily&&(c=b.style.cssClasses.fontFamily);u(fv(),function(a){null!=a.subst&&F(a.subst,c)&&(c=a["class"])},this);a.push(ni(ti(mi(oi(li(new ki,eG),"Font"),this),VH(this.f)).$a(c),m(this.Nu,this)))}return Ah(a,CO.m.Ja.call(this))};f.me=function(){var a=[],b=UK(this);a.push(mi(ni(li(new ki,YF),m(b.Bv,b)),this));F(b.F,this)||b.F.push(this);return Ah(a,CO.m.me.call(this))};
f.jf=function(a){yT().Ha(this)||BT(this);var b=PI(this.view);yT().Hm(a);QI(this.view,"",!0);this.Vc();CT(this,b)};f.Cs=function(){var a=sH(this).o,b=ni(li(new ki,"remove-confirm"),m(this.Jc,this));a.Ya()||(a.show(),a.view.show());a.I=!0;NF(a.view,!!P(a.f,"arrow"));iG(a);switch(b.c){case "remove-confirm":case "remove-form-confirm":a.el(b)}};function pS(a,b){b.stopPropagation();!1===mG(a)&&(a.Cc(b),a.ae(b));a.be&&a.be.disableFormatting||sH(a.Z).o.hide();yT().qk(!0)}
function CT(a,b){if(!Ee(b,PI(a.view))){var c=new H("contentChange",a);a.ca(c)}}f.Pd=function(a){CO.m.Pd.call(this,a);if(a&&this.f.options.Fg){var b=Cr(a.keyCode);if("keypress"===a.type){a=a.charCode||b||a.which;b=String.fromCharCode(a);if(32===a||8===a)b="&nbsp;";QI(this.view,b,!1)}}2<Math.abs(this.f.Gf-KI(this.view).length)&&QI(this.view,"",!0);this.D=!1;a=m(this.Rt,this);this.U&&clearTimeout(this.U);this.U=setTimeout(a,500);kr.j().pause("addContent",!0)};
f.Rt=function(){var a=this.Fj();a!=this.f.Cn&&(this.f.Cn=a,this.Uf(!0),a=new H("contentChange",this),this.ca(a),tr(kr.j()));this.D=!0};f.Nu=function(a,b){this.D=this.f.l=!1;var c={};yT().Ha(this)&&(c=DT(this));c.style={cssClasses:{fontFamily:b}};Yi(this.f,c);c=PI(this.view);QI(this.view,"",!0);this.jo(c,b);if(!F(this.S,b)){if(null===this.l){var c=sH(this),d=pO(c);this.l=I.j().create(this.C()+"_loading","wnd.ui.Loading",c.view.g.top,this,{properties:{type:"wnd-block",height:d.height,width:d.width}})}this.l.show()}};
f.Zj=function(a,b){this.D=this.f.l=!1;var c={};yT().Ha(this)&&(c=DT(this));c=LO(c,b);Yi(this.f,c)};f.jo=function(a,b){var c=PI(this.view);this.F<x.InlineTextBlock.waitForResize.count&&!F(this.S,b)&&Ee(a,c)?(this.F++,setTimeout(m(this.jo,this,a,b),x.InlineTextBlock.waitForResize.time)):(F(this.S,b)||this.S.push(b),this.F=0,QI(this.view,"",!0),this.Vc(),null!=this.l&&(this.l.dispose(),this.l=null),c=new H("fontChange",this),this.ca(c))};
f.Ns=function(a,b){this.gj=E.j().create("wnd.pc.WysiwygLinkPopup","wnd-wysiwyg-link",document.body,a,{destroyAfterClose:!0,withOverlay:!1},b)};f.Y=function(a){CO.m.Y.call(this,a);"children_propagation"===a.h&&zT(this)};f.ma=function(a){CO.m.ma.call(this,a);"resizeWindow"===a.getType()&&zT(this)};function zT(a){if(a.Z&&wJ(a.Z)&&LI(a.view)&&OI(a.view)){var b=PI(a.view),c=b.width<x.WysiwygBlock.placeholder.visibilityWidth;a.T!=c&&(a.T=c,LI(a.view).innerHTML=c?"&nbsp;":"",CT(a,b))}};function GT(a,b,c){CO.call(this,a,b,c);this.be={disableFormatting:!0}}n(GT,CO);GT.prototype.Pd=function(a){GT.m.Pd.call(this,a);a&&("keydown"==a.type&&OI(this.view)&&(LI(this.view).innerHTML=""),"keydown"==a.type&&13==a.keyCode&&this.sb(a))};GT.prototype.Ja=function(){var a=GT.m.Ja.call(this);this.qc()&&a.push(qi(ni(li(new ki,"remove-confirm"),m(this.Jc,this)),!0));return a};GT.prototype.me=function(){return[]};
GT.prototype.Cc=function(a){GT.m.Cc.call(this,a);OI(this.view)&&Zp&&(a.stopPropagation(),a.preventDefault(),LI(this.view).focus());return!0};function HT(a,b,c){GT.call(this,a,b,c)}n(HT,GT);f=HT.prototype;f.Sf=function(){return"buttonColors"};f.Ja=function(){var a=[];if(N(this.f,"link")){var b=0!==N(this.f,"link").indexOf("/");a.push(si(ri(pi(li(new ki,"go-to"),N(this.f,"link")),N(this.f,"link")),b))}uO(this)&&(b=N(this.f,"link")?"edit-link":"add-link",a.push(ui(mi(li(new ki,b),this),m(this.Wq,this,b))));return Ah(a,HT.m.Ja.call(this))};
f.me=function(){var a=[];uO(this)&&a.push(ui(mi(li(new ki,"edit-link"),this),m(this.Wq,this,"edit-link")));return Ah(a,HT.m.me.call(this))};f.Wq=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditLinkForm",b.view.J,b,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0}})};f.Y=function(a){HT.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.c&&"wnd.pc.EditLinkForm"==a.c.ba()&&a.c.getId()==this.getId()&&(this.I=!1)};f.Ic=function(){return this.f.options.Oc};
I.j().register("wnd.pc.ButtonBlock",XH,WI,HT);function IT(a,b,c){GT.call(this,a,b,c)}n(IT,GT);IT.prototype.Sf=function(){return"fileColors"};IT.prototype.Ic=function(){return this.f.options.Oc};I.j().register("wnd.pc.FileBlock",YH,XI,IT);function JT(a,b,c){GT.call(this,a,b,c);a.Fb=c.C();this.B()&&!1===this.view.Wg()&&(Zp||bq||aq)&&$I(this.view)}n(JT,GT);f=JT.prototype;f.Sf=function(){return"buttonColors"};f.Ld=function(){return"FormSubmitBaseHover"};
f.Ja=function(){var a=[];"wnd.pc.UserLoginFormBlock"==this.getParent().ba()&&a.push(KT(this,"form-action-after-login",m(this.Hs,this,"form-action-after-login")));!F(["wnd.pc.UserLoginFormBlock","wnd.pc.UserChangePasswordFormBlock"],this.getParent().ba())&&a.push(KT(this,"form-submit-action",m(this.fz,this,"form-submit-action")));!F(["wnd.pc.UserLoginFormBlock","wnd.pc.UserChangePasswordFormBlock","wnd.pc.UserRecoveryFormBlock"],this.getParent().ba())&&a.push(KT(this,"edit-email-notification",m(this.Ms,
this,"edit-email-notification"),LT(this)));return Ah(a,JT.m.Ja.call(this))};function LT(a){var b=null;"wnd.pc.UserRegistrationFormBlock"===a.getParent().ba()&&(b="Email notification");return b}function KT(a,b,c,d){b=mi(li(new ki,b),a);a=m(a.xt,a);b.g=a;c=ui(b,c);null!=d&&oi(c,d);return c}f.fz=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditFormActionForm",b.view.J,b,{id:this.f.Fb,properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0,height:x.EditFormActionForm.height}})};
f.Hs=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditDefaultPageForm",b.view.J,b,{id:this.f.Fb,properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0,height:x.EditDefaultPageForm.height}})};f.Ms=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditEmailNotificationForm",b.view.J,b,{id:this.f.Fb,properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0,legend:MT(this)}})};
function MT(a){var b=null;"wnd.pc.UserRegistrationFormBlock"===a.getParent().ba()&&(b="Notify me about new registrations:");return b}f.xt=function(){return this.f.Fb};f.qe=function(){return!1};f.Ic=function(){return!0};f.qc=function(){return!1};f.Ua=function(a){JT.m.Ua.call(this,a);(Zp||bq||aq)&&$I(this.view)};f.Pd=function(a){JT.m.Pd.call(this,a);(Zp||bq||aq)&&bJ(this.view)};f.ma=function(a){JT.m.ma.call(this,a);F(["resizeWindow","contentChangeFinished"],a.getType())&&(Zp||bq||aq)&&bJ(this.view)};
f.ih=function(){JT.m.ih.call(this);(Zp||bq||aq)&&bJ(this.view)};I.j().register("wnd.pc.FormSubmitBlock",ZH,YI,JT);function NT(a,b,c){GT.call(this,a,b,c);c&&c instanceof oO&&(a.options.ec=!1,a.options.Fd=!1)}n(NT,GT);NT.prototype.Ja=function(){this.Lq=yi;var a=[];yh(a,qi(ni(li(new ki,ZF),m(this.jf,this,"Bold")),!0));yh(a,qi(ni(li(new ki,$F),m(this.jf,this,"Italic")),!0));yh(a,qi(ni(li(new ki,bG),m(this.jf,this,"IncreaseFont")),!0));yh(a,qi(ni(li(new ki,aG),m(this.jf,this,"DecreaseFont")),!0));return a=Ah(a,NT.m.Ja.call(this))};I.j().register("wnd.pc.InlineTextBlock",$H,cJ,NT);function rO(a,b,c){NT.call(this,a,b,c);if(uO(this)){switch(bI(this.f)){case "DATE_TIME":this.g=new Dx(!1,"fe")}this.g&&this.g.observe("onChange",this.pz,this)}this.f.options.Fg=!1;this.f.options.lj=!1;a=fJ(this.view);this.f.re=a.trim();this.f.observe("onRefUpdate",this.Jb,this)}n(rO,NT);f=rO.prototype;
f.ra=function(){var a=this.Fj(),b=!1;"DATE_TIME"!==bI(this.f)&&OI(this.view)&&(a="",LI(this.view).innerHTML="");if(this.qn(a)){var b=this.f,c=cI(this.f,a),a=b.getData();if(cI(b,b.re)!=c){var d=c;"DATE_TIME"==bI(b)&&(d=parseInt(c,10));c={};c[a.refDataKey]=d;d=Cg.j().get(a.refDataType);b=m(b.J,b);d.c(a.refDataId,c,null,b,void 0)}b=!0}else a=this.f.re,LI(this.view).innerHTML=a;this.f.l=!1;return b};
f.Jb=function(a,b,c,d){rO.m.Jb.call(this,a,b,c,d);!1===eJ()&&(b=cI(this.f,fJ(this.view)),c=cI(this.f,this.f.re),this.f.re=b.trim(),"DATE_TIME"==bI(this.f)&&(b=parseInt(b,10),c=parseInt(c,10)),a=this.f.getData(),d={},d[a.refDataKey]=c,c=new of,pf(c,{dataType:a.refDataType,action:"update",id:a.refDataId,data:d}),d={},d[a.refDataKey]=b,b=new of,pf(b,{dataType:a.refDataType,action:"update",id:a.refDataId,data:d}),sM(xC.j(),c,b))};
f.qn=function(a){var b=!0,c=bI(this.f);if("DATE_TIME"==c)return this.Ey(a);var d=t.format.fe;l(d)&&l(d[c])&&l(d[c].regexp)&&(b=null!==(new RegExp(d[c].regexp)).exec(a));return b};f.Ey=function(a){var b=gg.j().get("validateDate");a=Qf(this.f.Rn,a);return b.c(a,"")};f.ae=function(a){rO.m.ae.call(this,a);mG(this)&&this.g&&!this.g.Ra()&&(this.g.show(this.B(),cI(this.f,fJ(this.view))),LI(this.view).focus(),kr.j().pause("sectionToolbox"),kr.j().pause("addContent",!0),$f.j().pause());return!0};
f.Ja=function(){return this.g?[]:rO.m.Ja.call(this)};f.sb=function(a){rO.m.sb.call(this,a);this.g&&(this.g.hide(),tr(kr.j()),$f.j().h=!0)};f.pz=function(a,b){LI(this.view).innerHTML=b};f.Pd=function(a){rO.m.Pd.call(this,a);a&&"keydown"==a.type&&OI(this.view)&&(LI(this.view).innerHTML="")};
f.Y=function(a){rO.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()==N(this.f,"refDataType")&&a.g==N(this.f,"refDataId")&&(a=a.A,null!=a&&Xe(a,N(this.f,"refDataKey"))&&this.f.notify("onRefUpdate","data_updated",void 0,void 0))};I.j().register("wnd.pc.InlineDataBlock",aI,dJ,rO);function OT(a,b,c){rO.call(this,a,b,c);a=null!=c&&c.getParent()instanceof FL;this.f.wh=a}n(OT,rO);OT.prototype.qn=function(a){return Q(this.f,"name","listing_items")!==N(this.f,"refDataKey")||a?OT.m.qn.call(this,a):!1};I.j().register("wnd.pc.ListingDataBlock",dI,gJ,OT);function PT(a,b,c){GT.call(this,a,b,c);this.g=null;this.ka=[Uj,"publicIcons"]}n(PT,GT);f=PT.prototype;
f.Ja=function(){var a=[],b={};u(PT.m.Ja.call(this),function(a){b[a.c]=a},this);t.page.isHomepage||a.push(ri(li(new ki,"go-to"),Yf(this.f.qh)));if(!1===QT(this))a.push(oi(ni(li(new ki,"logo-add-image"),m(this.ao,this)),"Add logo"));else{var c=oi(li(new ki,"logo-image-tools"),"Logo");vi(c,[oi(ni(li(new ki,"logo-change-image"),m(this.ao,this)),"Change logo"),oi(ni(li(new ki,"logo-remove-image"),m(this.Jw,this)),"Remove logo")]);a.push(c)}var c=xi(oi(li(new ki,cG),"Format")),d=[];yh(d,qi(ni(li(new ki,
ZF),m(this.jf,this,"Bold")),!0));yh(d,qi(ni(li(new ki,$F),m(this.jf,this,"Italic")),!0));yh(d,qi(ni(li(new ki,bG),m(this.jf,this,"IncreaseFont")),!0));yh(d,qi(ni(li(new ki,aG),m(this.jf,this,"DecreaseFont")),!0));l(b[eG])&&yh(d,b[eG]);l(b[dG])&&yh(d,b[dG]);c.h=d;a.push(c);return a};
f.ao=function(a){a.stopPropagation();a=N(this.f,"image");var b=Uj;QT(this)&&(b=IC(a.dataType,a.src));a=E.j();var c=this.ka,d=L.j().get("project_info").getData(),e={};e.publicIcons={filterMN:[{key:"category",value:[Fa.StaticServerCategory.templates,d.uikit_name,d.template_name,d.template_branch_id,Fa.StaticServerCategory.logo],optional:[d.uikit_name,d.template_name,d.template_branch_id,Fa.StaticServerCategory.logo]}],orderMN:{key:"category",value:Fa.StaticServerCategory.logo,order:"DESC"}};fC(OG(a,
{showTypes:c,activeType:b,collectionSettings:e,checkLowResolution:!1}),"onInsert",this.Wv,this);sH(this).o.hide();this.Yb()};f.ra=function(a){a=PT.m.ra.call(this,a);RT(this);return a};
f.Wv=function(a,b){var c=this.f.getData(),d=b[0],d={"=context":"layout","=id":this.C(),"=imageId":d.getId(),"=imageSrc":d.ya(),"=dataType":d.K(),"=width":d.Ma(),"=height":d.getHeight()},d=Zi(I.j(),this.ba(),d);d.code=c.code;l(c.style)&&(d.style=c.style);Yi(this.f,d,!0);I.j().get(q.ImageSizeManager.mvcID).Ka(this.C(),this.ba());this.Ck();RT(this);ST(this);TT(this)};
f.Jw=function(a){a.stopPropagation();a=bf(this.f.getData());$k(a,this.ba(),{"=imageId":a.image.id,"=dataType":a.image.dataType});delete a.image;a.refs&&delete a.refs;Yi(this.f,a,!0);I.j().get(q.ImageSizeManager.mvcID);a=this.C();Lz(this.ba())&&cj()["delete"](a);sH(this).o.hide();this.Yb();RT(this);ST(this)};
function RT(a){var b=a.view,c={text:KI(b).length?x.LogoBlock.styleClasses.withText:"",icon:""};b.Oa()&&(qo(b.Oa().src)?c.icon=x.LogoBlock.styleClasses.vector:(b=b.Oa().offsetWidth/b.Oa().offsetHeight,c.icon=1.5>b?x.LogoBlock.styleClasses["img-1-1"]:2.5>b?x.LogoBlock.styleClasses["img-2-1"]:3.5>b?x.LogoBlock.styleClasses["img-3-1"]:4.5>b?x.LogoBlock.styleClasses["img-4-1"]:x.LogoBlock.styleClasses["img-max"]));(b=c.text!==fI(a.f,"text"))||(b=c.icon!==fI(a.f,"icon"));b&&(jJ(a.view,c),a.f.ra(!0,{style:{cssClasses:c}}))}
function ST(a){a.f.options.Fg&&(QI(a.view,"",!0),a.f.ra(!0,{style:{cssClasses:{fontSize:a.f.ha}}}))}function QT(a){return null!=a.f.getData().image}f.ma=function(a){PT.m.ma.call(this,a);"colorSchemeChange"!=a.getType()&&"sectionBackgroundChange"!==a.getType()&&"pageBackgroundChange"!==a.getType()||requestAnimationFrame(m(this.Ck,this))};f.Y=function(a){PT.m.Y.call(this,a);"dataUpdate"==a.getType()&&a.K()===this.K()&&a.g===this.getId()&&(requestAnimationFrame(m(this.Ck,this)),this.Fa())};
f.Ck=function(){QT(this)&&qo(this.f.ya())&&this.view.Pe()};f.sb=function(a){for(var b=this.view,c=LI(b),b=b.B();c!==b;)c.scrollTop=0,c=c.parentNode;b.scrollTop=0;PT.m.sb.call(this,a)};function TT(a){var b=a.view.Oa();b&&("IMG"===b.nodeName?a.c.H(b,"dragstart",a.yv):a.c.H(b,"load",m(a.Fa,a)))}f.yv=function(a){a.preventDefault()};f.Sf=function(){return"logoColors"};f.Ua=function(a){PT.m.Ua.call(this,a);this.Aa()};
f.Aa=function(){var a=this.view.Lg();a&&qo(this.f.ya())&&(this.view.mf(!1),this.g||(this.g=I.j().create(this.C()+"_loading_logo","wnd.ui.Loading",a,this,{properties:{type:"icon"}})),this.g.show(),this.view.Nm("relative"))};f.Fa=function(){this.g&&(this.g.dispose(),this.g=null);this.view.mf(!0)};f.O=function(){PT.m.O.call(this);TT(this)};f.Zj=function(a,b){PT.m.Zj.call(this,a,b);this.Ck();this.Fa()};
f.ae=function(a){var b=PT.m.ae.call(this,a);a.target===this.view.Lg()&&(a=sH(this).Pa(),l(a)&&sG(a));return b};f.Pd=function(a){PT.m.Pd.call(this,a);a&&"keydown"==a.type&&requestAnimationFrame(m(function(a){a!==OI(this.view)&&RT(this)},this,OI(this.view)))};I.j().register("wnd.pc.LogoBlock",eI,hJ,PT);function UT(a,b,c){NT.call(this,a,b,c);c&&(b=c.getParent(),c=b.getId(),a.vl=c,b=b.Xd(),a.er=b);this.M=!1}n(UT,NT);f=UT.prototype;f.O=function(){UT.m.O.call(this);var a=this.B();this.c.H(a,gq,m(this.vz,this));this.c.H(a,"mouseover",m(this.wz,this))};function VT(a){if(mG(a.Z.Z)){var b=null===a.view.ea,c=a.view;c.ea||(c.ea=Tr(Tt),c.B().appendChild(c.ea));S.aa(c.ea,!0);b&&(b=a.view.ea)&&a.c.H(b,eq,m(a.Mx,a))}}f.Cc=function(a){a=UT.m.Cc.call(this,a);VT(this);return a};f.Yb=function(){};
f.Mx=function(a){a.stopPropagation();this.Jc()};f.Jc=function(){var a=this.Z;aS(a)?a.Z.Jc():UT.m.Jc.call(this)};f.wz=function(){VT(this)};f.vz=function(){if(mG(this.Z.Z)){var a=this.view;a.ea&&S.aa(a.ea,!1)}};function WT(a,b,c){UT.call(this,a,b,c)}n(WT,UT);I.j().register("wnd.pc.CheckboxGroupOption",hI,lJ,WT);function XT(a,b,c){UT.call(this,a,b,c)}n(XT,UT);I.j().register("wnd.pc.RadioGroupOption",iI,mJ,XT);function PL(a,b,c){XS.call(this,a,b,c);a.J=c.C();this.D=null}n(PL,XS);f=PL.prototype;f.Io=function(){var a=[];u(tJ(this),function(b){b.qe()&&a.push(b)},this);return a};f.Uq=function(a,b,c){this.D=E.j().create("wnd.pc.InsertFormFieldPopup",x.InsertFormFieldPopup.mvcId,Ex(),uz(this),{destroyAfterClose:!1,centered:!1});gH(this.D,"form-field");var d=this.D,e=this.g;d.w!==e&&(null!==d.w&&(d.w.reset(),d.w.init()),d.w=e,OL(d));a?iH(this.D,a.B(),b):iH(this.D,this.B(),"bottom");jH(this.D,c)};
f.ln=function(a,b){if(!Rz)if(ly(b.Bb,"wnd_insert_type")){var c=ky(b.Bb,"wnd_insert_type");this.D&&this.D.hide();Vz(this.g,{blockType:c,sourceElement:b.Bb,limitingBlock:this.B(),asSibling:!1,realGrip:!1})}else PL.m.ln.call(this,a,b)};f.mn=function(a,b,c,d,e){!0===ly(b,"wnd_insert_type")?(a=UP(c.id),Uz(this.g),b=ky(b,"wnd_insert_type"),QL(this,b,a,d)):PL.m.mn.call(this,a,b,c,d,e)};
function QL(a,b,c,d){var e,g=[];e="default";c&&dS(a,c,d,x["wnd.pc.Field"].placeholder.height);e=e||"default";var h=bS(a,wv,c,d);h.data.field=b;h.data.variant=e;mf(h,m(a.Jv,a,c,d));g.push(h);a=new hi("createFormField",g.length);yL(Qh.j(),g,a)}f.Jv=function(a,b,c,d){gS(this);"error"!==c&&(a=cS(this,d.id,a,b),a=new H("formFieldCreated",a),this.ca(a))};I.j().register("wnd.pc.FormFieldsetBlock",kP,sP,PL);function qS(a,b,c){lS.call(this,a,b,c);this.T=!0}n(qS,lS);var NJ="message",OJ="redirect";I.j().register("wnd.pc.FormBlock",AP,WP,qS);function ZT(a,b,c){NT.call(this,a,b,c)}n(ZT,NT);ZT.prototype.Sf=function(){return"inlineColors"};I.j().register("wnd.pc.StyledInlineTextBlock",jI,nJ,ZT);function $T(a,b,c){NT.call(this,a,b,c);this.f.options.lj=!1}n($T,NT);$T.prototype.Ja=function(){var a=[];this.Qi()?a=$T.m.Ja.call(this):a.push(qi(ni(li(new ki,VE),m(this.Jc,this)),!0));return a};$T.prototype.Jc=function(){this.Qi()?$T.m.Jc.call(this):(this.sb(),cM())};$T.prototype.Qi=function(){return vo.j().hasFeature("customize_footer")};I.j().register("wnd.pc.SystemFooterBlock",kI,oJ,$T);function TS(a,b,c){qS.call(this,a,b,c)}n(TS,qS);I.j().register("wnd.pc.SystemFormBlock",OP,jQ,TS);function BL(a,b,c){CO.call(this,a,b,c);this.g=[]}n(BL,CO);function aU(a,b){if(0==a.g.length||b){var c=a;for(a.g=[];c.jb&&c.jb instanceof CL&&DL(c.jb);)c=c.jb,a.g.push(c)}return a.g}f=BL.prototype;f.Hl=function(){for(var a=this,b=[];a.jb&&a.jb instanceof CL&&DL(a.jb);)a=a.jb,b.push(a.B());return b};f.Yl=function(){for(var a=this,b=0;a=a.jb;)b++;return b==aU(this,!0).length&&!this.Ib};f.move=function(a,b,c){BL.m.move.call(this,a,b,c);qh(aU(this),function(b){b.move(a,this,"top")},this)};
f.X=function(){u(aU(this),function(a){a.dispose()},this);BL.m.X.call(this)};f.Fj=function(){var a=yT().getContent();OI(this.view)||(a=ET(a));return a};I.j().register("wnd.pc.TextBlock",lI,pJ,BL);function bU(a,b,c){qS.call(this,a,b,c)}n(bU,TS);I.j().register("wnd.pc.UserChangePasswordFormBlock",PP,kQ,bU);function cU(a,b,c){qS.call(this,a,b,c)}n(cU,TS);I.j().register("wnd.pc.UserLoginFormBlock",QP,lQ,cU);function dU(a,b,c){qS.call(this,a,b,c)}n(dU,TS);I.j().register("wnd.pc.UserRecoveryFormBlock",RP,mQ,dU);function eU(a,b,c){qS.call(this,a,b,c)}n(eU,TS);I.j().register("wnd.pc.UserRegistrationFormBlock",SP,nQ,eU);function fU(a,b,c){GK.call(this,a,b,c)}n(fU,GK);fU.prototype.ic=function(){return"zone"};I.j().register("wnd.pc.ContentZone",IQ,JQ,fU);function gU(a,b,c){GK.call(this,a,b,c)}n(gU,fU);f=gU.prototype;f.pn=!0;function hU(a){a=tJ(a,!0,["column","column_wrapper"]);for(var b=a.length,c=0;c<b;c++)wJ(a[c])&&a[c].Ib&&JS(a[c]).init()}function iU(a){a.V.observe("onDragstart",a.cz,a);a.V.observe("onDragend",a.bz,a);a.V.observe("onDrop",a.dz,a);a.qg()}f.qg=function(){this.g=tJ(this,!0,["column","column_wrapper"]);AL(this,"wnd.pc.PageZone").qg(this,this.g)};f.cz=function(){};f.bz=function(){};f.dz=function(){};
f.yw=function(a,b,c,d,e,g){ly(c,x.ContentBlock.separableParts.typeIsSeparable)&&(c=zL(this,c,d));c=UP(c.id);this.V.Jh&&(wJ(c)||EL(c))&&(c=yR(c));if("top"==d||"bottom"==d)c==this?(a=this,c=null):a=c.Z;else{var h;if(c instanceof KS)h=c.Z,a=h.ud("wnd.pc.ContentZoneCol",c,d);else{c instanceof BL&&aU(c);h=c==this?this.ud("wnd.pc.ContentZoneColWrapper"):c.Z.ud("wnd.pc.ContentZoneColWrapper",c,d);var k=h.ud("wnd.pc.ContentZoneCol"),p=h.ud("wnd.pc.ContentZoneCol");a="left"==d?k:p;k="left"==d?p:k;c==this?
(c=[h.getId()],YR(this,k,null,null,c)):c.move(k)}c=null}if(!0===ly(b,"wnd_insert_type"))""!==ky(b,"wnd_insert_type")&&(e=ky(b,"wnd_insert_type"),"wnd.pc.FormBlock"===e?(b=ky(b,"wnd_insert_content_identifier"),GL(a,b,c,d)):"wnd.pc.BlogRecentPosts"===e?HL(a,c,d):(d=a.ud(e,c,d,g),KL(this,d)));else if(e){b=e;b instanceof tH&&(b=e.Da());e=c;if("top"==d&&e instanceof BL)for(;e.jb instanceof CL&&DL(e.jb);)e=e.jb;(c=e)&&c.C()===b.C()||b.move(a,c,d);KL(this,b);c?b.Xg()&&b.resize(!0):a.bi(!0)}};
function KL(a,b){if(b instanceof CL){var c=a.V.Jh;if(c||DL(b)){b.f.mk(c?c:"none");b.f.fb=void 0;c&&(uI(b.view,{left:0,right:0}),b.zc(),HH(b.f));var d=b.f.fb;S.setWidth(b.view.B(),d?d+"%":"");b.view.mk(c);b.ra()}}}f.Y=function(a){"parent_propagation"==a.h&&(a.c instanceof CO&&"dataCreate"!=a.getType()&&this.notify("onChangeTextContent",this),vz(this,m(this.Yq,this,a)))};f.ma=function(a){"parent_propagation"==a.h&&a.c instanceof KM&&"contentMove"===a.getType()&&vz(this,m(this.Yq,this,a))};
f.Yq=function(){$R(this)&&this.f.Cf&&this.ud("wnd.pc.TextBlock").lg()};f.Jb=function(a,b,c,d){gU.m.Jb.call(this,a,b,c,d);!this.I&&eJ()&&(!this.V&&this.pn&&(this.V=AL(this,"wnd.pc.PageZone").V,this.g=[],iU(this)),hU(this))};
function zL(a,b,c){var d=null,e=ky(b,x.ContentBlock.separableParts.typeSeparableId);if(e){d=UP(e);b=parseInt(ky(b,x.ContentBlock.separableParts.typeSeparableIndex),10);if(0===b&&("left"===a.V.Jh||"right"===a.V.Jh))return d.B();a=FT(d,b?b:1);a=d.Z.ud(d.ba(),d,"bottom",{code:a},{noScrollIntoViewport:!0});if(0==b)return d.B();"left"!==c&&"right"!==c||!1!==(d.f.Gn===parseInt(b,10)+1)||(c=FT(a,1),a.Z.ud(a.ba(),a,"bottom",{code:c}));d=a.B()}return d}
f.bi=function(a){for(var b=tJ(this),c=b.length,d=0;d<c;d++)nm(b[d])&&b[d].Xg()&&b[d].resize(a)};f.Yd=function(){gU.m.Yd.call(this);this.pn&&(this.V=AL(this,"wnd.pc.PageZone").V,this.g=[],iU(this));hU(this)};I.j().register("wnd.pc.EditZone",KQ,LQ,gU);function FL(a,b,c){GK.call(this,a,b,c);this.D=!1;this.ea=this.ka=this.wa=this.U=null;this.g=!1;this.l=null;this.qa=!1;a=window.location.pathname;do{a=a.match(/^(.*)\/(p-[a-z0-9]+)\/([0-9]+)\/(.*)$/);if(!a)break;b=parseInt(a[3],10);a[2]==RQ(this.f)&&b&&(this.f.page=b);a=a[1]}while(a)}n(FL,fU);f=FL.prototype;f.Ld=function(){return"ListingItemHover"};f.Ja=function(){var a=[];this.f.ab()&&(a.push(this.cl()),a.push(this.gl()),a.push(jU(this)));return a};
f.cl=function(a){a=a||"list-add";return qi(ni(li(new ki,a),m(this.Mn,this)),!1)};f.gl=function(a){a=a||"list-manager";return qi(ni(li(new ki,a),m(this.Xx,this)),!1)};
function jU(a){a.U=xi(qi(li(new ki,"list-layout"),!1));if(!D(Nu(a.f.ba()))){var b=[];a.wa=wi(ti(ni(oi(li(new ki,gG),"Style"),m(a.qz,a)),kU(a)).$a(N(a.f,"variant")),x.ContentBlock.dropdownHeight.listingVariants);b.push(a.wa);UQ(a.f,"changeCount")&&(a.ka=zi(qi(ni(li(new ki,"list-increase-items"),m(a.Cp,a,"increase")),!0),Number(N(a.f,"limit"))>=x.ListingZone.maxItemsOnPage),b.push(a.ka),a.ea=zi(qi(ni(li(new ki,"list-decrease-items"),m(a.Cp,a,"decrease")),!0),1>=Number(N(a.f,"limit"))),b.push(a.ea));
a.U.h=b}return a.U}function kU(a){var b=[];u(Nu(a.f.ba()),function(a){b.push(ZD($D((new YD).Ga(a),lU(a)),wE))},a);return b}f.Mn=function(a){a.stopPropagation();this.Yb();a=this.f.ab();E.j().create("wnd.pc.AddListingItemPopup","wnd_popup_listing_add",document.body,this,{},{listingPageId:a,width:x.DefaultPopupProperties["wnd.pc.AddListingItemPopup"].width})};
f.Xx=function(a){a.stopPropagation();this.Yb();this.l=E.j().create("wnd.pc.BlogAdminPopup",x.BlogAdminPopup.mvcId,document.body,this,{},{zoneId:this.C(),listingPageId:this.f.ab()});fC(this.l,"onBlogAddArticle",this.su,this);fC(this.l,"onClose",this.nw,this)};f.su=function(a,b){this.Mn(b)};f.nw=function(){this.l.w&&mU(this,!0)};f.qz=function(a,b){Xi(this.f,"variant",b);this.Vc();mG(this)&&YQ(this.view,!0)};
f.Cp=function(a){if(!this.g){var b;b=N(this.f,"limit");b=null!=b?"decrease"===a&&0===this.f.page&&b>this.G.length?this.G.length:b:this.G.length;if("decrease"===a?1<b:"increase"===a&&b<x.ListingZone.maxItemsOnPage)b+="increase"===a?1:-1,Xi(this.f,"limit",b),this.ca(new H("saveContentItems",this)),mU(this,!1),a=b,zi(this.ea,1>=a),zi(this.ka,a>=x.ListingZone.maxItemsOnPage)}};
f.Y=function(a){FL.m.Y.call(this,a);if("dataDelete"==a.getType()&&"listing_items"==a.K()){var b;b=a.g;for(var c=tJ(this),d,e=0;e<c.length;e++)c[e].f.getData().listingItemId==b&&(d=c[e]);if(b=d)b.dispose(),this.f.update("data_updated")}"dataUpdate"==a.getType()&&"listing_items"==a.K()&&"children_propagation"==a.h&&mU(this,!0)};f.ma=function(a){FL.m.ma.call(this,a);"listingItemReload"===a.getType()&&mU(this,!1)};f.$d=function(a){FL.m.$d.call(this,a);YQ(this.view,!0)};
f.sb=function(a){this.g||(FL.m.sb.call(this,a),YQ(this.view,!1))};f.Cc=function(a){mG(this)||(this.D=!1);if(this.Ic()){var b=sH(this),c;if(c=b)c=null!=b.Pa();c&&b.Pa().Ya()&&sG(b.Pa())}return FL.m.Cc.call(this,a)};f.ae=function(a){this.D||FL.m.ae.call(this,a);mG(this)&&(this.D=!0);return!0};
function mU(a,b){if(!a.g){a.f.l=!0;a.qa=b;a.g=!0;var c=[],d=new Lg;d.data.mvcId=a.C();d.data.listingPageId=a.f.ab();mf(d,m(a.dx,a));c.push(d);d=new hi("listingZoneUpdate",c.length);yL(Qh.j(),c,d);mG(a)&&a.Aa()}}f.dx=function(a,b){l(b.changedItems)&&(ma(b.totalItems)&&(this.f.Gb=b.totalItems),L.j().get("listing_items").Ea(m(this.hw,this,b.changedItems)))};
f.hw=function(a){rP(this.view);nU(this);this.f.page=0;oa(window.history)&&na(window.history.replaceState)&&window.history.replaceState({},"",SQ(this.f));Jg.j().h=!0;Ig(Jg.j(),a);Jg.j().h=!1;D(a[this.C()].content)||XR(this);this.view.dc();a=this.view;a.B()&&S.setSize(a.B(),"","");this.Fa();this.g=this.f.l=!1;this.Vc();this.qa&&this.ca(new H("listingItemReload",this));mG(this)&&YQ(this.view,!0)};function nU(a){var b=fg(a.G);u(b,function(a){na(a.so)&&a.so()},a)}f.Aa=function(){(new Bw(this.B(),400)).play()};
f.Fa=function(){(new Cw(this.B(),400)).play()};function lU(a){var b="";switch(a){case "default":b="Basic";break;case "basic":b="Headings";break;case "textGrid":b="Text Grid";break;case "textOverImage":b="Large Tiles";break;case "classic":b="Left Thumbnail";break;case "classicGrid":b="Classic Grid";break;case "feed":b="Feed";break;case "large":b="Large Image";break;case "largeGrid":b="Tiles with Text";break;case "photoBlog":b="Photo Blog";break;default:b=a}return b};function oU(a,b,c){FL.call(this,a,b,c);this.T=!0}n(oU,FL);oU.prototype.cl=function(){return oU.m.cl.call(this,"blog-add")};oU.prototype.gl=function(){return oU.m.gl.call(this,"blog-manager")};I.j().register("wnd.pc.BlogZone",VQ,ZQ,oU);function pU(a,b,c){oU.call(this,a,b,c)}n(pU,oU);pU.prototype.Ja=function(){var a=[];this.qc()&&this.xa&&a.push(qi(ni(li(new ki,"remove-confirm"),m(this.Jc,this)),!0));return Ah(pU.m.Ja.call(this),a)};pU.prototype.X=function(){this.ab=!1;pU.m.X.call(this)};pU.prototype.Y=function(a){pU.m.Y.call(this,a);"dataDelete"==a.getType()&&"gui_pages"==a.K()&&"children_propagation"==a.h&&this.f.bu==a.g&&mU(this,!0)};I.j().register("wnd.pc.BlogRecentPosts",WQ,$Q,pU);function qU(a,b,c){this.pn=!1;GK.call(this,a,b,c)}n(qU,gU);qU.prototype.Wa=function(a){qU.m.Wa.call(this,a);$R(this)&&(a=m(this.ud,this,"wnd.pc.ImageBlock",null,null),IL(JL.j(),"wnd.pc.ImageBlock",a)||a())};qU.prototype.Cc=function(a){return $R(this)?qU.m.Cc.call(this,a):!1};qU.prototype.Ua=function(a){qU.m.Ua.call(this,a);cR(this.view)};I.j().register("wnd.pc.MediaZone",aR,bR,qU);function rU(a,b){Ii.call(this,a,b)}n(rU,Ii);
rU.prototype.gq=function(a){var b,c=this.il(),d=sU(this);Ye(d.page_content_items)||(t.isListingDetail?b={dataType:"listing_items",dataKey:"listing_items.content_items",dataSettings:{id:t.listing_item.id}}:b={dataType:"gui_pages",dataKey:"gui_pages.content_items",dataSettings:{id:t.page.id}},Cf(a,d.page_content_items,this.c.page_content_items,b,this.K()),Cf(c,this.c.page_content_items,d.page_content_items,b,this.K()));Ye(d.template_content_items)||(b=t.page.template.id,t.isListingDetail&&(b=t.listing_page.template_id),
b={dataType:"gui_page_templates",dataKey:"gui_page_templates.content_items",dataSettings:{id:b}},Cf(a,d.template_content_items,this.c.template_content_items,b,this.K()),Cf(c,this.c.template_content_items,d.template_content_items,b,this.K()));sM(xC.j(),c,a);this.c=d};rU.prototype.jg=function(){this.o=!1;rU.m.jg.call(this);Ye(this.c)&&this.fi()};
function sU(a){var b={},c={},d=Cg.j().get("temp_content_items");Bg(d,bf(a.getData()));d=Vh(d).getData();d=tU(a,d);z(d,function(a,d){null!=a.temp||("page"==a.context?b[d]=a:c[d]=a)},a);return{page_content_items:b,template_content_items:c}}function tU(a,b){var c=uU(a,b);0<c.length&&u(c,function(a){b[a].content=[]},a);return b}function uU(a,b){var c=[];z(b,function(a){"wnd.pc.BlogZone"!==a.type&&"wnd.pc.BlogRecentPosts"!==a.type||c.push(a.id)},a);return c}rU.prototype.il=function(){return new Ef};
rU.prototype.fi=function(){"content_items"===this.dataType&&(this.c=sU(this))};L.j().register("wnd.pc.ContentItemDataCollection",rU);function vU(a){Ci.call(this,a,x);this.g=this.l=this.M=0}n(vU,Ci);f=vU.prototype;
f.init=function(){var a={id:x.PageZoneModel.ZoneId};I.j().create(x.PageZoneModel.ZoneId,"wnd.pc.PageZone",document.body,this,a);I.j().create(q.ImageSizeManager.mvcID,"wnd.static.ImageSizeManager",document.body,this);I.j().create(q.VideoLoaderManager.mvcID,"wnd.static.VideoLoaderManager",document.body,this);wU(this);"?aw=1"===window.location.search&&"1"!==Ke.get("welcomeDone")&&E.j().create("wnd.pc.WelcomePopup",x.WelcomePopup.mvcId,document.body,this,{withOverlay:!0,destroyAfterClose:!0,centered:!0});
xU(this);Vm(new gw,["online","offline"],m(this.Ru,this),!1,this)};function xU(a){var b=tJ(IR(),!0,["container","section"]),c=!1;u(b,function(a){"wnd.pc.HeaderSection"==a.ba()&&(c=!0)},a);c||(a.c=E.j().create("wnd.ui.Toolbox","wnd_ui_Toolbox_layout",document.body,a,{withOverlay:!1},{className:"transparent",noScroll:!0}),b=[qi(ni(li(new ki,"section-edit"),m(a.at,a)),!0)],cg(a.c,b,!0),b=S.getBounds(IR().B()),b.top+=x.Section.topOffset,a.c.f.rd=b,iG(a.c))}
f.resize=function(){this.w&&clearTimeout(this.w);this.w=setTimeout(m(this.fk,this,"resizeWindow"),100)};f.focus=function(){this.l&&clearTimeout(this.l);this.l=setTimeout(m(this.fk,this,"focusWindow"),100)};f.blur=function(){this.g&&clearTimeout(this.g);this.g=setTimeout(m(this.fk,this,"blurWindow"),100)};f.fk=function(a){a=new H(a);a.h="children_propagation";Di(bg.j(),a)};function IR(){return I.j().get(x.PageZoneModel.ZoneId)}function Ex(){return Um(x.WorkareaElementId)}
function xJ(a){return oA.j().get(a,document.body,"pageblocks")}f.zt=function(){return S.getBounds(this.c.je("section-edit"))};f.at=function(a){a.stopPropagation();E.j().create("wnd.pc.LayoutPopup",x.LayoutPopup.mvcId,document.body,this,{destroyAfterClose:!1},{coordinates:m(this.zt,this)});return!0};f.Ru=function(a){"offline"===a.type&&aM()};
function wU(a){z(x.frontendElements,function(a,c){if(!Ng(I.j(),a)){var d=Um(a);if(d){var e=document.body;d&&d.parentNode&&(e=d.parentNode);d={id:a};I.j().create(a,c,e,this,d)}}},a)};function yU(a,b,c){uC.call(this,a,b,c);this.l.Choose=m(this.g,this)}n(yU,uC);yU.prototype.g=function(){var a=Zz(this),b=!0,c=vo.j();"dfc.generic.membersArea"!==a.eg.identifier||c.hasFeature("member_login")||(eM(),b=!1);if(!b)return!1;a=P(this.f,"switchGroups");a=ia(a)?a[0]:null;b=Zz(this);if(!oa(b.eg)||null===a)return!1;a=P(this.f,"switchContainer").toString();!0===Ng(I.j(),a)&&zU(I.j().get(a));return!0};I.j().register("wnd.pm.AddNewPageControlBar",Pj,yB,yU);function AU(a,b){my.call(this,a,b);this.h={"class":"wnd-page-template-wrapper"}}n(AU,my);AU.prototype.da=function(){this.c||this.Nf();Qr(this.c,Cs,{title:P(this.f,"pageTemplateTitle"),src:this.ya()})};
AU.prototype.ya=function(){var a="";switch(P(this.f,"pageTemplateIcon")){case "dfc.generic.blankPage":a="blank_page.jpg";break;case "dfc.generic.aboutUs":a="about_us.jpg";break;case "dfc.generic.contact":case "dfc.generic.contactUs":a="contact_us.jpg";break;case "dfc.generic.blog":a="blog.jpg";break;case "dfc.generic.twoCols":a="two_cols.jpg";break;case "dfc.generic.threeCols":a="three_cols.jpg";break;case "dfc.generic.twoCols.images":a="two_cols_images.jpg";break;case "dfc.generic.threeCols.images":a=
"three_cols_images.jpg";break;case "dfc.generic.team":a="team.jpg";break;case "dfc.generic.services":a="services.jpg";break;case "dfc.generic.pricelist":a="pricelist.jpg";break;case "dfc.generic.map":a="map.jpg";break;case "dfc.generic.form":a="form.jpg";break;case "dfc.generic.orderForm":a="order_form.jpg";break;case "dfc.generic.testimonials":a="testimonials.jpg";break;case "dfc.generic.faq":a="faq.jpg";break;case "dfc.generic.photoGallery":a="photogallery.jpg";break;case "dfc.generic.photoGallery.slideshow":a=
"slideshow.jpg";break;case "dfc.generic.imageHeader":a="image_header.jpg";break;case "dfc.generic.products":a="products.jpg";break;case "dfc.generic.membersArea":a="members_area.jpg";break;default:a="blank_page.jpg"}return no("client/img/popup/page-templates/"+a)};AU.prototype.$a=function(a){R(this.B(),Nd.AddNewPagePattern.selectedClassName,a)};function BU(a,b,c){tz.call(this,a,b,c)}n(BU,tz);f=BU.prototype;f.O=function(){BU.m.O.call(this);this.c.H(this.B(),U,this.Yz);this.c.H(this.B(),"dblclick",this.sv)};f.Yz=function(){this.$a(!0)};f.sv=function(){var a=P(this.f,"parentSwitchContainer").toString();!0===Ng(I.j(),a)&&(this.$a(!0),zU(I.j().get(a)))};
f.$a=function(a){!0===a&&(Zz(this.getParent()).eg={patternId:P(this.f,"pageTemplateId"),pageName:P(this.f,"pageTemplateTitle"),identifier:P(this.f,"pageTemplateIdentifier")});this.view.$a(a);this.f.$a(a);this.notify("onChangeSelection",this,a)};f.Id=function(a){var b=!1;z(a,function(a,d){P(this.f,d)!=a&&(O(this.f,d,a),b=!0)},this);b&&this.view.dc()};I.j().register("wnd.pm.AddNewPagePattern",bl,AU,BU);function CU(a,b){rB.call(this,a,b)}n(CU,rB);CU.prototype.T=function(a){this.c.style.overflow=!0===a?"hidden":"auto"};function DU(a,b,c){SB.call(this,a,b,c);this.D={};this.l=[];this.I=this.g=this.w=null;this.F=0}n(DU,SB);f=DU.prototype;f.fa=function(){};function EU(a){Ye(a.D)||(a.Aa(),a.f.Ea(m(a.ur,a),null,a))}
f.ur=function(a,b,c,d){if("success"===a){this.Fa();a=0;for(c=d.order.length;a<c;a++){var e=b[d.order[a]],g=e[Q(this.f,"identifier")],h=!0;switch(g){case "dfc.generic.blog":h=Ve("blog");break;case "dfc.generic.membersArea":h=Ve("member_login")}h&&(h=this.C()+"_page_"+e["tpl_page_templates.id"],e={parentSwitchContainer:P(this.f,"switchContainer"),parentSwitchGroup:P(this.f,"switchGroups")[0],initRenderFlag:!0,pageTemplateId:e[Q(this.f,"id")],pageTemplateIdentifier:g,pageTemplateTitle:e[Q(this.f,"title")],
pageTemplatePageName:"",pageTemplateIcon:e[Q(this.f,"icon")],pageTemplateSrc:e[Q(this.f,"src")]},this.D[h]?this.D[h].Id(e):(g=h,e=this.L(g,"wnd.pm.AddNewPagePattern",null,{properties:e}),e.observe("onChangeSelection",m(this.Uu,this),e),this.D[g]=e,null===this.w&&(this.w=e),this.l.push(g)))}this.view.T(!1)}};f.pa=function(a){DU.m.pa.call(this,a);this.Aa();this.f.Ea(m(this.ur,this),null,this)};f.Uu=function(a,b,c){c&&(this.g&&this.g.C()!==b.C()&&this.g.$a(!1),this.g=b)};
f.O=function(){DU.m.O.call(this);this.I=new Er(document.body);this.c.H(this.I,"key",m(this.Zz,this))};f.Za=function(){DU.m.Za.call(this);null!=this.I&&this.I.dispose()};
f.Zz=function(a){var b=!0;switch(a.keyCode){case 13:var c=P(this.f,"switchContainer");Ng(I.j(),c)&&zU(I.j().get(c));break;case 37:c=FU(this);GU(this,this.l[c-1]);break;case 39:c=FU(this);GU(this,this.l[c+1]);break;case 38:c=FU(this);c=this.l[c-HU(this)];l(c)||(c=this.l[0]);GU(this,c);break;case 40:c=FU(this);c=this.l[c+HU(this)];l(c)||(c=nh(this.l));GU(this,c);break;default:b=!1}b&&(a.stopPropagation(),a.preventDefault())};function FU(a){return oh(a.l,a.g.C())}
function GU(a,b){if(l(a.D[b])){a.D[b].$a(!0);var c=S.Cl(a.D[b].B(),a.B(),!0);a.B().scrollTop=c.y}}function HU(a){0===a.F&&null!=a.w&&(a.F=Math.floor(a.B().offsetWidth/a.w.B().offsetWidth));return a.F}f.Y=function(a){DU.m.Y.call(this,a);if("dataDelete"===a.getType()&&a.c&&"wnd.pm.PagesTreeItem"==a.c.ba()){var b=!1;null!=t.listings&&u(We(t.listings),function(c){a.g==c.page_id&&(b=!0)},this);b&&EU(this)}};I.j().register("wnd.pm.AddNewPagePatterns",cl,CU,DU);function IU(a,b){AB.call(this,a,b)}n(IU,AB);IU.prototype.N=function(){return{title:"Choose page template",Te:P(this.f,"switchGroups")}};function JU(a,b,c){SB.call(this,a,b,c)}n(JU,zC);I.j().register("wnd.pm.AddNewPageTopBar",Qj,IU,JU);function KU(a,b,c){uC.call(this,a,b,c);this.l.Create=m(this.g,this)}n(KU,uC);KU.prototype.g=function(){Zz(this).mb();return!0};I.j().register("wnd.pm.NewPageControlBar",Pj,yB,KU);function LU(a,b){vB.call(this,a,b);this.h={"class":"wnd-new-page-form"}}n(LU,vB);function MU(a,b,c){Gz.call(this,a,b,c);this.I=!1;this.D=""}n(MU,Gz);f=MU.prototype;f.fa=function(){this.g=this.L("wnd-new-page-name","wnd.ui.ShortTextFormItem",null,{create:{data:{value:""}},properties:{id:eC(this),name:Q(this.f,"name"),label:"Page title",defaultValue:"New page",hideLabel:!1,required:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},validateContinuous:!0}});La(t.visibleRelease,"contextHelp")&&this.g.observe("onKey",m(this.aA,this),this)};
f.show=function(){MU.m.show.call(this);if(this.g instanceof dA){var a=Zz(this).eg.pageName||this.g.getValue();this.g.jc("value",a);this.g.focus(!0);sp(this.g.view.xf);this.I=!1;this.D=""}};f.O=function(){this.Za();MU.m.O.call(this)};
f.Xe=function(){var a=Zz(this),b=a.eg,a=Ti(Ri.j(),a.yj()),c=Wf(a),d=Xf(a),e=this.g.getValue()||b.pageName,a=new hi("createNewPage",1);gr(Qh.j(),a);var g=Cg.j().get(this.f.K()),e={"gui_pages.name":e},b={parentId:d,langFe:c,templateId:parseInt(b.patternId,10)},c=m(this.ov,this);Li(g,e,b,c,a);0<this.D.length&&(this.D="")};
f.ov=function(a,b){var c=Zz(this);null!=c&&(c=c.eg,null!=c&&"dfc.generic.membersArea"===c.identifier&&Ra.kc("ml_end_add_page_member_area"));var d=b.id,e=this;L.j().get(this.f.K(),{filter:[{prefix:"",key:"gui_pages.id",operator:"=",value:d,suffix:""}]}).Ea(function(a,b){if(!0===l(b[d]))window.location.href="/"+b[d][Q(e.f,"identifier")]+"/";else{var c=new zg("dataCreate","parent_propagation",e.f.K(),e,b.id);e.ca(c);e.Fa();Zz(e).hide()}},null,this)};
f.yc=function(a){null!=this.g&&this.g.Ta().blur();MU.m.yc.call(this,a)};
f.aA=function(){var a=this.g.getValue(),b=!1,c=null;a.length>Nd.TooLongPageName.notice?(b=!0,a.length>Nd.TooLongPageName.warning&&(c=Qy),this.D.length<a.length&&(this.D=a)):c=Ny;this.g.setState(c);!1===this.I&&b&&(Zz(this).resize(Nd.AddNewPagePopup.formContent.width,Nd.AddNewPagePopup.formContent.tooltipHeight),this.resize(Nd.NewPageForm.width,Nd.NewPageForm.tooltipHeight),this.g.Tk('Tip: Short page names help visitors navigate your site better. e.g. "About" instead of "About our company".',"wnd-page-name-alert"),
this.I=b)};f.resize=function(a,b){ma(a)&&(a+="px");ma(b)&&(b+="px");this.view.setSize(a,b)};I.j().register("wnd.pm.NewPageForm",dl,LU,MU);function NU(a,b){AB.call(this,a,b)}n(NU,AB);NU.prototype.N=function(){return{title:"Enter page name"}};function OU(a,b,c){SB.call(this,a,b,c)}n(OU,zC);I.j().register("wnd.pm.NewPageTopBar",Qj,NU,OU);function PU(a,b){vB.call(this,a,b);this.h={"class":"wnd-page-edit"};this.o=this.w=this.W=null;this.F={}}n(PU,vB);PU.prototype.md=function(){return this.W};PU.prototype.U=function(){return this.w};function QU(a,b){null!==a.w&&S.aa(a.w,b)}function RU(a,b,c){null!==a.o&&sp(a.o);b=b.querySelector("label");a.o=gs(Xt,{href:"/"+c+"/"});rp(a.o,b)}PU.prototype.oa=function(){return S.oa(this.ze())};function SU(a,b,c){wz.call(this,a,b,c)}n(SU,dA);SU.prototype.rf=function(a){this.getValue()&&SU.m.rf.call(this,a)};SU.prototype.lm=function(a){xz(this)===Oy&&N(this.f,"value")&&!this.getValue()?this.reset():SU.m.lm.call(this,a)};I.j().register("wnd.pm.PageNameFormItem",rj,ez,SU);function TU(a,b,c){Gz.call(this,a,b,c);this.wa=this.qa=this.D=this.I=this.W=this.g=null;this.U=!1;this.Ca=[];this.F=this.T=null;this.Ia="";this.f.observe("onUpdateCancelled",this.eA,this)}n(TU,pC);f=TU.prototype;f.ww=function(a,b,c,d){!Fz(this)||null!=this.T&&this.T===this.getId()||u(this.Yc(),function(a){a.ce()},this);O(this.f,"isSystemPage",d);O(this.f,"isRoot",c);this.getId()!==b&&this.Ga(b);null!=this.T&&(this.Fa(),this.T=null);this.Ia=""};f.Ro=function(){return this.W.getValue()||this.g.getValue()};
f.fq=function(){this.notify("onPageNameChange",this.g.getValue())};f.ak=function(){this.Bc()};f.Y=function(a){TU.m.Y.call(this,a);"children_propagation"==a.h&&a.K()==this.K()&&a.g==this.getId()&&this.Bc()};f.ma=function(a){TU.m.ma.call(this,a);"openPagesManager"===a.getType()&&UU(this)};f.Bc=function(){TU.m.Bc.call(this);UU(this);null!=this.F&&this.f.Ea(this.F.Hr,null,this.F)};
function UU(a){VU(a);null!=a.view.U()&&QU(a.view,!P(a.f,"isRoot")&&!WU(a));null!=a.D&&0==a.D.getValue()&&RU(a.view,a.D.B(),a.I.getValue());null!=a.I&&a.I.view.vn(!!P(a.f,"isRoot"));R(a.wa,"wnd-disabled",WU(a));null!=a.F&&u(a.F.G,function(a){var c="defaultItem";WU(this)&&(c=ej);a.setState(c)},a)}f.fa=function(){this.f.Ea(this.fA,null,this)};function XU(){return"wnd_page_edit_"}
f.fA=function(a,b){this.Fa();var c=this.f.bd.Qn,d=this.f.bd.Ki;$B(this,c);var e=this.L(XU()+c,"wnd.ui.Fieldset",c,{properties:{initRenderFlag:!0,switchAnimation:!0}});this.Ca.push(e);this.g=e.L(XU()+"name","wnd.pm.PageNameFormItem",null,{create:{data:{value:b[Q(this.f,"name")]}},properties:{id:eC(this),name:Q(this.f,"name"),defaultValue:b[Q(this.f,"name")],identifier:b[Q(this.f,"identifier")],required:!0,label:"Page name",hideLabel:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},
validateContinuous:!0,extendCssClass:"wnd-page-edit-name"}});this.g.observe("onReset",this.fq,this);Ve("contextHelp")&&this.g.observe("onKey",m(this.dA,this),this);this.D=e.L(XU()+"show_in_menu","wnd.ui.CheckboxFormItem",null,{create:{data:{value:parseInt(b[Q(this.f,"show_in_menu")],10)}},properties:{id:eC(this),label:"Show page in navigation menu",name:Q(this.f,"show_in_menu"),defaultValue:parseInt(b[Q(this.f,"show_in_menu")],10),initRenderFlag:!0,extendCssClass:"wnd-switch wnd-page-show-in-menu"}});
0==this.D.getValue()&&RU(this.view,this.D.B(),b[Q(this.f,"identifier")]);this.F=e.L(XU()+"_private_access_area","wnd.ui.PrivateAccessFieldset",null,{properties:{initRenderFlag:!0,data:b,dataType:this.f.K()}});var c=this.view,e=e.B(),g=gs(Vt,{type:d});e.appendChild(g);this.wa=c.F[d]=g;Nd.PageEdit.homepageIdentifier===b[Q(this.f,"identifier")]&&QU(this.view,!1);d=this.f.bd.Ki;d=this.L(XU()+d,"wnd.ui.Fieldset",d,{properties:{initRenderFlag:!0,switchAnimation:!0,css:"wnd-page-edit-advanced"}});d.hide();
this.qa=d;this.Ca.push(d);this.W=d.L(XU()+"html_title","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"html_title")]}},properties:{id:eC(this),label:"Page title",name:Q(this.f,"html_title"),defaultValue:b[Q(this.f,"html_title")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});this.I=d.L(XU()+"identifier","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"identifier")]}},properties:{id:eC(this),label:"Page address (URL)",name:Q(this.f,"identifier"),
defaultValue:b[Q(this.f,"identifier")],initRenderFlag:!0,required:!0,disabled:Nd.PageEdit.homepageIdentifier===b[Q(this.f,"identifier")],validateType:"validateIdentifier",validateArgs:{max:255},validateContinuous:!0}});d.L(XU()+"meta_description","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_description")]}},properties:{id:eC(this),label:"Meta description",name:Q(this.f,"meta_description"),defaultValue:b[Q(this.f,"meta_description")],initRenderFlag:!0,validateType:"validateLessThan",
validateArgs:{max:255}}});d.L(XU()+"meta_keywords","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_keywords")]}},properties:{id:eC(this),label:"Meta keywords",name:Q(this.f,"meta_keywords"),defaultValue:b[Q(this.f,"meta_keywords")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});d.L(XU()+"header_code","wnd.ui.LongTextFormItem",null,{create:{data:{value:b[Q(this.f,"header_code")]}},properties:{id:eC(this),label:"Custom HTML header code",name:Q(this.f,
"header_code"),defaultValue:b[Q(this.f,"header_code")],initRenderFlag:!0}});d.L(XU()+"footer_code","wnd.ui.LongTextFormItem",null,{create:{data:{value:b[Q(this.f,"footer_code")]}},properties:{id:eC(this),label:"Custom HTML footer code",name:Q(this.f,"footer_code"),defaultValue:b[Q(this.f,"footer_code")],initRenderFlag:!0}});d.L(XU()+"hide_from_robots","wnd.ui.CheckboxFormItem",null,{create:{data:{value:parseInt(b[Q(this.f,"hide_from_robots")],10)}},properties:{id:eC(this),label:"Hide this page from search engines",
name:Q(this.f,"hide_from_robots"),defaultValue:parseInt(b[Q(this.f,"hide_from_robots")],10),initRenderFlag:!0,extendCssClass:"wnd-switch"}});O(this.f,"switchContainer",this.C());d=this.view;c=Tr(Wt);d.B().appendChild(c);d.w=c.querySelector(".wnd-ctrl-type-delete");d.W=c.querySelector(".wnd-ctrl-type-close");UU(this);this.O()};f.dA=function(){var a=this.g.getValue(),b=null;a.length>Nd.TooLongPageName.warning&&(b=Qy);this.Ia.length<a.length?this.Ia=a:b=Ny;null!=b&&this.g.setState(b)};
f.O=function(){this.Za();TU.m.O.call(this);null!==this.g&&(this.c.H(this.g.B(),"keyup",m(this.fq,this)),this.c.H(this.view.md(),U,m(this.iv,this)),this.c.H(this.view.U(),U,m(this.As,this)),this.c.H(this.wa,U,m(this.ky,this)))};f.iv=function(){Zz(this).hide(null,!0)};f.ra=function(a){(a=TU.m.ra.call(this,a))?this.Ia="":(this.Fa(),this.g.Wh()&&YU(this));return a};
f.As=function(a){a.stopPropagation();var b=E.j();a=m(this.Us,this,a);vC(b,{title:"Are you sure you want to delete this page?",text:"Warning: all content will be permanently removed!",leftButtons:["ConfirmDelete"]},this,a)};f.Us=function(a){a.stopPropagation();if(!P(this.f,"isRoot")){this.notify("beforeDeletePage");this.Aa();a=new hi("deletePage",1);var b=Cg.j().get(this.f.K()),c=this.getId(),d=m(this.cA,this);$h(b,c,d,a)}};
f.cA=function(a){if("success"===a){this.T=this.getId();if(null!=t.listings&&null!=t.listings.blog){var b=t.page.langId;z(t.listings.blog,function(a,d){d==b&&this.getId()==a.page_id&&(a.removed=!0)},this)}this.notify("onDeletePage")}};f.uf=function(){this.Fa();this.f.Ea(this.bA,null,this);if(0==this.D.getValue())RU(this.view,this.D.B(),this.I.getValue());else{var a=this.view;null!==a.o&&sp(a.o)}};
f.bA=function(a,b){if("object"===typeof b&&"undefined"!==typeof b[Q(this.f,"identifier")]){var c="/"+b[Q(this.f,"identifier")]+"/";if(t.page.id==this.getId()&&location.pathname!=c){if(b[Q(this.f,"identifier")]!==Nd.PageEdit.homepageIdentifier||"/"!==location.pathname)window.location.href=c+"#activate="+Zz(this).ba()}else b[Q(this.f,"identifier")]!==this.I.getValue()&&this.I.jc("value",b[Q(this.f,"identifier")])}};function YU(a){a.U||(a.qa.show(),a.U=!0,a=a.view,R(a.F[a.f.bd.Ki],"activated",!0))}
function VU(a){null!==a.qa&&null!==a.wa&&(a.qa.hide(),a.U=!1,a=a.view,R(a.F[a.f.bd.Ki],"activated",!1))}f.ky=function(){WU(this)||(this.U?VU(this):YU(this))};f.Aa=function(){if(null===this.l){var a=this.view.oa();this.l=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.view.ze(),this,{properties:{type:wj,height:a.height,width:a.width}})}this.l.Ya()||(u(this.Ca,function(a){a.hide()},this),this.l.show())};f.Fa=function(){TU.m.Fa.call(this);u(this.Ca,function(a){a.show()},this);!1===this.U&&VU(this)};
f.eA=function(){this.Fa()};function WU(a){return P(a.f,"isSystemPage")}I.j().register("wnd.pm.PageEdit",el,PU,TU);function ZU(a,b){AB.call(this,a,b);this.h={"class":"wnd-popup-header wnd-pages"};this.o=this.wf=null}n(ZU,AB);ZU.prototype.da=function(){ZU.m.da.call(this);var a=Nd.PagesAdmin.contentGroups;u(this.c.querySelectorAll("[data-wnd_content_switch]"),function(b){switch(ky(b,"wnd_content_switch")){case a.PM_LANGUAGE_SWITCHER:this.o=b;break;case a.PM_ADD_PAGE:this.wf=b}},this)};ZU.prototype.N=function(){var a=Nd.PagesAdmin.contentGroups;return{title:"Pages",Te:[a.PM_LANGUAGE_SWITCHER,a.PM_ADD_PAGE]}};
ZU.prototype.D=function(){return this.o};ZU.prototype.Re=function(a){S.aa(this.D(),a)};function $U(a,b,c){SB.call(this,a,b,c);this.g=null}n($U,zC);$U.prototype.pa=function(a){$U.m.pa.call(this,a);1!==Ri.j().hd()&&(this.g=I.j().create(this.C()+"_language_switcher","wnd.ui.LanguageSwitcher",this.view.D(),this,{properties:{initRenderFlag:!0,fullTitle:!0,fullItemName:!0,showArrow:!0}}),this.g.observe("selectItem",m(this.l,this),this),this.g.observe("showSwitcher",m(this.Re,this,!0),this),this.g.observe("hideSwitcher",m(this.Re,this,!1),this))};$U.prototype.Wf=function(){};
$U.prototype.Re=function(a){this.view.Re(a)};$U.prototype.l=function(a,b){this.notify("onSelectLanguage",parseInt(b,10))};I.j().register("wnd.pm.PagesTopBar",Qj,ZU,$U);function aV(a,b){my.call(this,a,b)}n(aV,pz);function bV(a,b,c){hB.call(this,a,b,c)}n(bV,hB);I.j().register("wnd.pm.PagesTreeGroup",fl,aV,bV);function cV(a,b){rz.call(this,a,b)}n(cV,rz);cV.prototype.gd=function(a,b,c){cV.m.gd.call(this,a,b,c);null!=c&&c.hasOwnProperty("private_access")&&R(this.B(),P(this.f,"css")["item-locked"],1===N(this.f,"private_access"))};cV.prototype.Bn=function(){var a=cV.m.Bn.call(this);1===N(this.f,"private_access")&&(a+=" "+P(this.f,"css")["item-locked"]);hl(this.f)&&(a+=" "+P(this.f,"css")["item-sys"]);return a};function dV(a,b,c){kB.call(this,a,b,c)}n(dV,kB);dV.prototype.Zc=function(){return N(this.f,"identifier")};dV.prototype.ma=function(a){dV.m.ma.call(this,a);if("beforeDeletePage"===a.getType()&&hl(this.f)){a=a.c;var b=this.getParent();do b=b.getParent();while(!(b instanceof uG));rp(this.B(),a.B());BG(b,this,a,"top","")}};I.j().register("wnd.pm.PagesTreeItem",gl,cV,dV);function eV(a,b){tG.call(this,a,b);this.$b=!0;this.o=null}n(eV,tG);eV.prototype.Dm=function(){eV.m.Dm.call(this);if(null==this.o){var a={};null!=t.kbLinks.subPage&&(a.url=t.kbLinks.subPage);this.o=Tr(P(this.f,"soyTemplate").Zt,a);this.B().appendChild(this.o)}};eV.prototype.hi=function(a,b){var c=eV.m.hi.call(this,a,b);c&&S.aa(this.o,!a);return c};function fV(a,b,c){uG.call(this,a,b,c);this.Oq="wnd.pm.PagesTreeItem";this.Nq="wnd.pm.PagesTreeGroup"}n(fV,uG);f=fV.prototype;f.lf=function(a,b,c,d){fV.m.lf.call(this,a,b,c,d);gV(this)};function gV(a){var b=Ue(a.g),c=Ti(Ri.j(),b.yj()),d=lB(aB(a,Xf(c)));d instanceof kB&&z(a.g,function(a){hl(a.f)&&bB(a)==Vf(c,"sys_pages_page_id")&&(BG(this,a,d,"bottom",""),d=a)},a)}f.ma=function(a){fV.m.ma.call(this,a);"treeItemActivate"===a.getType()&&(a=a.c,this.notify("onPageActivate",a.getId(),a.fu(),hl(a.f)))};
f.Y=function(a){fV.m.Y.call(this,a);a.K()===this.f.K()&&("dataUpdate"===a.getType()?(this.f.update("data_updated"),this.f.Ea(this.lf,null,this)):"dataDelete"===a.getType()&&(this.f.update("data_deleted"),this.f.Ea(this.lf,null,this)))};f.pa=function(a){this.w=hV();fV.m.pa.call(this,a)};function hV(){return t.isListingDetail?t.listing_page.id:t.page.id<Nd.systemIdBoundary&&t.page.id!=Nd.rootPageId?Nd.rootPageId:t.page.id}f.Ok=function(){var a=this.g[hV()];a&&!a.ub?xG(this,hV()):fV.m.Ok.call(this)};
f.Wp=function(a,b,c){a=c.getData();a=new zg("dataUpdate","parent_propagation",this.f.K(),this,a.id);this.ca(a);this.f.update("data_updated");this.f.Ea(this.lf,null,this)};f.Qj=function(a){return hl(a.f)};I.j().register("wnd.pm.PagesTree",il,eV,fV);function iV(a,b,c){OB.call(this,a,b,c);this.eg={};this.g=this.l=null;O(this.f,"extendCssClass","wnd-add-page")}n(iV,OB);f=iV.prototype;f.ua=function(){return Nd.PagesAdmin.contentGroups.PM_PATTERNS};
f.fa=function(){var a=Nd.PagesAdmin.contentGroups.PM_PATTERNS;$B(this,a);var b=this.L(this.C()+"_"+a+"_area","wnd.ui.PopupEmptyBlock",a,{properties:{initRenderFlag:!0}});b.L(this.C()+"_"+a+"_top_bar","wnd.pm.AddNewPageTopBar",null,{properties:{switchContainer:this.getId(),initRenderFlag:!0}});this.g=b.L(this.C()+"_"+a+"_content","wnd.pm.AddNewPagePatterns",null,{collectionSettingsFunc:m(this.$z,this),properties:{switchContainer:this.getId(),switchGroups:[Nd.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM],
width:Nd.AddNewPagePatterns.width,height:Nd.AddNewPagePatterns.height,initRenderFlag:!0,extendCssClass:"wnd-new-page-patterns wnd-clearfix"}});b.L(this.C()+"_control_bar_1","wnd.pm.AddNewPageControlBar",null,{properties:{controls:{left:["Cancel"],right:["Choose"]},switchContainer:this.getId(),switchGroups:[Nd.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM],initRenderFlag:!0}});a=Nd.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM;b=this.L(this.C()+"_"+a+"_area","wnd.ui.PopupEmptyBlock",a,{properties:{initRenderFlag:!0,
width:Nd.AddNewPagePopup.formContent.width,height:Nd.AddNewPagePopup.formContent.height,resizeAnimation:!0}});b.L(this.C()+"_"+a+"_top_bar","wnd.pm.NewPageTopBar",null,{properties:{initRenderFlag:!1,switchContainer:this.getId(),switchGroups:[Nd.PagesAdmin.contentGroups.PM_PATTERNS]}});this.l=b.L(this.C()+"_"+a+"_content","wnd.pm.NewPageForm",null,{properties:{switchContainer:this.getId(),switchGroups:[Nd.PagesAdmin.contentGroups.PM_PATTERNS],initRenderFlag:!1,width:Nd.NewPageForm.width,height:Nd.NewPageForm.height,
autoSave:!1,method:"post",saveBeforeClose:!1}});b.L(this.C()+"_control_bar_2","wnd.pm.NewPageControlBar",null,{properties:{initRenderFlag:!1,controls:{left:["Cancel"],right:["Create"]}}})};f.hc=function(){iV.m.hc.call(this);this.g&&this.g.show();this.l&&this.l.I&&(this.resize(Nd.AddNewPagePopup.formContent.width,Nd.AddNewPagePopup.formContent.height),this.l.resize(Nd.NewPageForm.width,Nd.NewPageForm.height))};f.Hd=function(){iV.m.Hd.call(this);this.g&&this.g.hide()};
f.$z=function(){return{langFe:Wf(Ti(Ri.j(),this.yj()))}};f.yj=function(){return P(this.f,"langId")};function zU(a){"dfc.generic.membersArea"==a.eg.identifier?L.j().get("server_projects").Ea(m(a.jw,a),null,a):a.Lc(Nd.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM,!1)}
f.jw=function(a,b){Ra.kc("ml_start_add_page_member_area");if("MEMBER_LOGIN"===b["server_projects.private_access_type"])this.Ln();else{gM(E.j(),m(this.Ln,this,!0));Ra.kc("ml_show_activation_popup",{data:{source:"member_area"}});var c=new H("inspectletInfo4",this);this.ca(c)}};f.Ln=function(a){a&&(Ra.kc("ml_activation",{data:{source:"member_area"}}),a=new H("inspectletInfo5",this),this.ca(a));this.Lc(Nd.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM,!1)};
f.show=function(){iV.m.show.call(this);var a=Nd.DefaultPopupProperties["wnd.pm.AddNewPagePopup"],a=new ww(this.view.Va,Nd.AddNewPagePopup.animation.resize.start,[a.width,a.height],Nd.AddNewPagePopup.animation.resize.time,de);a.H("begin",m(this.gt,this));a.H("end",m(this.Fs,this));a.H("animate",m(this.tf,this,!0));a.play();a=this.g;a.g&&a.g.$a(!1);a.w&&a.w.$a(!0);a.g=a.w};
f.gt=function(){(new yw(this.view.Va,Nd.AddNewPagePopup.animation.fadeIn.start,Nd.AddNewPagePopup.animation.fadeIn.end,Nd.AddNewPagePopup.animation.fadeIn.time,de)).play()};f.Fs=function(){var a=Nd.DefaultPopupProperties["wnd.pm.AddNewPagePopup"].width,b=Nd.DefaultPopupProperties["wnd.pm.AddNewPagePopup"].height;a&&b&&(this.Ji(a,b),this.setSize(a,b),this.tf())};f.mb=function(){jV(!0);if(!1===this.l.ra())jV(!1);else{var a=new H("inspectletInfo1",this.l);this.ca(a)}};
f.Id=function(a){a=a.langId;a!=P(this.f,"langId")&&(O(this.f,"langId",a),EU(this.g))};I.j().register("wnd.pm.AddNewPagePopup",ak,oF,iV);function kV(a,b,c){OB.call(this,a,b,c);this.I=this.w=this.D=this.l=null;this.g=parseInt(t.page.langId,10);this.F=Ri.j()}n(kV,OB);f=kV.prototype;f.pa=function(a){kV.m.pa.call(this,a);a=new hi("loadBackgroundImages",1);gr(Qh.j(),a);L.j().get("tpl_page_templates",{langFe:Wf(Ti(this.F,this.g))}).Ea(m(this.iw,this),a,this)};
f.iw=function(a,b,c,d){if(null!=d&&null!=d.order){a=null;for(var e=0,g=d.order.length;e<g;e++)if(c=d.order[e],null===a&&(a=b[c]),-1!=b[c]["tpl_page_templates.identifier"].indexOf("default")){this.I={id:parseInt(b[c]["tpl_page_templates.id"],10),name:b[c]["tpl_page_templates.page_name"]};break}null===this.I&&null!=a&&(this.I={id:parseInt(a["tpl_page_templates.id"],10),name:a["tpl_page_templates.page_name"]})}};
f.fa=function(){this.D=this.L(this.C()+"_top_bar","wnd.pm.PagesTopBar",null,{properties:{initRenderFlag:!0}});this.D.observe("onSelectLanguage",m(this.Pu,this),this);var a=Nd.PagesAdmin.mainContent,a=this.L(this.C()+"_area","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,width:a.width,height:a.height}});this.l=a.L(this.C()+"_tree","wnd.pm.PagesTree",null,{collectionSettingsFunc:m(this.vr,this),properties:{initRenderFlag:!0,enabledDragDrop:!0,width:Nd.PagesTree.width,height:Nd.PagesTree.height,
css:Nd.PagesTree.css}});this.w=a.L(this.C()+"_detail","wnd.pm.PageEdit",null,{id:this.l.w,collectionSettingsFunc:m(this.vr,this),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0,isRoot:null,isSystemPage:!1,width:Nd.PageEdit.width}});this.l.observe("onPageActivate",m(this.w.ww,this.w),this);this.w.observe("onPageNameChange",m(this.xw,this),this);this.w.observe("beforeDeletePage",m(this.hs,this),this);this.w.observe("onDeletePage",m(this.hA,this),this)};f.Pu=function(a,b){this.g=b;vG(this.l)};
f.xw=function(a,b){var c=CG(this.l);null===c||c.Ce(b,!0)};f.hs=function(){var a=this.l;if(null!==CG(a)){var a=CG(a),b=new H("beforeDeletePage",a,"children_propagation");a.ca(b)}};
f.hA=function(){var a=CG(this.l),b=this.l.g[t.page.id],c;c=a.getParent();c instanceof bV&&(c=c.getParent());t.page.id==a.getId()||b&&YA(this.l,b,a)?window.location.href=c.Zc()+"#activate="+this.ba():t.isListingDetail&&t.listing_page.id==a.getId()?window.location.href=t.baseUrl+"#activate="+this.ba():(b=c.getId(),this.l.w=b,b=new zg("dataDelete","parent_propagation","gui_pages",a,a.getId()),a.ca(b),yG(this.l))};
f.vr=function(){var a=[{prefix:"",key:"gui_pages.lang_id",operator:"=",value:this.g,suffix:"AND"}];Ch(a,Nd.PagesAdmin.dataSettings.filter);return{filter:a,orderBy:Nd.PagesAdmin.dataSettings.orderBy}};f.O=function(){kV.m.O.call(this);null===this.D||null===this.D.view.wf||this.c.H(this.D.view.wf,U,m(this.gA,this))};f.gA=function(a){a.stopPropagation();E.j().create("wnd.pm.AddNewPagePopup","wnd-popup-add-page",document.body,this,null,{langId:this.g})};
f.hc=function(){kV.m.hc.call(this);this.g=Ui(this.F).getId();var a=this.D;if(a.g){var a=a.g,b=this.g.toString();P(a.f,"selected")!=b&&(O(a.f,"selected",b),a.Qd(FE(a),b,!0))}xG(this.l,hV());vG(this.l)};f.show=function(){kV.m.show.call(this);var a=new H("inspectletInfo1",this);this.ca(a)};I.j().register("wnd.pm.PagesAdminPopup",ak,oF,kV);function lV(a){Ci.call(this,a,Nd)}n(lV,Ci);lV.prototype.init=function(){if(l(t.error404)){var a=E.j(),b=m(this.c,this),a=JE(a,{title:"Page not found",text:"Page "+(t.error404+" does not exist."),extendCssClass:"wnd-info-404error"},this,b);b&&fC(a,"onClose",b,a)}};lV.prototype.ma=function(a){lV.m.ma.call(this,a);"openPagesManager"===a.getType()&&E.j().create("wnd.pm.PagesAdminPopup","wnd_popup_pages",document.body,this)};
lV.prototype.c=function(){oa(window.history)&&na(window.history.replaceState)?window.history.replaceState({},"",t.baseUrl):location.href=t.baseUrl};function mV(a,b){rB.call(this,a,b)}n(mV,rB);mV.prototype.N=function(){var a=vo.j();return{yk:xo(vo.j(),"backup",t.keenIo.refs.settingsBackupAndRecover),Qq:t.manageBackups,hasFeature:a.hasFeature("backup")}};mV.prototype.da=function(){Qr(this.B(),Es,this.N())};function nV(a,b,c){SB.call(this,a,b,c)}n(nV,SB);nV.prototype.fa=function(){};I.j().register("wnd.ps.BackupAndRecovery",Mj,mV,nV);function oV(a,b,c){rC.call(this,a,b,c);this.D=null}n(oV,rC);
oV.prototype.tn=function(a,b){var c=Q(this.f,"listing_share_buttons");this.L(this.C()+"_share_buttons","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Show social buttons in all blog posts",name:c,defaultValue:b[c],initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-blog-share-buttons"}});c=Q(this.f,"listing_comments");this.L(this.C()+"_facebook_comments","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Show Facebook comments in all blog posts",name:c,defaultValue:b[c],
initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-blog-facebook-comments"}});this.D=this.L(this.C()+"_header_footer","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,legend:"Blog Post Header and Footer HTML",showIcon:!0,extendCssClass:"wnd-ps-blog-header-footer",tooltip:"Add HTML code to all your blog posts here. The header is an ideal place to embed advanced measuring codes. In the footer, you can insert social buttons or discussions that will be shown under each of your blog posts."}});
this.D.L(this.C()+"_header_code","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),label:"Header HTML Code",name:Q(this.f,"listing_header_html"),defaultValue:b[Q(this.f,"listing_header_html")],initRenderFlag:!0,disableAutosave:!0}});this.D.L(this.C()+"_footer_code","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),label:"Footer HTML Code",name:Q(this.f,"listing_footer_html"),defaultValue:b[Q(this.f,"listing_footer_html")],initRenderFlag:!0,disableAutosave:!0}})};
I.j().register("wnd.ps.BlogSettingsForm",jl,vB,oV);function pV(a,b,c){SB.call(this,a,b,c);this.g=null}n(pV,SB);pV.prototype.fa=function(){this.L(this.C()+"_menu_header","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Blog Settings",extendCssClass:"wnd-ps-subtitle"}});this.g=this.L(this.C()+"_form","wnd.ps.BlogSettingsForm",null,{properties:{initRenderFlag:!0,height:Od.BlogSettings.formContent.height,autoSave:!0,extendCssClass:"wnd-ps-blog-settings"}})};pV.prototype.show=function(){pV.m.show.call(this);null!=this.g&&tC(this.g)};
I.j().register("wnd.ps.BlogSettings",Mj,rB,pV);function qV(a,b){rB.call(this,a,b)}n(qV,rB);qV.prototype.N=function(){vo.j();var a=t.projectDomain,b=!1;z(P(this.f,"projectInfo").projectDomains,function(c){!0===c.isMaster&&(a=c.domain);!1===c.isOriginal&&(b=!0)},!0);return{yy:t.urlDomains,wy:t.urlDomainRegister+"?ref="+t.keenIo.refs.settingsDomainView,xy:t.urlDomainTransfer,Ix:a,Wx:b}};qV.prototype.da=function(){Qr(this.B(),Ns,this.N())};function rV(a,b,c){SB.call(this,a,b,c)}n(rV,SB);rV.prototype.fa=function(){};I.j().register("wnd.ps.Domains",Mj,qV,rV);function sV(a,b){rB.call(this,a,b)}n(sV,rB);sV.prototype.N=function(){var a=vo.j();return{yk:xo(vo.j(),"max_mailboxes",t.keenIo.refs.settingsEmailAccount),zy:t.manageEmails,hasFeature:a.hasFeature("max_mailboxes")}};sV.prototype.da=function(){Qr(this.B(),Ss,this.N())};function tV(a,b,c){SB.call(this,a,b,c)}n(tV,SB);tV.prototype.fa=function(){};I.j().register("wnd.ps.EmailAccounts",Mj,sV,tV);function uV(a,b){rB.call(this,a,b)}n(uV,rB);
uV.prototype.N=function(){var a=vo.j(),b;if(null===a.c)b="";else switch(b="",a.c.identifier){case "free":b="Free";break;case "mini":b="Mini";break;case "standard":b="Standard";break;case "professional":b="Profi";break;case "basic":b="Mini";break;case "plus":b="Standard";break;case "premium":b="Profi";break;case "limited":b="Limited"}var c;c=D(a.g)||null===a.c?!1:oh(a.g,a.c.identifier)<a.g.length-1;var d=a.Sg(),e=xo(vo.j(),"storage",t.keenIo.refs.settingsBuyMoreStorage),g=xo(vo.j(),"bandwidth",t.keenIo.refs.settingsBuyMoreBandwidth),
h=xo(vo.j(),null,t.keenIo.refs.settingsGeneral),k=vo.j();b={ux:b,ks:c,Sg:d,Dy:e,Cy:g,By:h,vy:t.urlBilling,Jx:P(this.f,"projectInfo"),by:Pd.NotEnoughStorage.limit,gs:Pd.NotEnoughBandwidth.limit,ey:a.c.packageSubscrPaymentDay,du:"expiring"===k.c.packageExpiryStatus};!1===a.Sg()&&(a=a.c.packageValidity,l(a.from)&&(b.vx=a.from),l(a.from)&&(b.wx=a.to));return b};uV.prototype.da=function(){Qr(this.B(),ht,this.N())};function vV(a,b,c){SB.call(this,a,b,c)}n(vV,SB);vV.prototype.fa=function(){};I.j().register("wnd.ps.GeneralSettings",Mj,uV,vV);function wV(a,b){rB.call(this,a,b);this.w=null;this.ha={};this.o=null}n(wV,rB);function xV(a,b){z(a.ha,function(a,d){F(b,d)||(sp(a),Ze(this.ha,d))},a)}
function yV(a,b){a.w=Tr(fu);u(b,function(a){var b="";switch(a){case "wnd.ps.GeneralSettings":b="General";break;case "wnd.ps.Domains":b="Domains";break;case "wnd.ps.EmailAccounts":b="Email accounts";break;case "wnd.ps.BackupAndRecovery":b="Backup and Recovery";break;case "wnd.ps.WebsiteLanguages":b="Languages";break;case "wnd.ps.WebsiteEditors":b="Website Editors";break;case "wnd.ps.SiteSettings":b="Website Settings";break;case "wnd.ps.BlogSettings":b="Blog"}this.ha[a]=Tr(gu,{hm:a,name:b});this.w.appendChild(this.ha[a])},
a);np(a.B(),a.w)};function zV(a,b,c){SB.call(this,a,b,c)}n(zV,SB);zV.prototype.fa=function(){this.L(this.C()+"_menu_header","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Settings",extendCssClass:"wnd-settings"}});yV(this.view,Av(this.f));BV(this,Bv(this.f))};zV.prototype.O=function(){zV.m.O.call(this);this.view.ha&&z(this.view.ha,function(a){this.c.H(a,U,m(this.g,this),!1)},this)};zV.prototype.g=function(a){a.stopPropagation();a=ky(a.target,"wnd_settings_type");BV(this,a)};
function BV(a,b){var c=a.view;l(c.ha[b])&&(null!==c.o&&(R(c.o,"item-activated",!1),c.o=null),R(c.ha[b],"item-activated",!0),c.o=c.ha[b]);a.notify("onSelect",b)}zV.prototype.Y=function(a){zV.m.Y.call(this,a);if("dataDelete"==a.getType()&&"children_propagation"==a.h){var b=t.page.langId;null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[b]&&t.listings.blog[b].page_id==a.g&&(xV(this.view,Av(this.f)),BV(this,Bv(this.f)))}};I.j().register("wnd.ps.SettingsMenu",zv,wV,zV);function CV(a,b){az.call(this,a,b);this.o=bt;this.rh=this.sh=null}n(CV,az);CV.prototype.ei=function(){CV.m.ei.call(this);this.sh=this.R.querySelector(".wnd-adv-fieldset-legend");this.rh=this.R.querySelector(".wnd-form-favicon-value")};CV.prototype.N=function(){var a=CV.m.N.call(this);null!=P(this.f,"editButton")&&(a.rl=P(this.f,"editButton"));return a};function DV(a,b,c){wz.call(this,a,b,c)}n(DV,$z);DV.prototype.O=function(){DV.m.O.call(this);this.c.H(this.view.sh,U,m(this.g,this))};DV.prototype.g=function(a){a.stopPropagation();this.notify("onClick",this)};DV.prototype.rf=function(){};I.j().register("wnd.ps.FaviconFormItem",nj,CV,DV);function EV(a,b,c){rC.call(this,a,b,c);this.U=this.D=this.T=this.qa=this.I=this.Ia=this.Ca=null}n(EV,rC);f=EV.prototype;
f.tn=function(a,b){this.Ca=this.L(this.C()+"_project_name_fieldset","wnd.ui.InfoFieldset",null,{properties:{initRenderFlag:!0,legend:"Website name",showIcon:!0,editButton:"Edit name",extendCssClass:"wnd-ps-site-project-name"}});this.Ca.L(this.C()+"_project_name","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Website name",name:Q(this.f,"project_name"),defaultValue:b[Q(this.f,"project_name")],initRenderFlag:!1,required:!0,showIcon:!0,extendCssClass:"wnd-ps-site-project-name",disableAutosave:!0}});
this.Ia=this.L(this.C()+"_search_index","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Search engine indexing",name:Q(this.f,"rating"),defaultValue:3<b[Q(this.f,"rating")]?1:0,realValues:{0:Od.Rating.SlightRisk,1:Od.Rating.DefinitelyOK},initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-site-search-index",isAccessible:vo.j().hasFeature("search_engines"),tooltip:'Enable indexing to allow search engines like Google to crawl your website. This makes it eligible to show in search results. \nBy disabling indexing, you set the metatag "robots" to the "noindex" value and your website will not be listed in search results.'}});
this.Ia.observe("onCheckAccess",this.ts,this);this.I=this.L(this.C()+"_favicon","wnd.ps.FaviconFormItem",null,{properties:{id:eC(this),label:"Favicon",name:Q(this.f,"favicon_w2"),defaultValue:b[Q(this.f,"favicon_w2")],editButton:"Change icon",initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-ps-site-favicon",disableAutosave:!0}});this.$n(this.I);this.I.observe("onClick",this.zv,this);this.I.observe("onSaveValue",this.ow,this);this.qa=this.L(this.C()+"_analytics_fieldset","wnd.ui.InfoFieldset",null,
{properties:{initRenderFlag:!0,legend:"Google Analytics",showIcon:!0,editButton:"Connect account",extendCssClass:"wnd-ps-site-analytics"}});this.qa.observe("onCheckAccess",this.rs,this);this.qa.L(this.C()+"_analytics","wnd.ui.ShortTextFormItem",null,{properties:{id:eC(this),label:"Google Analytics",name:Q(this.f,"analytics"),defaultValue:b[Q(this.f,"analytics")],initRenderFlag:!1,isAccessible:vo.j().hasFeature("ga"),placeholder:"e.g. UA-12345678-9",validateType:"validateGoogleAnalytics",showIcon:!0,
extendCssClass:"wnd-ps-site-analytics",disableAutosave:!0}});if(La(t.visibleRelease,"cookie_bar")){var c=Q(this.f,"cookie_warning");this.L(this.C()+"_cookie_warning","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Show cookie consent bar",name:c,defaultValue:b[c],initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-site-cookie-warning",isAccessible:!0,tooltip:"Cookies are small files used to track activity on a website and are necessary for the safe and correct operation of most websites. The European Union (EU) Cookie Law is a privacy legislation that requires websites to request consent from their users to store or retrieve information on/from their computers or mobile devices."}})}if(Ve("member_login")){this.wa=
this.L(this.C()+"_membership_area","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,legend:"Membership Settings",showIcon:!0,withoutSaveButton:!0,extendCssClass:"wnd-ps-membership-management"}});c=Q(this.f,"private_access_type");this.F=this.wa.L(this.C()+"_restrict_access","wnd.ui.PrivateAccessFormItem",null,{properties:{id:eC(this),label:"Enable Membership Registration",name:c,defaultValue:"MEMBER_LOGIN"==b[c]?1:0,initRenderFlag:!0,realValues:{0:"",1:"MEMBER_LOGIN"},showIcon:!0,extendCssClass:"wnd-switch wnd-ps-members-settings-item",
isAccessible:m(this.sp,this),hint:"Allow your visitors to register as website members to gain access to the private pages of your website.",disableAutosave:!0}});FV(this);this.F.observe("changePrivateAccessTyp",this.ps,this);var c=Q(this.f,"approve_members"),d=vo.j().hasFeature("member_login");this.D=this.wa.L(this.C()+"_require_approval","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:"Approve members manually",name:c,defaultValue:b[c],initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-members-settings-item",
hintByValue:{0:"Manual approval is disabled. All new registrations are automatically approved and members can view all private pages.",1:"Every new registration needs to be approved by you before the user gains access to the private pages of your website."},isAccessible:d}});this.D.observe("onCheckAccess",this.$u,this);this.D.observe("onChange",this.Mu,this);GV(this,b[Q(this.f,"private_access_type")])}this.T=this.L(this.C()+"_header_footer","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,
legend:"Website header and footer",showIcon:!0,extendCssClass:"wnd-ps-site-header-footer"}});this.T.observe("onCheckAccess",this.ss,this);this.T.L(this.C()+"_header_code","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),label:"Website header HTML code",name:Q(this.f,"header_html"),defaultValue:b[Q(this.f,"header_html")],initRenderFlag:!0,disableAutosave:!0,isAccessible:vo.j().hasFeature("footer_header_code")}});this.T.L(this.C()+"_footer_code","wnd.ui.LongTextFormItem",null,{properties:{id:eC(this),
label:"Website footer HTML code",name:Q(this.f,"footer_html"),defaultValue:b[Q(this.f,"footer_html")],initRenderFlag:!0,disableAutosave:!0,isAccessible:vo.j().hasFeature("footer_header_code")}})};function FV(a){null!=a.F&&(a.U=a.F.getValue())}f.sp=function(){return"MEMBER_LOGIN"==this.U||vo.j().hasFeature("member_login")};
f.ps=function(a,b,c){c.stopPropagation();c.preventDefault();this.sp()?""===b.getValue()?(gM(E.j(),m(this.qu,this)),Ra.kc("ml_show_activation_popup",{data:{source:"settings"}}),b=new H("inspectletInfo4",this),this.ca(b)):(a=E.j(),b=m(this.Xs,this,b),vC(a,{title:"Do you really want to disable Membership Registration?",text:"Warning: All your private pages will be publicly accessible. Registration and login on your website will not be possible anymore.",leftButtons:["ConfirmDisableMemberLogin"]},this,
b)):eM()};f.Xs=function(a){Ra.kc("ml_deactivation",{data:{source:"settings"}});a.Rd(!1);this.nh([a]);FV(this)};f.qu=function(){Ra.kc("ml_activation",{data:{source:"settings"}});var a=new H("inspectletInfo5",this);this.ca(a);this.F.Rd(!0);FV(this);GV(this)};f.$u=function(a,b,c){c||xz(b)===ej||eM()};f.Mu=function(a,b){1==b.getValue()?Ra.kc("ml_enable_require_approval"):Ra.kc("ml_disable_require_approval")};
f.zv=function(){if(vo.j().hasFeature("change_favicon")){var a=E.j(),b=[Wj,"publicFavicons"],c=L.j().get("project_info").getData(),d={};d.publicFavicons={filterMN:[{key:"category",value:[Fa.StaticServerCategory.templates,c.uikit_name,c.template_name,c.template_branch_id,Fa.StaticServerCategory.favicon],optional:[c.uikit_name,c.template_name,c.template_branch_id,Fa.StaticServerCategory.favicon]}],orderMN:{key:"category",value:Fa.StaticServerCategory.favicon,order:"DESC"}};fC(OG(a,{showTypes:b,activeType:"publicFavicons",
collectionSettings:d,checkLowResolution:!1}),"onInsert",this.Yv,this)}else a=E.j(),KE(a,{type:"premiumFavicon",params:{upgradeUri:xo(vo.j(),"change_favicon","premiumFaviconPopup")}})};f.ow=function(a,b){setTimeout(m(this.$n,this,b),500)};f.$n=function(a){var b=a.view.rh;if(null!==b){var c="/favicon.ico";if(a=a.getValue())a=JSON.parse(a),c=po(a.src,a.dataType);b.style.backgroundImage="url('"+c+"')"}};
f.Yv=function(a,b){var c=b[0],d={};d.id=c.getId();d.src=c.ya();d.dataType=c.K();c=this.I;d=JSON.stringify(d);c.view.Uc(d);Cz(c)&&(Dz(c),null!=c.ib()&&c.ib().nh([c]),c.notify("onSaveValue",c))};f.rs=function(a,b,c){c||(a=E.j(),KE(a,{type:"premiumAnalytics",params:{upgradeUri:xo(vo.j(),"ga","premiumAnalyticsPopup")}}))};f.ts=function(a,b,c){c||(a=E.j(),KE(a,{type:"searchIndex",params:{upgradeUri:xo(vo.j(),"search_engines","premiumSearchIndexPopup")}}))};
f.ss=function(a,b,c){c||(a=E.j(),KE(a,{type:"headerFooterCode",params:{upgradeUri:xo(vo.j(),"footer_header_code","premiumHeaderFooterCodePopup")}}))};f.Bc=function(){EV.m.Bc.call(this)};f.Pq=function(a,b,c){a.getName()===Q(this.f,"private_access_type")?(GV(this,c),a.jc("value","MEMBER_LOGIN"==c?1:0),FV(this)):a.jc("value",c)};f.uf=function(a,b,c){EV.m.uf.call(this,a,b,c);a=this.Fc();GV(this,a[Q(this.f,"private_access_type")]);FV(this)};
function GV(a,b){var c="defaultItem",d=a.U;null!=b&&(d=b);""!=d&&vo.j().hasFeature("member_login")||(c=ej);null!=a.D&&a.D.setState(c)}f.Y=function(a){EV.m.Y.call(this,a);"server_projects"==a.K()&&"dataUpdate"==a.getType()&&this.Bc()};I.j().register("wnd.ps.SiteSettingsForm",kl,vB,EV);function HV(a,b,c){SB.call(this,a,b,c);this.g=null}n(HV,SB);HV.prototype.fa=function(){this.L(this.C()+"_menu_header","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Website Settings",extendCssClass:"wnd-ps-subtitle"}});this.g=this.L(this.C()+"_form","wnd.ps.SiteSettingsForm",null,{properties:{initRenderFlag:!0,height:Od.SiteSettings.formContent.height,autoSave:!0,extendCssClass:"wnd-ps-site-settings"}})};HV.prototype.show=function(){HV.m.show.call(this);null!=this.g&&tC(this.g)};
I.j().register("wnd.ps.SiteSettings",Mj,rB,HV);function IV(a,b){rB.call(this,a,b)}n(IV,rB);IV.prototype.N=function(){return{Ay:t.manageUsers}};IV.prototype.da=function(){Qr(this.B(),Cu,this.N())};function JV(a,b,c){SB.call(this,a,b,c)}n(JV,SB);JV.prototype.fa=function(){};I.j().register("wnd.ps.WebsiteEditors",Mj,IV,JV);function KV(a,b,c){var d=P(a);df(d,{values:[],collection:{datatype:r.AdminLanguages.DataType,keyColumn:"identifier",textColumn:"name"}});a.c.properties=d;pA.call(this,a,b,c);this.U=!0}n(KV,pA);KV.prototype.pa=function(a){KV.m.pa.call(this,a);this.w=!1;this.f.Bf()};I.j().register("wnd.ps.LanguageFormItem",ml,Uy,KV);function LV(a,b,c){Gz.call(this,a,b,c);this.I=this.g=null;this.D=!1}n(LV,Gz);f=LV.prototype;f.pa=function(a){LV.m.pa.call(this,a);setTimeout(m(function(){aq||this.g.focus();this.g.close()},this),500)};
f.fa=function(){this.g=this.L(this.C()+"LanguageFormItem","wnd.ps.LanguageFormItem",null,{properties:{id:eC(this),label:"Choose a language",name:"identifier",required:!0,initRenderFlag:!0,placeholder:"e.g. Deutsch",canWrite:!0,canBeEmpty:!0}});var a=Ri.j(),a="Copy all pages and content from: "+Ti(a,1).getName();this.I=this.L(this.C()+"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:eC(this),label:a,name:"copy_all_pages",initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}})};
f.ra=function(){if(this.D)return!1;this.D=!0;this.Aa();var a=Ri.j(),b=this.g.getValue(),c=this.g.jd(),d=this.I.Cd(),e=new qf;e.data={action:"add",langIdentifier:b,langName:c,copyPage:d};mf(e,m(a.tu,a));Sh(Qh.j(),e);return!0};f.sd=function(a,b){var c=!1;this.D||(c=LV.m.sd.call(this,a,b));return c};f.Aa=function(){LV.m.Aa.call(this,"Wait please...")};I.j().register("wnd.ps.AddLanguageForm",ll,vB,LV);function MV(a,b,c){OB.call(this,a,b,c);this.l=this.g=null}n(MV,OB);
MV.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Add new language",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-button"}});this.g=this.L(this.C()+"_popup_content","wnd.ps.AddLanguageForm",this.ua(),{properties:{width:Od.AddLanguageForm.width,height:Od.AddLanguageForm.height,initRenderFlag:!0,saveBeforeClose:!1,"class":"wnd-form-new-language"}});this.l=this.L(this.C()+"_control_bar","wnd.ui.BasicControlBar",
this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};MV.prototype.mb=function(){dC(this.g)&&(this.l.hide(),this.g.ra())};MV.prototype.Y=function(a){MV.m.Y.call(this,a);a.K()==r.FeLanguages.DataType&&"dataCreate"==a.getType()&&(Ie(Ke,"showChangeLanguageBubble","1",-1,"/"),window.location.href=t.baseUrl+a.g+"/")};I.j().register("wnd.ps.AddLanguagePopup",ak,oF,MV);function NV(a,b){sB.call(this,a,b);this.$b=!0;this.h={"class":"wnd-language-item"};this.o=this.w=this.F=this.R=null;this.W=!0}n(NV,sB);function OV(a){var b=P(a.f,"switcherName");!0===P(a.f,"initial")&&(b+=" (Primary language)");return b}
NV.prototype.da=function(){this.w=Tr(xt,{identifier:P(this.f,"switcherIdentifier"),name:OV(this)});this.B().appendChild(this.w);this.o=Tr(ct,this.N());this.B().appendChild(this.o);this.F=Tr(yt);this.o.appendChild(this.F);P(this.f,"removable")&&(this.R=Tr(Hs,{control:"DeleteLanguage"}),this.o.appendChild(this.R));PV(this,!1)};NV.prototype.D=function(){return this.w};NV.prototype.ze=function(){return this.F};NV.prototype.U=function(){return this.R};
function PV(a,b){S.aa(a.o,b);R(a.D(),"activated",b);a.W=b};function QV(a,b,c){SB.call(this,a,b,c)}n(QV,Hz);f=QV.prototype;f.O=function(){QV.m.O.call(this);this.c.H(this.view.D(),U,m(this.ly,this));this.view.U()&&this.c.H(this.view.U(),U,m(this.Bs,this))};f.pa=function(a){QV.m.pa.call(this,a);a=RV(this);R(this.view.B(),"disabled",a)};function RV(a){return!0===P(a.f,"isDefault")&&1===Ri.j().hd()}f.ly=function(){if(!RV(this)){var a=this.view;PV(a,!a.W);this.notify("onChangeSettingsVisibility")}};
f.Bs=function(a){a.stopPropagation();a=E.j();var b=m(this.Vs,this);vC(a,{title:"Do you really want to delete this language?",text:"Warning: all content will be permanently removed!",leftButtons:["ConfirmDelete"]},this,b)};f.Vs=function(){this.notify("onDeleteStart");this.hide();var a=Ri.j(),b=P(this.f,"langId"),c=new qf;c.data={action:"delete",langId:b};mf(c,m(a.GA,a,b));Sh(Qh.j(),c)};
f.Y=function(a){QV.m.Y.call(this,a);a.K()==r.FeLanguages.DataType&&"dataDelete"==a.getType()&&(t.page.langId==a.g&&(window.location.href=t.baseUrl),a=RV(this),R(this.view.B(),"disabled",a))};I.j().register("wnd.ps.LanguageFieldset",Nj,NV,QV);function SV(a,b){vB.call(this,a,b);this.h={"class":"wnd-website-languages"}}n(SV,vB);function TV(a,b,c){Gz.call(this,a,b,c);this.F={};this.D={};this.I=null;this.T=Ri.j()}n(TV,pC);f=TV.prototype;f.fa=function(){UV(this)};f.O=function(){this.Za();TV.m.O.call(this)};
function UV(a){a.O();z(a.T.c,function(a){var c=a.getId(),d;d=(d=Vf(a,"initial"))?parseInt(d,10):null;var e=Wf(a),g=a.getName();a=e+"_"+c;var h=1===c,e=this.L("wnd_language_fieldset_"+a,"wnd.ps.LanguageFieldset",this.ua(),{properties:{initRenderFlag:!0,switcherIdentifier:e,switcherName:g,langId:c,isDefault:h,removable:!h,initial:!!d}});e.observe("onChangeSettingsVisibility",m(this.Vu,this,c),this);e.observe("onDeleteStart",m(this.Aa,this),this);e.observe("onDeleteEnd",m(this.wr,this,c),this);a=e.L("wnd_language_form_item_initial_"+
a,"wnd.ui.CheckboxFormItem",null,{create:{data:{value:d}},properties:{id:eC(this),label:"Set as primary language",name:"initial",defaultValue:d,initRenderFlag:!0,extendCssClass:"wnd-switch"}});d&&(this.g=c);this.D[c]=a;this.F[c]=e;a.observe("onChange",m(this.bo,this,c),this)},a)}
f.bo=function(a){var b=this.F[this.g];O(b.f,"initial",!1);b=b.view;b.w.innerHTML=OV(b);if(this.g!==a)this.D[this.g].Rd(!1),this.g=a;else for(var c in this.D)if(c=parseInt(c,10),c!==a){this.D[c].Rd(!0);this.g=c;break}a=this.T;c=this.g;b=new qf;b.data={action:"setInitial",langId:c};mf(b,m(a.Yw,a));Sh(Qh.j(),b);a=this.F[this.g];O(a.f,"initial",!0);a=a.view;a.w.innerHTML=OV(a)};f.Vu=function(a){null!==this.I&&this.I!=a&&PV(this.F[this.I].view,!1);this.I=a};
f.wr=function(a){this.Fa();a==this.I&&(this.I=null);this.D[a].Cd()&&this.bo(a);this.F[a].dispose();delete this.D[a];delete this.F[a]};f.Aa=function(){pB(this.view,!1);TV.m.Aa.call(this)};f.Fa=function(){this.l&&pB(this.view,!0);TV.m.Fa.call(this)};f.Y=function(a){TV.m.Y.call(this,a);a.K()==r.FeLanguages.DataType&&"dataDelete"==a.getType()&&t.page.langId!=a.g&&this.wr(parseInt(a.g,10))};I.j().register("wnd.ps.LanguagesForm",nl,SV,TV);function VV(a,b){rB.call(this,a,b);this.vf=null}n(VV,rB);VV.prototype.N=function(){var a=vo.j();return{yk:xo(vo.j(),"multilanguage_fe",t.keenIo.refs.settingsWebsiteLanguage),Qq:t.manageBackups,Sg:a.hasFeature("multilanguage_fe")}};VV.prototype.da=function(){Qr(this.B(),Du)};function WV(a,b,c){SB.call(this,a,b,c)}n(WV,SB);WV.prototype.O=function(){this.Za();WV.m.O.call(this);this.c.H(this.view.vf,U,m(this.l,this))};WV.prototype.fa=function(){this.g=this.L(this.C()+"_form","wnd.ps.LanguagesForm",null,{properties:{initRenderFlag:!0,updateBeforeShow:!0,saveBeforeClose:!1}});var a=this.view,b=this.g.B();a.vf=Tr(Eu);b.appendChild(a.vf)};
WV.prototype.l=function(a){a.stopPropagation();a=vo.j();if(a.hasFeature("multilanguage_fe")){var b;if(b=La(t.visibleRelease,"multilanguageUpgrade")){b=Ri.j().hd();var c=parseInt(a.h.multilanguage_fe_limit,10);b=isNaN(c)?!1:c<=b}b?dM(E.j(),!a.Sg()):E.j().create("wnd.ps.AddLanguagePopup",this.C()+"_new_language",document.body,this)}else dM(E.j())};I.j().register("wnd.ps.WebsiteLanguages",Mj,VV,WV);function XV(a,b,c){OB.call(this,a,b,c);this.D=this.I=this.l=null;this.g={};this.w=null}n(XV,OB);f=XV.prototype;f.Lc=function(){};
f.fa=function(){this.l=this.L(this.C()+"_menu","wnd.ps.SettingsMenu",null,{properties:{initRenderFlag:!0,width:Od.SettingsMenu.width,height:Od.SettingsMenu.height,extendCssClass:"wnd-ps-menu",showType:YV()}});this.l.observe("onSelect",m(this.Xw,this),this);this.I=this.L(this.C()+"_content","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,width:Od.SettingsPopupContent.width,height:Od.SettingsPopupContent.height,extendCssClass:"wnd-ps-content"}});this.L(this.C()+"_footer","wnd.ui.BasicControlBar",
null,{properties:{initRenderFlag:!0,controls:{right:["Close"]}}});ZV(this,Bv(this.l.f))};function YV(){for(var a in Od.SettingsMenu.translatedTypes)if(F(Od.SettingsMenu.translatedTypes[a],t.backendLanguage))return a;return"default"}function $V(a){null===a.w&&(a.w=L.j().get("project_info").getData());return a.w}f.Xw=function(a,b){ZV(this,b)};
function ZV(a,b){null!=a.D&&a.D.hide();if(!l(a.g[b])){var c=a.g,d;d=a.I.L(a.C()+"_items_"+b.replace(".","_"),b,null,{properties:{initRenderFlag:!1,extendCssClass:"wnd-ps-content-item",projectInfo:$V(a)}});c[b]=d}a.g[b].show();a.D=a.g[b]}f.Y=function(a){XV.m.Y.call(this,a);if("project_info"==a.K()&&"dataUpdate"==a.getType()){this.w=null;a=this.g["wnd.ps.GeneralSettings"];var b=$V(this);O(a.f,"projectInfo",b);a.Rc("data_updated")}};
f.hc=function(){XV.m.hc.call(this);var a=this.l,b=Av(a.f);D(b)||BV(a,b[0])};I.j().register("wnd.ps.SettingsPopup",ak,oF,XV);function aW(a,b){qF.call(this,a,b);this.Bf=null}n(aW,qF);function bW(a,b,c){wr.call(this,a,b,c)}n(bW,wr);bW.prototype.fa=function(){this.L(this.C()+"_navigation","wnd.ui.BasicNavigationBar",null,{properties:{title:"My account",extendCssClass:"wnd-my-account",initRenderFlag:!0}});var a=this.view,b=gs(St,{email:t.userName||Pd.MyAccount.defaultUserName,Kx:t.projectsUrl||Pd.MyAccount.defaultProjectsUri});a.Bf=b.querySelector(".wnd-ctrl-type-submit");a.Va.appendChild(b)};
bW.prototype.O=function(){bW.m.O.call(this);null!=this.view.Bf&&this.c.H(this.view.Bf,U,m(this.g,this))};bW.prototype.g=function(){this.hide()};I.j().register("wnd.tb.MyAccountBubble",ck,aW,bW);function cW(a,b){my.call(this,a,b);this.Na={};dW(this)}n(cW,my);function dW(a){a.c=Um(Pd.ToolbarContent.cssIdentifier);var b=$o(Pd.ToolbarContent.buttonIdentifier,a.B());u(b,function(a){if(!0===ly(a,"wnd_toolbar_type")){var b=ky(a,"wnd_toolbar_type");this.Na[b]=a}},a);if(aq||bq)b=$o("tb-right",a.B()),l(b[0])&&S.setStyle(b[0],"right",S.Nh()+"px");eW(a,fW,!1);eW(a,gW,!1)}cW.prototype.da=function(){};cW.prototype.Ig=function(){return this.Na};cW.prototype.D=function(){return this.Na[hW]};
cW.prototype.Re=function(a){S.aa(this.D(),a)};function eW(a,b,c,d){if(a=a.Na[b])c?(!1===xC.j().J&&El(a,"wnd-long-fade"),El(a,"wnd-tb-button-active"),d&&a.setAttribute("title",d)):(Gl(a,"wnd-tb-button-active"),Dl(a,"wnd-long-fade")&&Gl(a,"wnd-long-fade"),a.removeAttribute("title"))};function iW(a,b,c){tz.call(this,a,b,c);this.I=l(Ke.get("notPublishedBubbleShown"));this.D=this.T=this.g=this.l=this.w=null;jW(this);this.view.D()&&(this.view.D().innerHTML="",1!==Ri.j().hd()&&(this.w=I.j().create(this.C()+"_language_switcher","wnd.ui.LanguageSwitcher",this.view.D(),this,{properties:{initRenderFlag:!0,fullTitle:!1,fullItemName:!0}}),this.w.observe("selectItem",m(this.lA,this),this),this.w.observe("onOpen",m(this.vw,this),this),this.w.observe("showSwitcher",m(this.Re,this,!0),this),
this.w.observe("hideSwitcher",m(this.Re,this,!1),this)));l(Ke.get("showChangeLanguageBubble"))&&(Ke.remove("showChangeLanguageBubble","/"),a=this.view.D(),b=E.j(),this.F=fM(b,"wnd-change-language-bubble",a,this,{hideOnClick:!0,type:"changeLanguage"}));this.Tm();a=Qh.j();a.observe("onTransactionsInProcess",m(this.$h,this),this);a.observe("onTransactionsFinished",m(this.$h,this),this)}n(iW,tz);var hW="languages",fW="undo",gW="redo";f=iW.prototype;
f.O=function(){iW.m.O.call(this);z(this.view.Ig(),function(a,b){this.c.H(a,U,m(this.kA,this,b))},this)};f.kA=function(a,b){b.stopPropagation();b.preventDefault();this.w&&this.w.close();sL();var c=new H("saveAndDeactivateContentItems",this);this.ca(c);kW(this,a,b.currentTarget)};
function kW(a,b,c){var d=null;switch(b){case "pages":d="openPagesManager";break;case "settings":d="openProjectSettings";a.D&&a.D.Ra()&&a.D.hide(null,!0);break;case "publish":a.I?a.wq():(lW(),jW(a));b=new H("inspectletInfo1",a);a.ca(b);b=VM.j();b.A||(null===b.g?(c={title:"Website is being published...",extendCssClass:"wnd-info-publish"},c=E.j().create("wnd.ui.WaitingPopup","wnd_ui_WaitingPopup",document.body,a,{},{type:"waiting",title:c.title,extendCssClass:c.extendCssClass||"wnd-info-waiting"}),b.g=
c):b.g.show(),b.h=new wf,mf(b.h,m(b.Fw,b,a)),La(t.visibleRelease,"premium_content")?(c=new vf,mf(c,m(b.zw,b)),Sh(Qh.j(),c)):WM(b));break;case "my-account":c&&E.j().create("wnd.tb.MyAccountBubble","wnd-bubble-my-account",document.body,a,{withOverlay:!1},{coordinates:m(S.getBounds,S,c)});break;case fW:wM();a.$h();break;case gW:yM();a.$h();break;default:return}null!=d&&(d=new H(d,a),a.ca(d))}function lW(){Ie(Ke,"showNotPublishedBubble","1",Pd.ToolbarContent.publishCookieAge,"/")}
function jW(a){a.I||(a.g&&clearTimeout(a.g),a.g=null,l(Ke.get("showNotPublishedBubble"))||lW(),a.g=setTimeout(m(a.Dq,a),Pd.ToolbarContent.publishTimeout))}f.Dq=function(){if(!this.I){var a=Ke.get("showNotPublishedBubble");if(sF()||a)jW(this);else{this.I=!0;var a=this.view.Na.publish,b=E.j();this.S=fM(b,"wnd-not-published-bubble",a,this,{hideOnClick:!0,type:"notPublished"});fC(this.S,"onClick",m(this.wq,this),this)}}};
f.wq=function(){this.S&&(Ie(Ke,"notPublishedBubbleShown","1",-1,"/"),this.S.hide(null,!0))};f.vw=function(){this.F&&this.F.hide(null,!0);sL()};f.Re=function(a){this.view.Re(a)};f.ma=function(a){iW.m.ma.call(this,a);"focusWindow"!==a.getType()||this.g||this.Dq();"blurWindow"===a.getType()&&(this.g&&clearTimeout(this.g),this.g=null);"undoRedoChange"===a.getType()&&this.$h()};
f.Y=function(a){iW.m.Y.call(this,a);var b=["dataCreate","dataDelete"];"filesystem_files"==a.K()&&F(b,a.getType())&&(this.T=a.getType());"project_info"==a.K()&&"dataUpdate"==a.getType()&&"dataCreate"==this.T&&this.Tm()};f.lA=function(a,b){var c=Ri.j(),d=Ti(c,b).Zc();Ti(c,1).Zc()==d&&(d="home");window.location.href=t.baseUrl+d+"/"};
f.Tm=function(){if(l(Ke.get("showNotEnoughStoragePopup")))null!=this.l&&clearTimeout(this.l),this.l=null;else if(sF())null!=this.l&&clearTimeout(this.l),this.l=null,this.l=setTimeout(m(this.Tm,this),Pd.ToolbarContent.notEnoughStorageTimeout);else if(L.j().get("project_info").getData().storage.percentage>Pd.NotEnoughStorage.limit){var a=this.view.Na.settings;if(null!=a){var b=E.j();this.D=fM(b,"wnd-not-enough-storage-bubble",a,this,{type:"notEnoughStorage",linkName:"More information"});Ie(Ke,"showNotEnoughStoragePopup",
"1",-1,"/")}}};f.$h=function(){if(!1===eJ()){var a=this.view,b=fW,c=xC.j();eW(a,b,l(c.h[c.h.length-1-c.g]),"Click here to undo the last action");a=this.view;b=gW;c=xC.j();eW(a,b,l(c.c[c.c.length-c.g]),"Click here to redo the last action")}};I.j().register("wnd.tb.ToolbarContent",M,cW,iW);function mW(a){Ci.call(this,a,Od)}n(mW,Ci);mW.prototype.init=function(){};mW.prototype.ma=function(a){mW.m.ma.call(this,a);"openProjectSettings"===a.getType()&&E.j().create("wnd.ps.SettingsPopup","wnd-settings-popup",document.body,this,{},{extendCssClass:"wnd-ps"})};function nW(a){Ci.call(this,a,Pd);this.c=null}n(nW,Ci);nW.prototype.init=function(){this.c=I.j().create(Pd.ToolbarContent.mvcId,"wnd.tb.ToolbarContent",Um(Pd.ToolbarContent.cssIdentifier),this);if(""!==location.hash){for(var a=location.hash.substr(1).split("&"),b=!1,c=0,d=a.length;c<d;c++){var e=a[c].split("=");if("activate"===e[0])switch(e[1]){case "wnd.pm.PagesAdminPopup":kW(this.c,"pages"),b=!0}}b&&(location.hash="")}};
nW.prototype.ma=function(a){nW.m.ma.call(this,a);if("children_propagation"===a.h&&null!=a.c){for(var b=a.c;b.getParent();)b=b.getParent();b===this&&Di(bg.j(),a,"wnd.tb")}};window.onunload=function(){jV(!0)};function oW(){bg.j().get("wnd.pc").resize()}function pW(){var a=bg.j().get("wnd.pc");a.M&&clearTimeout(a.M);a.M=setTimeout(m(a.fk,a,"scrollWindow"),100)}function qW(){if(dq=!dq){var a=tg.j();wg(vg(a),!1);var b=ug(),c=Ke.get(b);c&&!qg(new pg(b),c).equals(a.c[a.h])&&(a.c[a.h].Sq=!0)}if(a=dq)a=tg.j(),a=a.c[a.h].Sq;a&&window.location.reload()}function rW(){bg.j().get("wnd.pc").focus()}function sW(){bg.j().get("wnd.pc").blur()}
window.onload=function(){window.onresize=oW;window.onscroll=pW;window.onfocus=rW;window.onblur=sW;var a="";l(document.hidden)?a="visibilitychange":l(document.mozHidden)?a="mozvisibilitychange":l(document.msHidden)?a="msvisibilitychange":l(document.webkitHidden)&&(a="webkitvisibilitychange");document.addEventListener(a,qW,!1);t=window.wnd.$system;Mh=window.wnd.$data;zf=window.wnd.$datachecksum;kf=window.wnd.$metadata;Iz=window.wnd.$defaultdata;wg(vg(tg.j()),!0);for(var a=Ke.yd(),b=0;b<a.length;b++)0==
a[b].lastIndexOf("windowId__",0)&&Ie(Ke,a[b],"0",-1,"/");Fg.j().init();bg.j().register("wnd.pm",lV);bg.j().register("wnd.ps",mW);bg.j().register("wnd.tb",nW);bg.j().register("wnd.pc",vU);bg.j().init();jV(!1);a=nM.j();aw(a.h);aw(a.g)};
window.onbeforeunload=function(a){for(var b=Ke.yd(),c=0;c<b.length;c++)0==b[c].lastIndexOf("windowId__",0)&&Ie(Ke,b[c],"0",-1,"/");Ie(Ke,"windowId__"+t.windowId,"1",-1,"/");if(Ng(I.j(),x.PageZoneModel.ZoneId)){var b=I.j().get(x.PageZoneModel.ZoneId),c=Qh.j(),d=!1;l(c)&&(d=c.al);if(!d&&(fS(b)||l(c)&&!D(c.g)))return ES(b),(a||window.event).returnValue="Your changes were not saved!"}jV(!0)};if(!Mh)var Mh={};if(!zf)var zf={};if(!kf)var kf={};if(!Iz)var Iz={};if(!t)var t={};if(!Ra)var Ra={};
if(!tW)var tW={};var uW=null,vW=null;function jV(a){uW||(uW=document.getElementById("wnd_init_loading"));uW&&(uW.style.display=a?"":"none");if("?aw=1"==location.search&&a&&null===vW){vW=document.createElement("div");vW.className="wnd-base wnd-loading-text";vW.innerHTML="Wait please...";var b=document.querySelector(".wnd-loading.init");b&&b.appendChild(vW)}!a&&vW&&(vW.parentNode.removeChild(vW),vW=null)}jV(!0);
Ra.kc=function(a,b){if(null!=Ra.instance&&Ra.events[a]){var c=Ra.data;c.action.identifier=a;c.action.name=Ra.events[a].name;c.browser.resolution=window.screen.width+"x"+window.screen.height;b&&(c=gf(c,b));Ra.instance.addEvent("PROD",c,function(){})}};xa("wnd.keen",Ra);Ra.addKeenEvent=Ra.kc;
}({}));